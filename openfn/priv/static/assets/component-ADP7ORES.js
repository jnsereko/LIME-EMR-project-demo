import {
  createStore,
  require_client,
  require_react_dom,
  require_with_selector,
  useStore
} from "./chunk-LDSAW7ZG.js";
import {
  CheckCircleIcon_default,
  ClockIcon_default,
  ExclamationCircleIcon_default,
  GlobeAltIcon_default,
  InformationCircleIcon_default,
  XMarkIcon_default
} from "./chunk-IWBQXAYF.js";
import {
  DEFAULT_TEXT,
  __commonJS,
  __toESM,
  require_react
} from "./chunk-RI5X6ZOO.js";

// node_modules/cronstrue/dist/cronstrue.js
var require_cronstrue = __commonJS({
  "node_modules/cronstrue/dist/cronstrue.js"(exports, module) {
    (function webpackUniversalModuleDefinition(root2, factory) {
      if (typeof exports === "object" && typeof module === "object")
        module.exports = factory();
      else if (typeof define === "function" && define.amd)
        define("cronstrue", [], factory);
      else if (typeof exports === "object")
        exports["cronstrue"] = factory();
      else
        root2["cronstrue"] = factory();
    })(globalThis, () => {
      return (
        /******/
        (() => {
          "use strict";
          var __webpack_modules__ = {
            /***/
            794: (
              /***/
              (__unused_webpack_module, exports2, __webpack_require__2) => {
                Object.defineProperty(exports2, "__esModule", { value: true });
                exports2.CronParser = void 0;
                var rangeValidator_1 = __webpack_require__2(586);
                var CronParser = function() {
                  function CronParser2(expression, dayOfWeekStartIndexZero, monthStartIndexZero) {
                    if (dayOfWeekStartIndexZero === void 0) {
                      dayOfWeekStartIndexZero = true;
                    }
                    if (monthStartIndexZero === void 0) {
                      monthStartIndexZero = false;
                    }
                    this.expression = expression;
                    this.dayOfWeekStartIndexZero = dayOfWeekStartIndexZero;
                    this.monthStartIndexZero = monthStartIndexZero;
                  }
                  CronParser2.prototype.parse = function() {
                    var parsed = this.extractParts(this.expression);
                    this.normalize(parsed);
                    this.validate(parsed);
                    return parsed;
                  };
                  CronParser2.prototype.extractParts = function(expression) {
                    if (!this.expression) {
                      throw new Error("Expression is empty");
                    }
                    var parsed = expression.trim().split(/[ ]+/);
                    if (parsed.length < 5) {
                      throw new Error("Expression has only ".concat(parsed.length, " part").concat(parsed.length == 1 ? "" : "s", ". At least 5 parts are required."));
                    } else if (parsed.length == 5) {
                      parsed.unshift("");
                      parsed.push("");
                    } else if (parsed.length == 6) {
                      var isYearWithNoSecondsPart = /\d{4}$/.test(parsed[5]) || parsed[4] == "?" || parsed[2] == "?";
                      if (isYearWithNoSecondsPart) {
                        parsed.unshift("");
                      } else {
                        parsed.push("");
                      }
                    } else if (parsed.length > 7) {
                      throw new Error("Expression has ".concat(parsed.length, " parts; too many!"));
                    }
                    return parsed;
                  };
                  CronParser2.prototype.normalize = function(expressionParts) {
                    var _this = this;
                    expressionParts[3] = expressionParts[3].replace("?", "*");
                    expressionParts[5] = expressionParts[5].replace("?", "*");
                    expressionParts[2] = expressionParts[2].replace("?", "*");
                    if (expressionParts[0].indexOf("0/") == 0) {
                      expressionParts[0] = expressionParts[0].replace("0/", "*/");
                    }
                    if (expressionParts[1].indexOf("0/") == 0) {
                      expressionParts[1] = expressionParts[1].replace("0/", "*/");
                    }
                    if (expressionParts[2].indexOf("0/") == 0) {
                      expressionParts[2] = expressionParts[2].replace("0/", "*/");
                    }
                    if (expressionParts[3].indexOf("1/") == 0) {
                      expressionParts[3] = expressionParts[3].replace("1/", "*/");
                    }
                    if (expressionParts[4].indexOf("1/") == 0) {
                      expressionParts[4] = expressionParts[4].replace("1/", "*/");
                    }
                    if (expressionParts[6].indexOf("1/") == 0) {
                      expressionParts[6] = expressionParts[6].replace("1/", "*/");
                    }
                    expressionParts[5] = expressionParts[5].replace(/(^\d)|([^#/\s]\d)/g, function(t) {
                      var dowDigits = t.replace(/\D/, "");
                      var dowDigitsAdjusted = dowDigits;
                      if (_this.dayOfWeekStartIndexZero) {
                        if (dowDigits == "7") {
                          dowDigitsAdjusted = "0";
                        }
                      } else {
                        dowDigitsAdjusted = (parseInt(dowDigits) - 1).toString();
                      }
                      return t.replace(dowDigits, dowDigitsAdjusted);
                    });
                    if (expressionParts[5] == "L") {
                      expressionParts[5] = "6";
                    }
                    if (expressionParts[3] == "?") {
                      expressionParts[3] = "*";
                    }
                    if (expressionParts[3].indexOf("W") > -1 && (expressionParts[3].indexOf(",") > -1 || expressionParts[3].indexOf("-") > -1)) {
                      throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");
                    }
                    var days = {
                      SUN: 0,
                      MON: 1,
                      TUE: 2,
                      WED: 3,
                      THU: 4,
                      FRI: 5,
                      SAT: 6
                    };
                    for (var day in days) {
                      expressionParts[5] = expressionParts[5].replace(new RegExp(day, "gi"), days[day].toString());
                    }
                    expressionParts[4] = expressionParts[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g, function(t) {
                      var dowDigits = t.replace(/\D/, "");
                      var dowDigitsAdjusted = dowDigits;
                      if (_this.monthStartIndexZero) {
                        dowDigitsAdjusted = (parseInt(dowDigits) + 1).toString();
                      }
                      return t.replace(dowDigits, dowDigitsAdjusted);
                    });
                    var months = {
                      JAN: 1,
                      FEB: 2,
                      MAR: 3,
                      APR: 4,
                      MAY: 5,
                      JUN: 6,
                      JUL: 7,
                      AUG: 8,
                      SEP: 9,
                      OCT: 10,
                      NOV: 11,
                      DEC: 12
                    };
                    for (var month in months) {
                      expressionParts[4] = expressionParts[4].replace(new RegExp(month, "gi"), months[month].toString());
                    }
                    if (expressionParts[0] == "0") {
                      expressionParts[0] = "";
                    }
                    if (!/\*|\-|\,|\//.test(expressionParts[2]) && (/\*|\//.test(expressionParts[1]) || /\*|\//.test(expressionParts[0]))) {
                      expressionParts[2] += "-".concat(expressionParts[2]);
                    }
                    for (var i = 0; i < expressionParts.length; i++) {
                      if (expressionParts[i].indexOf(",") != -1) {
                        expressionParts[i] = expressionParts[i].split(",").filter(function(str) {
                          return str !== "";
                        }).join(",") || "*";
                      }
                      if (expressionParts[i] == "*/1") {
                        expressionParts[i] = "*";
                      }
                      if (expressionParts[i].indexOf("/") > -1 && !/^\*|\-|\,/.test(expressionParts[i])) {
                        var stepRangeThrough = null;
                        switch (i) {
                          case 4:
                            stepRangeThrough = "12";
                            break;
                          case 5:
                            stepRangeThrough = "6";
                            break;
                          case 6:
                            stepRangeThrough = "9999";
                            break;
                          default:
                            stepRangeThrough = null;
                            break;
                        }
                        if (stepRangeThrough !== null) {
                          var parts = expressionParts[i].split("/");
                          expressionParts[i] = "".concat(parts[0], "-").concat(stepRangeThrough, "/").concat(parts[1]);
                        }
                      }
                    }
                  };
                  CronParser2.prototype.validate = function(parsed) {
                    this.assertNoInvalidCharacters("DOW", parsed[5]);
                    this.assertNoInvalidCharacters("DOM", parsed[3]);
                    this.validateRange(parsed);
                  };
                  CronParser2.prototype.validateRange = function(parsed) {
                    rangeValidator_1.default.secondRange(parsed[0]);
                    rangeValidator_1.default.minuteRange(parsed[1]);
                    rangeValidator_1.default.hourRange(parsed[2]);
                    rangeValidator_1.default.dayOfMonthRange(parsed[3]);
                    rangeValidator_1.default.monthRange(parsed[4], this.monthStartIndexZero);
                    rangeValidator_1.default.dayOfWeekRange(parsed[5], this.dayOfWeekStartIndexZero);
                  };
                  CronParser2.prototype.assertNoInvalidCharacters = function(partDescription, expression) {
                    var invalidChars = expression.match(/[A-KM-VX-Z]+/gi);
                    if (invalidChars && invalidChars.length) {
                      throw new Error("".concat(partDescription, " part contains invalid values: '").concat(invalidChars.toString(), "'"));
                    }
                  };
                  return CronParser2;
                }();
                exports2.CronParser = CronParser;
              }
            ),
            /***/
            728: (
              /***/
              (__unused_webpack_module, exports2, __webpack_require__2) => {
                Object.defineProperty(exports2, "__esModule", { value: true });
                exports2.ExpressionDescriptor = void 0;
                var stringUtilities_1 = __webpack_require__2(910);
                var cronParser_1 = __webpack_require__2(794);
                var ExpressionDescriptor = function() {
                  function ExpressionDescriptor2(expression, options) {
                    this.expression = expression;
                    this.options = options;
                    this.expressionParts = new Array(5);
                    if (!this.options.locale && ExpressionDescriptor2.defaultLocale) {
                      this.options.locale = ExpressionDescriptor2.defaultLocale;
                    }
                    if (!ExpressionDescriptor2.locales[this.options.locale]) {
                      var fallBackLocale = Object.keys(ExpressionDescriptor2.locales)[0];
                      console.warn("Locale '".concat(this.options.locale, "' could not be found; falling back to '").concat(fallBackLocale, "'."));
                      this.options.locale = fallBackLocale;
                    }
                    this.i18n = ExpressionDescriptor2.locales[this.options.locale];
                    if (options.use24HourTimeFormat === void 0) {
                      options.use24HourTimeFormat = this.i18n.use24HourTimeFormatByDefault();
                    }
                  }
                  ExpressionDescriptor2.toString = function(expression, _a) {
                    var _b = _a === void 0 ? {} : _a, _c = _b.throwExceptionOnParseError, throwExceptionOnParseError = _c === void 0 ? true : _c, _d = _b.verbose, verbose = _d === void 0 ? false : _d, _e = _b.dayOfWeekStartIndexZero, dayOfWeekStartIndexZero = _e === void 0 ? true : _e, _f = _b.monthStartIndexZero, monthStartIndexZero = _f === void 0 ? false : _f, use24HourTimeFormat = _b.use24HourTimeFormat, _g = _b.locale, locale = _g === void 0 ? null : _g, _h = _b.tzOffset, tzOffset = _h === void 0 ? 0 : _h;
                    var options = {
                      throwExceptionOnParseError,
                      verbose,
                      dayOfWeekStartIndexZero,
                      monthStartIndexZero,
                      use24HourTimeFormat,
                      locale,
                      tzOffset
                    };
                    var descripter = new ExpressionDescriptor2(expression, options);
                    return descripter.getFullDescription();
                  };
                  ExpressionDescriptor2.initialize = function(localesLoader, defaultLocale) {
                    if (defaultLocale === void 0) {
                      defaultLocale = "en";
                    }
                    ExpressionDescriptor2.specialCharacters = ["/", "-", ",", "*"];
                    ExpressionDescriptor2.defaultLocale = defaultLocale;
                    localesLoader.load(ExpressionDescriptor2.locales);
                  };
                  ExpressionDescriptor2.prototype.getFullDescription = function() {
                    var description = "";
                    try {
                      var parser = new cronParser_1.CronParser(this.expression, this.options.dayOfWeekStartIndexZero, this.options.monthStartIndexZero);
                      this.expressionParts = parser.parse();
                      var timeSegment = this.getTimeOfDayDescription();
                      var dayOfMonthDesc = this.getDayOfMonthDescription();
                      var monthDesc = this.getMonthDescription();
                      var dayOfWeekDesc = this.getDayOfWeekDescription();
                      var yearDesc = this.getYearDescription();
                      description += timeSegment + dayOfMonthDesc + dayOfWeekDesc + monthDesc + yearDesc;
                      description = this.transformVerbosity(description, !!this.options.verbose);
                      description = description.charAt(0).toLocaleUpperCase() + description.substr(1);
                    } catch (ex) {
                      if (!this.options.throwExceptionOnParseError) {
                        description = this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();
                      } else {
                        throw "".concat(ex);
                      }
                    }
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getTimeOfDayDescription = function() {
                    var secondsExpression = this.expressionParts[0];
                    var minuteExpression = this.expressionParts[1];
                    var hourExpression = this.expressionParts[2];
                    var description = "";
                    if (!stringUtilities_1.StringUtilities.containsAny(minuteExpression, ExpressionDescriptor2.specialCharacters) && !stringUtilities_1.StringUtilities.containsAny(hourExpression, ExpressionDescriptor2.specialCharacters) && !stringUtilities_1.StringUtilities.containsAny(secondsExpression, ExpressionDescriptor2.specialCharacters)) {
                      description += this.i18n.atSpace() + this.formatTime(hourExpression, minuteExpression, secondsExpression);
                    } else if (!secondsExpression && minuteExpression.indexOf("-") > -1 && !(minuteExpression.indexOf(",") > -1) && !(minuteExpression.indexOf("/") > -1) && !stringUtilities_1.StringUtilities.containsAny(hourExpression, ExpressionDescriptor2.specialCharacters)) {
                      var minuteParts = minuteExpression.split("-");
                      description += stringUtilities_1.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(), this.formatTime(hourExpression, minuteParts[0], ""), this.formatTime(hourExpression, minuteParts[1], ""));
                    } else if (!secondsExpression && hourExpression.indexOf(",") > -1 && hourExpression.indexOf("-") == -1 && hourExpression.indexOf("/") == -1 && !stringUtilities_1.StringUtilities.containsAny(minuteExpression, ExpressionDescriptor2.specialCharacters)) {
                      var hourParts = hourExpression.split(",");
                      description += this.i18n.at();
                      for (var i = 0; i < hourParts.length; i++) {
                        description += " ";
                        description += this.formatTime(hourParts[i], minuteExpression, "");
                        if (i < hourParts.length - 2) {
                          description += ",";
                        }
                        if (i == hourParts.length - 2) {
                          description += this.i18n.spaceAnd();
                        }
                      }
                    } else {
                      var secondsDescription = this.getSecondsDescription();
                      var minutesDescription = this.getMinutesDescription();
                      var hoursDescription = this.getHoursDescription();
                      description += secondsDescription;
                      if (description && minutesDescription) {
                        description += ", ";
                      }
                      description += minutesDescription;
                      if (minutesDescription === hoursDescription) {
                        return description;
                      }
                      if (description && hoursDescription) {
                        description += ", ";
                      }
                      description += hoursDescription;
                    }
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getSecondsDescription = function() {
                    var _this = this;
                    var description = this.getSegmentDescription(this.expressionParts[0], this.i18n.everySecond(), function(s) {
                      return s;
                    }, function(s) {
                      return stringUtilities_1.StringUtilities.format(_this.i18n.everyX0Seconds(s), s);
                    }, function(s) {
                      return _this.i18n.secondsX0ThroughX1PastTheMinute();
                    }, function(s) {
                      return s == "0" ? "" : parseInt(s) < 20 ? _this.i18n.atX0SecondsPastTheMinute(s) : _this.i18n.atX0SecondsPastTheMinuteGt20() || _this.i18n.atX0SecondsPastTheMinute(s);
                    });
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getMinutesDescription = function() {
                    var _this = this;
                    var secondsExpression = this.expressionParts[0];
                    var hourExpression = this.expressionParts[2];
                    var description = this.getSegmentDescription(this.expressionParts[1], this.i18n.everyMinute(), function(s) {
                      return s;
                    }, function(s) {
                      return stringUtilities_1.StringUtilities.format(_this.i18n.everyX0Minutes(s), s);
                    }, function(s) {
                      return _this.i18n.minutesX0ThroughX1PastTheHour();
                    }, function(s) {
                      try {
                        return s == "0" && hourExpression.indexOf("/") == -1 && secondsExpression == "" ? _this.i18n.everyHour() : parseInt(s) < 20 ? _this.i18n.atX0MinutesPastTheHour(s) : _this.i18n.atX0MinutesPastTheHourGt20() || _this.i18n.atX0MinutesPastTheHour(s);
                      } catch (e) {
                        return _this.i18n.atX0MinutesPastTheHour(s);
                      }
                    });
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getHoursDescription = function() {
                    var _this = this;
                    var expression = this.expressionParts[2];
                    var description = this.getSegmentDescription(expression, this.i18n.everyHour(), function(s) {
                      return _this.formatTime(s, "0", "");
                    }, function(s) {
                      return stringUtilities_1.StringUtilities.format(_this.i18n.everyX0Hours(s), s);
                    }, function(s) {
                      return _this.i18n.betweenX0AndX1();
                    }, function(s) {
                      return _this.i18n.atX0();
                    });
                    if (description && expression.includes("-") && this.expressionParts[1] != "0") {
                      var atTheHourMatches = Array.from(description.matchAll(/:00/g));
                      if (atTheHourMatches.length > 1) {
                        var lastAtTheHourMatchIndex = atTheHourMatches[atTheHourMatches.length - 1].index;
                        description = description.substring(0, lastAtTheHourMatchIndex) + ":59" + description.substring(lastAtTheHourMatchIndex + 3);
                      }
                    }
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getDayOfWeekDescription = function() {
                    var _this = this;
                    var daysOfWeekNames = this.i18n.daysOfTheWeek();
                    var description = null;
                    if (this.expressionParts[5] == "*") {
                      description = "";
                    } else {
                      description = this.getSegmentDescription(this.expressionParts[5], this.i18n.commaEveryDay(), function(s, form) {
                        var exp = s;
                        if (s.indexOf("#") > -1) {
                          exp = s.substring(0, s.indexOf("#"));
                        } else if (s.indexOf("L") > -1) {
                          exp = exp.replace("L", "");
                        }
                        var parsedExp = parseInt(exp);
                        if (_this.options.tzOffset) {
                          var hourExpression = _this.expressionParts[2];
                          var hour = parseInt(hourExpression) + (_this.options.tzOffset ? _this.options.tzOffset : 0);
                          if (hour >= 24) {
                            parsedExp++;
                          } else if (hour < 0) {
                            parsedExp--;
                          }
                          if (parsedExp > 6) {
                            parsedExp = 0;
                          } else if (parsedExp < 0) {
                            parsedExp = 6;
                          }
                        }
                        var description2 = _this.i18n.daysOfTheWeekInCase ? _this.i18n.daysOfTheWeekInCase(form)[parsedExp] : daysOfWeekNames[parsedExp];
                        if (s.indexOf("#") > -1) {
                          var dayOfWeekOfMonthDescription = null;
                          var dayOfWeekOfMonthNumber = s.substring(s.indexOf("#") + 1);
                          var dayOfWeekNumber = s.substring(0, s.indexOf("#"));
                          switch (dayOfWeekOfMonthNumber) {
                            case "1":
                              dayOfWeekOfMonthDescription = _this.i18n.first(dayOfWeekNumber);
                              break;
                            case "2":
                              dayOfWeekOfMonthDescription = _this.i18n.second(dayOfWeekNumber);
                              break;
                            case "3":
                              dayOfWeekOfMonthDescription = _this.i18n.third(dayOfWeekNumber);
                              break;
                            case "4":
                              dayOfWeekOfMonthDescription = _this.i18n.fourth(dayOfWeekNumber);
                              break;
                            case "5":
                              dayOfWeekOfMonthDescription = _this.i18n.fifth(dayOfWeekNumber);
                              break;
                          }
                          description2 = dayOfWeekOfMonthDescription + " " + description2;
                        }
                        return description2;
                      }, function(s) {
                        if (parseInt(s) == 1) {
                          return "";
                        } else {
                          return stringUtilities_1.StringUtilities.format(_this.i18n.commaEveryX0DaysOfTheWeek(s), s);
                        }
                      }, function(s) {
                        var beginFrom = s.substring(0, s.indexOf("-"));
                        var domSpecified = _this.expressionParts[3] != "*";
                        return domSpecified ? _this.i18n.commaAndX0ThroughX1(beginFrom) : _this.i18n.commaX0ThroughX1(beginFrom);
                      }, function(s) {
                        var format = null;
                        if (s.indexOf("#") > -1) {
                          var dayOfWeekOfMonthNumber = s.substring(s.indexOf("#") + 1);
                          format = _this.i18n.commaOnThe(dayOfWeekOfMonthNumber).trim() + _this.i18n.spaceX0OfTheMonth();
                        } else if (s.indexOf("L") > -1) {
                          format = _this.i18n.commaOnTheLastX0OfTheMonth(s.replace("L", ""));
                        } else {
                          var domSpecified = _this.expressionParts[3] != "*";
                          format = domSpecified ? _this.i18n.commaAndOnX0() : _this.i18n.commaOnlyOnX0(s);
                        }
                        return format;
                      });
                    }
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getMonthDescription = function() {
                    var _this = this;
                    var monthNames = this.i18n.monthsOfTheYear();
                    var description = this.getSegmentDescription(this.expressionParts[4], "", function(s, form) {
                      return form && _this.i18n.monthsOfTheYearInCase ? _this.i18n.monthsOfTheYearInCase(form)[parseInt(s) - 1] : monthNames[parseInt(s) - 1];
                    }, function(s) {
                      if (parseInt(s) == 1) {
                        return "";
                      } else {
                        return stringUtilities_1.StringUtilities.format(_this.i18n.commaEveryX0Months(s), s);
                      }
                    }, function(s) {
                      return _this.i18n.commaMonthX0ThroughMonthX1() || _this.i18n.commaX0ThroughX1();
                    }, function(s) {
                      return _this.i18n.commaOnlyInMonthX0 ? _this.i18n.commaOnlyInMonthX0() : _this.i18n.commaOnlyInX0();
                    });
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getDayOfMonthDescription = function() {
                    var _this = this;
                    var description = null;
                    var expression = this.expressionParts[3];
                    switch (expression) {
                      case "L":
                        description = this.i18n.commaOnTheLastDayOfTheMonth();
                        break;
                      case "WL":
                      case "LW":
                        description = this.i18n.commaOnTheLastWeekdayOfTheMonth();
                        break;
                      default:
                        var weekDayNumberMatches = expression.match(/(\d{1,2}W)|(W\d{1,2})/);
                        if (weekDayNumberMatches) {
                          var dayNumber = parseInt(weekDayNumberMatches[0].replace("W", ""));
                          var dayString = dayNumber == 1 ? this.i18n.firstWeekday() : stringUtilities_1.StringUtilities.format(this.i18n.weekdayNearestDayX0(), dayNumber.toString());
                          description = stringUtilities_1.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(), dayString);
                          break;
                        } else {
                          var lastDayOffSetMatches = expression.match(/L-(\d{1,2})/);
                          if (lastDayOffSetMatches) {
                            var offSetDays = lastDayOffSetMatches[1];
                            description = stringUtilities_1.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(offSetDays), offSetDays);
                            break;
                          } else if (expression == "*" && this.expressionParts[5] != "*") {
                            return "";
                          } else {
                            description = this.getSegmentDescription(expression, this.i18n.commaEveryDay(), function(s) {
                              return s == "L" ? _this.i18n.lastDay() : _this.i18n.dayX0 ? stringUtilities_1.StringUtilities.format(_this.i18n.dayX0(), s) : s;
                            }, function(s) {
                              return s == "1" ? _this.i18n.commaEveryDay() : _this.i18n.commaEveryX0Days(s);
                            }, function(s) {
                              return _this.i18n.commaBetweenDayX0AndX1OfTheMonth(s);
                            }, function(s) {
                              return _this.i18n.commaOnDayX0OfTheMonth(s);
                            });
                          }
                          break;
                        }
                    }
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getYearDescription = function() {
                    var _this = this;
                    var description = this.getSegmentDescription(this.expressionParts[6], "", function(s) {
                      return /^\d+$/.test(s) ? new Date(parseInt(s), 1).getFullYear().toString() : s;
                    }, function(s) {
                      return stringUtilities_1.StringUtilities.format(_this.i18n.commaEveryX0Years(s), s);
                    }, function(s) {
                      return _this.i18n.commaYearX0ThroughYearX1() || _this.i18n.commaX0ThroughX1();
                    }, function(s) {
                      return _this.i18n.commaOnlyInYearX0 ? _this.i18n.commaOnlyInYearX0() : _this.i18n.commaOnlyInX0();
                    });
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getSegmentDescription = function(expression, allDescription, getSingleItemDescription, getIncrementDescriptionFormat, getRangeDescriptionFormat, getDescriptionFormat) {
                    var description = null;
                    var doesExpressionContainIncrement = expression.indexOf("/") > -1;
                    var doesExpressionContainRange = expression.indexOf("-") > -1;
                    var doesExpressionContainMultipleValues = expression.indexOf(",") > -1;
                    if (!expression) {
                      description = "";
                    } else if (expression === "*") {
                      description = allDescription;
                    } else if (!doesExpressionContainIncrement && !doesExpressionContainRange && !doesExpressionContainMultipleValues) {
                      description = stringUtilities_1.StringUtilities.format(getDescriptionFormat(expression), getSingleItemDescription(expression));
                    } else if (doesExpressionContainMultipleValues) {
                      var segments = expression.split(",");
                      var descriptionContent = "";
                      for (var i = 0; i < segments.length; i++) {
                        if (i > 0 && segments.length > 2) {
                          descriptionContent += ",";
                          if (i < segments.length - 1) {
                            descriptionContent += " ";
                          }
                        }
                        if (i > 0 && segments.length > 1 && (i == segments.length - 1 || segments.length == 2)) {
                          descriptionContent += "".concat(this.i18n.spaceAnd(), " ");
                        }
                        if (segments[i].indexOf("/") > -1 || segments[i].indexOf("-") > -1) {
                          var isSegmentRangeWithoutIncrement = segments[i].indexOf("-") > -1 && segments[i].indexOf("/") == -1;
                          var currentDescriptionContent = this.getSegmentDescription(segments[i], allDescription, getSingleItemDescription, getIncrementDescriptionFormat, isSegmentRangeWithoutIncrement ? this.i18n.commaX0ThroughX1 : getRangeDescriptionFormat, getDescriptionFormat);
                          if (isSegmentRangeWithoutIncrement) {
                            currentDescriptionContent = currentDescriptionContent.replace(", ", "");
                          }
                          descriptionContent += currentDescriptionContent;
                        } else if (!doesExpressionContainIncrement) {
                          descriptionContent += getSingleItemDescription(segments[i]);
                        } else {
                          descriptionContent += this.getSegmentDescription(segments[i], allDescription, getSingleItemDescription, getIncrementDescriptionFormat, getRangeDescriptionFormat, getDescriptionFormat);
                        }
                      }
                      if (!doesExpressionContainIncrement) {
                        description = stringUtilities_1.StringUtilities.format(getDescriptionFormat(expression), descriptionContent);
                      } else {
                        description = descriptionContent;
                      }
                    } else if (doesExpressionContainIncrement) {
                      var segments = expression.split("/");
                      description = stringUtilities_1.StringUtilities.format(getIncrementDescriptionFormat(segments[1]), segments[1]);
                      if (segments[0].indexOf("-") > -1) {
                        var rangeSegmentDescription = this.generateRangeSegmentDescription(segments[0], getRangeDescriptionFormat, getSingleItemDescription);
                        if (rangeSegmentDescription.indexOf(", ") != 0) {
                          description += ", ";
                        }
                        description += rangeSegmentDescription;
                      } else if (segments[0].indexOf("*") == -1) {
                        var rangeItemDescription = stringUtilities_1.StringUtilities.format(getDescriptionFormat(segments[0]), getSingleItemDescription(segments[0]));
                        rangeItemDescription = rangeItemDescription.replace(", ", "");
                        description += stringUtilities_1.StringUtilities.format(this.i18n.commaStartingX0(), rangeItemDescription);
                      }
                    } else if (doesExpressionContainRange) {
                      description = this.generateRangeSegmentDescription(expression, getRangeDescriptionFormat, getSingleItemDescription);
                    }
                    return description;
                  };
                  ExpressionDescriptor2.prototype.generateRangeSegmentDescription = function(rangeExpression, getRangeDescriptionFormat, getSingleItemDescription) {
                    var description = "";
                    var rangeSegments = rangeExpression.split("-");
                    var rangeSegment1Description = getSingleItemDescription(rangeSegments[0], 1);
                    var rangeSegment2Description = getSingleItemDescription(rangeSegments[1], 2);
                    var rangeDescriptionFormat = getRangeDescriptionFormat(rangeExpression);
                    description += stringUtilities_1.StringUtilities.format(rangeDescriptionFormat, rangeSegment1Description, rangeSegment2Description);
                    return description;
                  };
                  ExpressionDescriptor2.prototype.formatTime = function(hourExpression, minuteExpression, secondExpression) {
                    var hourOffset = 0;
                    var minuteOffset = 0;
                    if (this.options.tzOffset) {
                      hourOffset = this.options.tzOffset > 0 ? Math.floor(this.options.tzOffset) : Math.ceil(this.options.tzOffset);
                      minuteOffset = parseFloat((this.options.tzOffset % 1).toFixed(2));
                      if (minuteOffset != 0) {
                        minuteOffset *= 60;
                      }
                    }
                    var hour = parseInt(hourExpression) + hourOffset;
                    var minute = parseInt(minuteExpression) + minuteOffset;
                    if (minute >= 60) {
                      minute -= 60;
                      hour += 1;
                    } else if (minute < 0) {
                      minute += 60;
                      hour -= 1;
                    }
                    if (hour >= 24) {
                      hour = hour - 24;
                    } else if (hour < 0) {
                      hour = 24 + hour;
                    }
                    var period = "";
                    var setPeriodBeforeTime = false;
                    if (!this.options.use24HourTimeFormat) {
                      setPeriodBeforeTime = !!(this.i18n.setPeriodBeforeTime && this.i18n.setPeriodBeforeTime());
                      period = setPeriodBeforeTime ? "".concat(this.getPeriod(hour), " ") : " ".concat(this.getPeriod(hour));
                      if (hour > 12) {
                        hour -= 12;
                      }
                      if (hour === 0) {
                        hour = 12;
                      }
                    }
                    var second = "";
                    if (secondExpression) {
                      second = ":".concat(("00" + secondExpression).substring(secondExpression.length));
                    }
                    return "".concat(setPeriodBeforeTime ? period : "").concat(("00" + hour.toString()).substring(hour.toString().length), ":").concat(("00" + minute.toString()).substring(minute.toString().length)).concat(second).concat(!setPeriodBeforeTime ? period : "");
                  };
                  ExpressionDescriptor2.prototype.transformVerbosity = function(description, useVerboseFormat) {
                    if (!useVerboseFormat) {
                      description = description.replace(new RegExp(", ".concat(this.i18n.everyMinute()), "g"), "");
                      description = description.replace(new RegExp(", ".concat(this.i18n.everyHour()), "g"), "");
                      description = description.replace(new RegExp(this.i18n.commaEveryDay(), "g"), "");
                      description = description.replace(/\, ?$/, "");
                    }
                    return description;
                  };
                  ExpressionDescriptor2.prototype.getPeriod = function(hour) {
                    return hour >= 12 ? this.i18n.pm && this.i18n.pm() || "PM" : this.i18n.am && this.i18n.am() || "AM";
                  };
                  ExpressionDescriptor2.locales = {};
                  return ExpressionDescriptor2;
                }();
                exports2.ExpressionDescriptor = ExpressionDescriptor;
              }
            ),
            /***/
            336: (
              /***/
              (__unused_webpack_module, exports2, __webpack_require__2) => {
                Object.defineProperty(exports2, "__esModule", { value: true });
                exports2.enLocaleLoader = void 0;
                var en_1 = __webpack_require__2(751);
                var enLocaleLoader = function() {
                  function enLocaleLoader2() {
                  }
                  enLocaleLoader2.prototype.load = function(availableLocales) {
                    availableLocales["en"] = new en_1.en();
                  };
                  return enLocaleLoader2;
                }();
                exports2.enLocaleLoader = enLocaleLoader;
              }
            ),
            /***/
            751: (
              /***/
              (__unused_webpack_module, exports2) => {
                Object.defineProperty(exports2, "__esModule", { value: true });
                exports2.en = void 0;
                var en = function() {
                  function en2() {
                  }
                  en2.prototype.atX0SecondsPastTheMinuteGt20 = function() {
                    return null;
                  };
                  en2.prototype.atX0MinutesPastTheHourGt20 = function() {
                    return null;
                  };
                  en2.prototype.commaMonthX0ThroughMonthX1 = function() {
                    return null;
                  };
                  en2.prototype.commaYearX0ThroughYearX1 = function() {
                    return null;
                  };
                  en2.prototype.use24HourTimeFormatByDefault = function() {
                    return false;
                  };
                  en2.prototype.anErrorOccuredWhenGeneratingTheExpressionD = function() {
                    return "An error occured when generating the expression description.  Check the cron expression syntax.";
                  };
                  en2.prototype.everyMinute = function() {
                    return "every minute";
                  };
                  en2.prototype.everyHour = function() {
                    return "every hour";
                  };
                  en2.prototype.atSpace = function() {
                    return "At ";
                  };
                  en2.prototype.everyMinuteBetweenX0AndX1 = function() {
                    return "Every minute between %s and %s";
                  };
                  en2.prototype.at = function() {
                    return "At";
                  };
                  en2.prototype.spaceAnd = function() {
                    return " and";
                  };
                  en2.prototype.everySecond = function() {
                    return "every second";
                  };
                  en2.prototype.everyX0Seconds = function() {
                    return "every %s seconds";
                  };
                  en2.prototype.secondsX0ThroughX1PastTheMinute = function() {
                    return "seconds %s through %s past the minute";
                  };
                  en2.prototype.atX0SecondsPastTheMinute = function() {
                    return "at %s seconds past the minute";
                  };
                  en2.prototype.everyX0Minutes = function() {
                    return "every %s minutes";
                  };
                  en2.prototype.minutesX0ThroughX1PastTheHour = function() {
                    return "minutes %s through %s past the hour";
                  };
                  en2.prototype.atX0MinutesPastTheHour = function() {
                    return "at %s minutes past the hour";
                  };
                  en2.prototype.everyX0Hours = function() {
                    return "every %s hours";
                  };
                  en2.prototype.betweenX0AndX1 = function() {
                    return "between %s and %s";
                  };
                  en2.prototype.atX0 = function() {
                    return "at %s";
                  };
                  en2.prototype.commaEveryDay = function() {
                    return ", every day";
                  };
                  en2.prototype.commaEveryX0DaysOfTheWeek = function() {
                    return ", every %s days of the week";
                  };
                  en2.prototype.commaX0ThroughX1 = function() {
                    return ", %s through %s";
                  };
                  en2.prototype.commaAndX0ThroughX1 = function() {
                    return ", %s through %s";
                  };
                  en2.prototype.first = function() {
                    return "first";
                  };
                  en2.prototype.second = function() {
                    return "second";
                  };
                  en2.prototype.third = function() {
                    return "third";
                  };
                  en2.prototype.fourth = function() {
                    return "fourth";
                  };
                  en2.prototype.fifth = function() {
                    return "fifth";
                  };
                  en2.prototype.commaOnThe = function() {
                    return ", on the ";
                  };
                  en2.prototype.spaceX0OfTheMonth = function() {
                    return " %s of the month";
                  };
                  en2.prototype.lastDay = function() {
                    return "the last day";
                  };
                  en2.prototype.commaOnTheLastX0OfTheMonth = function() {
                    return ", on the last %s of the month";
                  };
                  en2.prototype.commaOnlyOnX0 = function() {
                    return ", only on %s";
                  };
                  en2.prototype.commaAndOnX0 = function() {
                    return ", and on %s";
                  };
                  en2.prototype.commaEveryX0Months = function() {
                    return ", every %s months";
                  };
                  en2.prototype.commaOnlyInX0 = function() {
                    return ", only in %s";
                  };
                  en2.prototype.commaOnTheLastDayOfTheMonth = function() {
                    return ", on the last day of the month";
                  };
                  en2.prototype.commaOnTheLastWeekdayOfTheMonth = function() {
                    return ", on the last weekday of the month";
                  };
                  en2.prototype.commaDaysBeforeTheLastDayOfTheMonth = function() {
                    return ", %s days before the last day of the month";
                  };
                  en2.prototype.firstWeekday = function() {
                    return "first weekday";
                  };
                  en2.prototype.weekdayNearestDayX0 = function() {
                    return "weekday nearest day %s";
                  };
                  en2.prototype.commaOnTheX0OfTheMonth = function() {
                    return ", on the %s of the month";
                  };
                  en2.prototype.commaEveryX0Days = function() {
                    return ", every %s days";
                  };
                  en2.prototype.commaBetweenDayX0AndX1OfTheMonth = function() {
                    return ", between day %s and %s of the month";
                  };
                  en2.prototype.commaOnDayX0OfTheMonth = function() {
                    return ", on day %s of the month";
                  };
                  en2.prototype.commaEveryHour = function() {
                    return ", every hour";
                  };
                  en2.prototype.commaEveryX0Years = function() {
                    return ", every %s years";
                  };
                  en2.prototype.commaStartingX0 = function() {
                    return ", starting %s";
                  };
                  en2.prototype.daysOfTheWeek = function() {
                    return ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
                  };
                  en2.prototype.monthsOfTheYear = function() {
                    return [
                      "January",
                      "February",
                      "March",
                      "April",
                      "May",
                      "June",
                      "July",
                      "August",
                      "September",
                      "October",
                      "November",
                      "December"
                    ];
                  };
                  return en2;
                }();
                exports2.en = en;
              }
            ),
            /***/
            586: (
              /***/
              (__unused_webpack_module, exports2) => {
                Object.defineProperty(exports2, "__esModule", { value: true });
                function assert(value, message) {
                  if (!value) {
                    throw new Error(message);
                  }
                }
                var RangeValidator = function() {
                  function RangeValidator2() {
                  }
                  RangeValidator2.secondRange = function(parse) {
                    var parsed = parse.split(",");
                    for (var i = 0; i < parsed.length; i++) {
                      if (!isNaN(parseInt(parsed[i], 10))) {
                        var second = parseInt(parsed[i], 10);
                        assert(second >= 0 && second <= 59, "seconds part must be >= 0 and <= 59");
                      }
                    }
                  };
                  RangeValidator2.minuteRange = function(parse) {
                    var parsed = parse.split(",");
                    for (var i = 0; i < parsed.length; i++) {
                      if (!isNaN(parseInt(parsed[i], 10))) {
                        var minute = parseInt(parsed[i], 10);
                        assert(minute >= 0 && minute <= 59, "minutes part must be >= 0 and <= 59");
                      }
                    }
                  };
                  RangeValidator2.hourRange = function(parse) {
                    var parsed = parse.split(",");
                    for (var i = 0; i < parsed.length; i++) {
                      if (!isNaN(parseInt(parsed[i], 10))) {
                        var hour = parseInt(parsed[i], 10);
                        assert(hour >= 0 && hour <= 23, "hours part must be >= 0 and <= 23");
                      }
                    }
                  };
                  RangeValidator2.dayOfMonthRange = function(parse) {
                    var parsed = parse.split(",");
                    for (var i = 0; i < parsed.length; i++) {
                      if (!isNaN(parseInt(parsed[i], 10))) {
                        var dayOfMonth = parseInt(parsed[i], 10);
                        assert(dayOfMonth >= 1 && dayOfMonth <= 31, "DOM part must be >= 1 and <= 31");
                      }
                    }
                  };
                  RangeValidator2.monthRange = function(parse, monthStartIndexZero) {
                    var parsed = parse.split(",");
                    for (var i = 0; i < parsed.length; i++) {
                      if (!isNaN(parseInt(parsed[i], 10))) {
                        var month = parseInt(parsed[i], 10);
                        assert(month >= 1 && month <= 12, monthStartIndexZero ? "month part must be >= 0 and <= 11" : "month part must be >= 1 and <= 12");
                      }
                    }
                  };
                  RangeValidator2.dayOfWeekRange = function(parse, dayOfWeekStartIndexZero) {
                    var parsed = parse.split(",");
                    for (var i = 0; i < parsed.length; i++) {
                      if (!isNaN(parseInt(parsed[i], 10))) {
                        var dayOfWeek = parseInt(parsed[i], 10);
                        assert(dayOfWeek >= 0 && dayOfWeek <= 6, dayOfWeekStartIndexZero ? "DOW part must be >= 0 and <= 6" : "DOW part must be >= 1 and <= 7");
                      }
                    }
                  };
                  return RangeValidator2;
                }();
                exports2["default"] = RangeValidator;
              }
            ),
            /***/
            910: (
              /***/
              (__unused_webpack_module, exports2) => {
                Object.defineProperty(exports2, "__esModule", { value: true });
                exports2.StringUtilities = void 0;
                var StringUtilities = function() {
                  function StringUtilities2() {
                  }
                  StringUtilities2.format = function(template) {
                    var values = [];
                    for (var _i = 1; _i < arguments.length; _i++) {
                      values[_i - 1] = arguments[_i];
                    }
                    return template.replace(/%s/g, function(substring) {
                      var args = [];
                      for (var _i2 = 1; _i2 < arguments.length; _i2++) {
                        args[_i2 - 1] = arguments[_i2];
                      }
                      return values.shift();
                    });
                  };
                  StringUtilities2.containsAny = function(text, searchStrings) {
                    return searchStrings.some(function(c) {
                      return text.indexOf(c) > -1;
                    });
                  };
                  return StringUtilities2;
                }();
                exports2.StringUtilities = StringUtilities;
              }
            )
            /******/
          };
          var __webpack_module_cache__ = {};
          function __webpack_require__(moduleId) {
            var cachedModule = __webpack_module_cache__[moduleId];
            if (cachedModule !== void 0) {
              return cachedModule.exports;
            }
            var module2 = __webpack_module_cache__[moduleId] = {
              /******/
              // no module.id needed
              /******/
              // no module.loaded needed
              /******/
              exports: {}
              /******/
            };
            __webpack_modules__[moduleId](module2, module2.exports, __webpack_require__);
            return module2.exports;
          }
          var __webpack_exports__ = {};
          (() => {
            var exports2 = __webpack_exports__;
            Object.defineProperty(exports2, "__esModule", { value: true });
            exports2.toString = void 0;
            var expressionDescriptor_1 = __webpack_require__(728);
            var enLocaleLoader_1 = __webpack_require__(336);
            expressionDescriptor_1.ExpressionDescriptor.initialize(new enLocaleLoader_1.enLocaleLoader());
            exports2["default"] = expressionDescriptor_1.ExpressionDescriptor;
            var toString = expressionDescriptor_1.ExpressionDescriptor.toString;
            exports2.toString = toString;
          })();
          return __webpack_exports__;
        })()
      );
    });
  }
});

// js/workflow-editor/component.tsx
var import_react15 = __toESM(require_react());
var import_client = __toESM(require_client());

// js/workflow-diagram/WorkflowDiagram.tsx
var import_react14 = __toESM(require_react());

// node_modules/@reactflow/core/dist/esm/index.mjs
var import_react2 = __toESM(require_react(), 1);

// node_modules/classcat/index.js
function cc(names) {
  if (typeof names === "string" || typeof names === "number")
    return "" + names;
  let out = "";
  if (Array.isArray(names)) {
    for (let i = 0, tmp; i < names.length; i++) {
      if ((tmp = cc(names[i])) !== "") {
        out += (out && " ") + tmp;
      }
    }
  } else {
    for (let k in names) {
      if (names[k])
        out += (out && " ") + k;
    }
  }
  return out;
}

// node_modules/zustand/esm/traditional.mjs
var import_react = __toESM(require_react(), 1);
var import_with_selector = __toESM(require_with_selector(), 1);
var { useDebugValue } = import_react.default;
var { useSyncExternalStoreWithSelector } = import_with_selector.default;
function useStoreWithEqualityFn(api, selector = api.getState, equalityFn) {
  const slice = useSyncExternalStoreWithSelector(
    api.subscribe,
    api.getState,
    api.getServerState || api.getState,
    selector,
    equalityFn
  );
  useDebugValue(slice);
  return slice;
}
var createWithEqualityFnImpl = (createState, defaultEqualityFn) => {
  const api = createStore(createState);
  const useBoundStoreWithEqualityFn = (selector, equalityFn = defaultEqualityFn) => useStoreWithEqualityFn(api, selector, equalityFn);
  Object.assign(useBoundStoreWithEqualityFn, api);
  return useBoundStoreWithEqualityFn;
};
var createWithEqualityFn = (createState, defaultEqualityFn) => createState ? createWithEqualityFnImpl(createState, defaultEqualityFn) : createWithEqualityFnImpl;

// node_modules/zustand/esm/shallow.mjs
function shallow$1(objA, objB) {
  if (Object.is(objA, objB)) {
    return true;
  }
  if (typeof objA !== "object" || objA === null || typeof objB !== "object" || objB === null) {
    return false;
  }
  if (objA instanceof Map && objB instanceof Map) {
    if (objA.size !== objB.size)
      return false;
    for (const [key, value] of objA) {
      if (!Object.is(value, objB.get(key))) {
        return false;
      }
    }
    return true;
  }
  if (objA instanceof Set && objB instanceof Set) {
    if (objA.size !== objB.size)
      return false;
    for (const value of objA) {
      if (!objB.has(value)) {
        return false;
      }
    }
    return true;
  }
  const keysA = Object.keys(objA);
  if (keysA.length !== Object.keys(objB).length) {
    return false;
  }
  for (let i = 0; i < keysA.length; i++) {
    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }
  return true;
}

// node_modules/d3-dispatch/src/dispatch.js
var noop = { value: () => {
} };
function dispatch() {
  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {
    if (!(t = arguments[i] + "") || t in _ || /[\s.]/.test(t))
      throw new Error("illegal type: " + t);
    _[t] = [];
  }
  return new Dispatch(_);
}
function Dispatch(_) {
  this._ = _;
}
function parseTypenames(typenames, types) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name = "", i = t.indexOf(".");
    if (i >= 0)
      name = t.slice(i + 1), t = t.slice(0, i);
    if (t && !types.hasOwnProperty(t))
      throw new Error("unknown type: " + t);
    return { type: t, name };
  });
}
Dispatch.prototype = dispatch.prototype = {
  constructor: Dispatch,
  on: function(typename, callback) {
    var _ = this._, T = parseTypenames(typename + "", _), t, i = -1, n = T.length;
    if (arguments.length < 2) {
      while (++i < n)
        if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name)))
          return t;
      return;
    }
    if (callback != null && typeof callback !== "function")
      throw new Error("invalid callback: " + callback);
    while (++i < n) {
      if (t = (typename = T[i]).type)
        _[t] = set(_[t], typename.name, callback);
      else if (callback == null)
        for (t in _)
          _[t] = set(_[t], typename.name, null);
    }
    return this;
  },
  copy: function() {
    var copy = {}, _ = this._;
    for (var t in _)
      copy[t] = _[t].slice();
    return new Dispatch(copy);
  },
  call: function(type, that) {
    if ((n = arguments.length - 2) > 0)
      for (var args = new Array(n), i = 0, n, t; i < n; ++i)
        args[i] = arguments[i + 2];
    if (!this._.hasOwnProperty(type))
      throw new Error("unknown type: " + type);
    for (t = this._[type], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  },
  apply: function(type, that, args) {
    if (!this._.hasOwnProperty(type))
      throw new Error("unknown type: " + type);
    for (var t = this._[type], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  }
};
function get(type, name) {
  for (var i = 0, n = type.length, c; i < n; ++i) {
    if ((c = type[i]).name === name) {
      return c.value;
    }
  }
}
function set(type, name, callback) {
  for (var i = 0, n = type.length; i < n; ++i) {
    if (type[i].name === name) {
      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));
      break;
    }
  }
  if (callback != null)
    type.push({ name, value: callback });
  return type;
}
var dispatch_default = dispatch;

// node_modules/d3-selection/src/namespaces.js
var xhtml = "http://www.w3.org/1999/xhtml";
var namespaces_default = {
  svg: "http://www.w3.org/2000/svg",
  xhtml,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};

// node_modules/d3-selection/src/namespace.js
function namespace_default(name) {
  var prefix = name += "", i = prefix.indexOf(":");
  if (i >= 0 && (prefix = name.slice(0, i)) !== "xmlns")
    name = name.slice(i + 1);
  return namespaces_default.hasOwnProperty(prefix) ? { space: namespaces_default[prefix], local: name } : name;
}

// node_modules/d3-selection/src/creator.js
function creatorInherit(name) {
  return function() {
    var document2 = this.ownerDocument, uri = this.namespaceURI;
    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name) : document2.createElementNS(uri, name);
  };
}
function creatorFixed(fullname) {
  return function() {
    return this.ownerDocument.createElementNS(fullname.space, fullname.local);
  };
}
function creator_default(name) {
  var fullname = namespace_default(name);
  return (fullname.local ? creatorFixed : creatorInherit)(fullname);
}

// node_modules/d3-selection/src/selector.js
function none() {
}
function selector_default(selector) {
  return selector == null ? none : function() {
    return this.querySelector(selector);
  };
}

// node_modules/d3-selection/src/selection/select.js
function select_default(select) {
  if (typeof select !== "function")
    select = selector_default(select);
  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {
        if ("__data__" in node)
          subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
      }
    }
  }
  return new Selection(subgroups, this._parents);
}

// node_modules/d3-selection/src/array.js
function array(x) {
  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);
}

// node_modules/d3-selection/src/selectorAll.js
function empty() {
  return [];
}
function selectorAll_default(selector) {
  return selector == null ? empty : function() {
    return this.querySelectorAll(selector);
  };
}

// node_modules/d3-selection/src/selection/selectAll.js
function arrayAll(select) {
  return function() {
    return array(select.apply(this, arguments));
  };
}
function selectAll_default(select) {
  if (typeof select === "function")
    select = arrayAll(select);
  else
    select = selectorAll_default(select);
  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        subgroups.push(select.call(node, node.__data__, i, group));
        parents.push(node);
      }
    }
  }
  return new Selection(subgroups, parents);
}

// node_modules/d3-selection/src/matcher.js
function matcher_default(selector) {
  return function() {
    return this.matches(selector);
  };
}
function childMatcher(selector) {
  return function(node) {
    return node.matches(selector);
  };
}

// node_modules/d3-selection/src/selection/selectChild.js
var find = Array.prototype.find;
function childFind(match) {
  return function() {
    return find.call(this.children, match);
  };
}
function childFirst() {
  return this.firstElementChild;
}
function selectChild_default(match) {
  return this.select(match == null ? childFirst : childFind(typeof match === "function" ? match : childMatcher(match)));
}

// node_modules/d3-selection/src/selection/selectChildren.js
var filter = Array.prototype.filter;
function children() {
  return Array.from(this.children);
}
function childrenFilter(match) {
  return function() {
    return filter.call(this.children, match);
  };
}
function selectChildren_default(match) {
  return this.selectAll(match == null ? children : childrenFilter(typeof match === "function" ? match : childMatcher(match)));
}

// node_modules/d3-selection/src/selection/filter.js
function filter_default(match) {
  if (typeof match !== "function")
    match = matcher_default(match);
  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {
        subgroup.push(node);
      }
    }
  }
  return new Selection(subgroups, this._parents);
}

// node_modules/d3-selection/src/selection/sparse.js
function sparse_default(update) {
  return new Array(update.length);
}

// node_modules/d3-selection/src/selection/enter.js
function enter_default() {
  return new Selection(this._enter || this._groups.map(sparse_default), this._parents);
}
function EnterNode(parent, datum2) {
  this.ownerDocument = parent.ownerDocument;
  this.namespaceURI = parent.namespaceURI;
  this._next = null;
  this._parent = parent;
  this.__data__ = datum2;
}
EnterNode.prototype = {
  constructor: EnterNode,
  appendChild: function(child) {
    return this._parent.insertBefore(child, this._next);
  },
  insertBefore: function(child, next) {
    return this._parent.insertBefore(child, next);
  },
  querySelector: function(selector) {
    return this._parent.querySelector(selector);
  },
  querySelectorAll: function(selector) {
    return this._parent.querySelectorAll(selector);
  }
};

// node_modules/d3-selection/src/constant.js
function constant_default(x) {
  return function() {
    return x;
  };
}

// node_modules/d3-selection/src/selection/data.js
function bindIndex(parent, group, enter, update, exit, data) {
  var i = 0, node, groupLength = group.length, dataLength = data.length;
  for (; i < dataLength; ++i) {
    if (node = group[i]) {
      node.__data__ = data[i];
      update[i] = node;
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }
  for (; i < groupLength; ++i) {
    if (node = group[i]) {
      exit[i] = node;
    }
  }
}
function bindKey(parent, group, enter, update, exit, data, key) {
  var i, node, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;
  for (i = 0; i < groupLength; ++i) {
    if (node = group[i]) {
      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + "";
      if (nodeByKeyValue.has(keyValue)) {
        exit[i] = node;
      } else {
        nodeByKeyValue.set(keyValue, node);
      }
    }
  }
  for (i = 0; i < dataLength; ++i) {
    keyValue = key.call(parent, data[i], i, data) + "";
    if (node = nodeByKeyValue.get(keyValue)) {
      update[i] = node;
      node.__data__ = data[i];
      nodeByKeyValue.delete(keyValue);
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }
  for (i = 0; i < groupLength; ++i) {
    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {
      exit[i] = node;
    }
  }
}
function datum(node) {
  return node.__data__;
}
function data_default(value, key) {
  if (!arguments.length)
    return Array.from(this, datum);
  var bind = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;
  if (typeof value !== "function")
    value = constant_default(value);
  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
    var parent = parents[j], group = groups[j], groupLength = group.length, data = arraylike(value.call(parent, parent && parent.__data__, j, parents)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);
    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);
    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {
      if (previous = enterGroup[i0]) {
        if (i0 >= i1)
          i1 = i0 + 1;
        while (!(next = updateGroup[i1]) && ++i1 < dataLength)
          ;
        previous._next = next || null;
      }
    }
  }
  update = new Selection(update, parents);
  update._enter = enter;
  update._exit = exit;
  return update;
}
function arraylike(data) {
  return typeof data === "object" && "length" in data ? data : Array.from(data);
}

// node_modules/d3-selection/src/selection/exit.js
function exit_default() {
  return new Selection(this._exit || this._groups.map(sparse_default), this._parents);
}

// node_modules/d3-selection/src/selection/join.js
function join_default(onenter, onupdate, onexit) {
  var enter = this.enter(), update = this, exit = this.exit();
  if (typeof onenter === "function") {
    enter = onenter(enter);
    if (enter)
      enter = enter.selection();
  } else {
    enter = enter.append(onenter + "");
  }
  if (onupdate != null) {
    update = onupdate(update);
    if (update)
      update = update.selection();
  }
  if (onexit == null)
    exit.remove();
  else
    onexit(exit);
  return enter && update ? enter.merge(update).order() : update;
}

// node_modules/d3-selection/src/selection/merge.js
function merge_default(context) {
  var selection2 = context.selection ? context.selection() : context;
  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge[i] = node;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Selection(merges, this._parents);
}

// node_modules/d3-selection/src/selection/order.js
function order_default() {
  for (var groups = this._groups, j = -1, m = groups.length; ++j < m; ) {
    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {
      if (node = group[i]) {
        if (next && node.compareDocumentPosition(next) ^ 4)
          next.parentNode.insertBefore(node, next);
        next = node;
      }
    }
  }
  return this;
}

// node_modules/d3-selection/src/selection/sort.js
function sort_default(compare) {
  if (!compare)
    compare = ascending;
  function compareNode(a, b) {
    return a && b ? compare(a.__data__, b.__data__) : !a - !b;
  }
  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        sortgroup[i] = node;
      }
    }
    sortgroup.sort(compareNode);
  }
  return new Selection(sortgroups, this._parents).order();
}
function ascending(a, b) {
  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;
}

// node_modules/d3-selection/src/selection/call.js
function call_default() {
  var callback = arguments[0];
  arguments[0] = this;
  callback.apply(null, arguments);
  return this;
}

// node_modules/d3-selection/src/selection/nodes.js
function nodes_default() {
  return Array.from(this);
}

// node_modules/d3-selection/src/selection/node.js
function node_default() {
  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {
      var node = group[i];
      if (node)
        return node;
    }
  }
  return null;
}

// node_modules/d3-selection/src/selection/size.js
function size_default() {
  let size = 0;
  for (const node of this)
    ++size;
  return size;
}

// node_modules/d3-selection/src/selection/empty.js
function empty_default() {
  return !this.node();
}

// node_modules/d3-selection/src/selection/each.js
function each_default(callback) {
  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {
      if (node = group[i])
        callback.call(node, node.__data__, i, group);
    }
  }
  return this;
}

// node_modules/d3-selection/src/selection/attr.js
function attrRemove(name) {
  return function() {
    this.removeAttribute(name);
  };
}
function attrRemoveNS(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant(name, value) {
  return function() {
    this.setAttribute(name, value);
  };
}
function attrConstantNS(fullname, value) {
  return function() {
    this.setAttributeNS(fullname.space, fullname.local, value);
  };
}
function attrFunction(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      this.removeAttribute(name);
    else
      this.setAttribute(name, v);
  };
}
function attrFunctionNS(fullname, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      this.removeAttributeNS(fullname.space, fullname.local);
    else
      this.setAttributeNS(fullname.space, fullname.local, v);
  };
}
function attr_default(name, value) {
  var fullname = namespace_default(name);
  if (arguments.length < 2) {
    var node = this.node();
    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);
  }
  return this.each((value == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value === "function" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value));
}

// node_modules/d3-selection/src/window.js
function window_default(node) {
  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;
}

// node_modules/d3-selection/src/selection/style.js
function styleRemove(name) {
  return function() {
    this.style.removeProperty(name);
  };
}
function styleConstant(name, value, priority) {
  return function() {
    this.style.setProperty(name, value, priority);
  };
}
function styleFunction(name, value, priority) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      this.style.removeProperty(name);
    else
      this.style.setProperty(name, v, priority);
  };
}
function style_default(name, value, priority) {
  return arguments.length > 1 ? this.each((value == null ? styleRemove : typeof value === "function" ? styleFunction : styleConstant)(name, value, priority == null ? "" : priority)) : styleValue(this.node(), name);
}
function styleValue(node, name) {
  return node.style.getPropertyValue(name) || window_default(node).getComputedStyle(node, null).getPropertyValue(name);
}

// node_modules/d3-selection/src/selection/property.js
function propertyRemove(name) {
  return function() {
    delete this[name];
  };
}
function propertyConstant(name, value) {
  return function() {
    this[name] = value;
  };
}
function propertyFunction(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      delete this[name];
    else
      this[name] = v;
  };
}
function property_default(name, value) {
  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === "function" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];
}

// node_modules/d3-selection/src/selection/classed.js
function classArray(string) {
  return string.trim().split(/^|\s+/);
}
function classList(node) {
  return node.classList || new ClassList(node);
}
function ClassList(node) {
  this._node = node;
  this._names = classArray(node.getAttribute("class") || "");
}
ClassList.prototype = {
  add: function(name) {
    var i = this._names.indexOf(name);
    if (i < 0) {
      this._names.push(name);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  remove: function(name) {
    var i = this._names.indexOf(name);
    if (i >= 0) {
      this._names.splice(i, 1);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  contains: function(name) {
    return this._names.indexOf(name) >= 0;
  }
};
function classedAdd(node, names) {
  var list = classList(node), i = -1, n = names.length;
  while (++i < n)
    list.add(names[i]);
}
function classedRemove(node, names) {
  var list = classList(node), i = -1, n = names.length;
  while (++i < n)
    list.remove(names[i]);
}
function classedTrue(names) {
  return function() {
    classedAdd(this, names);
  };
}
function classedFalse(names) {
  return function() {
    classedRemove(this, names);
  };
}
function classedFunction(names, value) {
  return function() {
    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);
  };
}
function classed_default(name, value) {
  var names = classArray(name + "");
  if (arguments.length < 2) {
    var list = classList(this.node()), i = -1, n = names.length;
    while (++i < n)
      if (!list.contains(names[i]))
        return false;
    return true;
  }
  return this.each((typeof value === "function" ? classedFunction : value ? classedTrue : classedFalse)(names, value));
}

// node_modules/d3-selection/src/selection/text.js
function textRemove() {
  this.textContent = "";
}
function textConstant(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.textContent = v == null ? "" : v;
  };
}
function text_default(value) {
  return arguments.length ? this.each(value == null ? textRemove : (typeof value === "function" ? textFunction : textConstant)(value)) : this.node().textContent;
}

// node_modules/d3-selection/src/selection/html.js
function htmlRemove() {
  this.innerHTML = "";
}
function htmlConstant(value) {
  return function() {
    this.innerHTML = value;
  };
}
function htmlFunction(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.innerHTML = v == null ? "" : v;
  };
}
function html_default(value) {
  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === "function" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;
}

// node_modules/d3-selection/src/selection/raise.js
function raise() {
  if (this.nextSibling)
    this.parentNode.appendChild(this);
}
function raise_default() {
  return this.each(raise);
}

// node_modules/d3-selection/src/selection/lower.js
function lower() {
  if (this.previousSibling)
    this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function lower_default() {
  return this.each(lower);
}

// node_modules/d3-selection/src/selection/append.js
function append_default(name) {
  var create3 = typeof name === "function" ? name : creator_default(name);
  return this.select(function() {
    return this.appendChild(create3.apply(this, arguments));
  });
}

// node_modules/d3-selection/src/selection/insert.js
function constantNull() {
  return null;
}
function insert_default(name, before) {
  var create3 = typeof name === "function" ? name : creator_default(name), select = before == null ? constantNull : typeof before === "function" ? before : selector_default(before);
  return this.select(function() {
    return this.insertBefore(create3.apply(this, arguments), select.apply(this, arguments) || null);
  });
}

// node_modules/d3-selection/src/selection/remove.js
function remove() {
  var parent = this.parentNode;
  if (parent)
    parent.removeChild(this);
}
function remove_default() {
  return this.each(remove);
}

// node_modules/d3-selection/src/selection/clone.js
function selection_cloneShallow() {
  var clone = this.cloneNode(false), parent = this.parentNode;
  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;
}
function selection_cloneDeep() {
  var clone = this.cloneNode(true), parent = this.parentNode;
  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;
}
function clone_default(deep) {
  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);
}

// node_modules/d3-selection/src/selection/datum.js
function datum_default(value) {
  return arguments.length ? this.property("__data__", value) : this.node().__data__;
}

// node_modules/d3-selection/src/selection/on.js
function contextListener(listener) {
  return function(event) {
    listener.call(this, event, this.__data__);
  };
}
function parseTypenames2(typenames) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name = "", i = t.indexOf(".");
    if (i >= 0)
      name = t.slice(i + 1), t = t.slice(0, i);
    return { type: t, name };
  });
}
function onRemove(typename) {
  return function() {
    var on = this.__on;
    if (!on)
      return;
    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {
      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.options);
      } else {
        on[++i] = o;
      }
    }
    if (++i)
      on.length = i;
    else
      delete this.__on;
  };
}
function onAdd(typename, value, options) {
  return function() {
    var on = this.__on, o, listener = contextListener(value);
    if (on)
      for (var j = 0, m = on.length; j < m; ++j) {
        if ((o = on[j]).type === typename.type && o.name === typename.name) {
          this.removeEventListener(o.type, o.listener, o.options);
          this.addEventListener(o.type, o.listener = listener, o.options = options);
          o.value = value;
          return;
        }
      }
    this.addEventListener(typename.type, listener, options);
    o = { type: typename.type, name: typename.name, value, listener, options };
    if (!on)
      this.__on = [o];
    else
      on.push(o);
  };
}
function on_default(typename, value, options) {
  var typenames = parseTypenames2(typename + ""), i, n = typenames.length, t;
  if (arguments.length < 2) {
    var on = this.node().__on;
    if (on)
      for (var j = 0, m = on.length, o; j < m; ++j) {
        for (i = 0, o = on[j]; i < n; ++i) {
          if ((t = typenames[i]).type === o.type && t.name === o.name) {
            return o.value;
          }
        }
      }
    return;
  }
  on = value ? onAdd : onRemove;
  for (i = 0; i < n; ++i)
    this.each(on(typenames[i], value, options));
  return this;
}

// node_modules/d3-selection/src/selection/dispatch.js
function dispatchEvent(node, type, params) {
  var window2 = window_default(node), event = window2.CustomEvent;
  if (typeof event === "function") {
    event = new event(type, params);
  } else {
    event = window2.document.createEvent("Event");
    if (params)
      event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;
    else
      event.initEvent(type, false, false);
  }
  node.dispatchEvent(event);
}
function dispatchConstant(type, params) {
  return function() {
    return dispatchEvent(this, type, params);
  };
}
function dispatchFunction(type, params) {
  return function() {
    return dispatchEvent(this, type, params.apply(this, arguments));
  };
}
function dispatch_default2(type, params) {
  return this.each((typeof params === "function" ? dispatchFunction : dispatchConstant)(type, params));
}

// node_modules/d3-selection/src/selection/iterator.js
function* iterator_default() {
  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {
      if (node = group[i])
        yield node;
    }
  }
}

// node_modules/d3-selection/src/selection/index.js
var root = [null];
function Selection(groups, parents) {
  this._groups = groups;
  this._parents = parents;
}
function selection() {
  return new Selection([[document.documentElement]], root);
}
function selection_selection() {
  return this;
}
Selection.prototype = selection.prototype = {
  constructor: Selection,
  select: select_default,
  selectAll: selectAll_default,
  selectChild: selectChild_default,
  selectChildren: selectChildren_default,
  filter: filter_default,
  data: data_default,
  enter: enter_default,
  exit: exit_default,
  join: join_default,
  merge: merge_default,
  selection: selection_selection,
  order: order_default,
  sort: sort_default,
  call: call_default,
  nodes: nodes_default,
  node: node_default,
  size: size_default,
  empty: empty_default,
  each: each_default,
  attr: attr_default,
  style: style_default,
  property: property_default,
  classed: classed_default,
  text: text_default,
  html: html_default,
  raise: raise_default,
  lower: lower_default,
  append: append_default,
  insert: insert_default,
  remove: remove_default,
  clone: clone_default,
  datum: datum_default,
  on: on_default,
  dispatch: dispatch_default2,
  [Symbol.iterator]: iterator_default
};
var selection_default = selection;

// node_modules/d3-selection/src/select.js
function select_default2(selector) {
  return typeof selector === "string" ? new Selection([[document.querySelector(selector)]], [document.documentElement]) : new Selection([[selector]], root);
}

// node_modules/d3-selection/src/sourceEvent.js
function sourceEvent_default(event) {
  let sourceEvent;
  while (sourceEvent = event.sourceEvent)
    event = sourceEvent;
  return event;
}

// node_modules/d3-selection/src/pointer.js
function pointer_default(event, node) {
  event = sourceEvent_default(event);
  if (node === void 0)
    node = event.currentTarget;
  if (node) {
    var svg = node.ownerSVGElement || node;
    if (svg.createSVGPoint) {
      var point = svg.createSVGPoint();
      point.x = event.clientX, point.y = event.clientY;
      point = point.matrixTransform(node.getScreenCTM().inverse());
      return [point.x, point.y];
    }
    if (node.getBoundingClientRect) {
      var rect = node.getBoundingClientRect();
      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];
    }
  }
  return [event.pageX, event.pageY];
}

// node_modules/d3-drag/src/noevent.js
var nonpassive = { passive: false };
var nonpassivecapture = { capture: true, passive: false };
function nopropagation(event) {
  event.stopImmediatePropagation();
}
function noevent_default(event) {
  event.preventDefault();
  event.stopImmediatePropagation();
}

// node_modules/d3-drag/src/nodrag.js
function nodrag_default(view) {
  var root2 = view.document.documentElement, selection2 = select_default2(view).on("dragstart.drag", noevent_default, nonpassivecapture);
  if ("onselectstart" in root2) {
    selection2.on("selectstart.drag", noevent_default, nonpassivecapture);
  } else {
    root2.__noselect = root2.style.MozUserSelect;
    root2.style.MozUserSelect = "none";
  }
}
function yesdrag(view, noclick) {
  var root2 = view.document.documentElement, selection2 = select_default2(view).on("dragstart.drag", null);
  if (noclick) {
    selection2.on("click.drag", noevent_default, nonpassivecapture);
    setTimeout(function() {
      selection2.on("click.drag", null);
    }, 0);
  }
  if ("onselectstart" in root2) {
    selection2.on("selectstart.drag", null);
  } else {
    root2.style.MozUserSelect = root2.__noselect;
    delete root2.__noselect;
  }
}

// node_modules/d3-drag/src/constant.js
var constant_default2 = (x) => () => x;

// node_modules/d3-drag/src/event.js
function DragEvent(type, {
  sourceEvent,
  subject,
  target,
  identifier,
  active,
  x,
  y,
  dx,
  dy,
  dispatch: dispatch3
}) {
  Object.defineProperties(this, {
    type: { value: type, enumerable: true, configurable: true },
    sourceEvent: { value: sourceEvent, enumerable: true, configurable: true },
    subject: { value: subject, enumerable: true, configurable: true },
    target: { value: target, enumerable: true, configurable: true },
    identifier: { value: identifier, enumerable: true, configurable: true },
    active: { value: active, enumerable: true, configurable: true },
    x: { value: x, enumerable: true, configurable: true },
    y: { value: y, enumerable: true, configurable: true },
    dx: { value: dx, enumerable: true, configurable: true },
    dy: { value: dy, enumerable: true, configurable: true },
    _: { value: dispatch3 }
  });
}
DragEvent.prototype.on = function() {
  var value = this._.on.apply(this._, arguments);
  return value === this._ ? this : value;
};

// node_modules/d3-drag/src/drag.js
function defaultFilter(event) {
  return !event.ctrlKey && !event.button;
}
function defaultContainer() {
  return this.parentNode;
}
function defaultSubject(event, d) {
  return d == null ? { x: event.x, y: event.y } : d;
}
function defaultTouchable() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function drag_default() {
  var filter2 = defaultFilter, container = defaultContainer, subject = defaultSubject, touchable = defaultTouchable, gestures = {}, listeners = dispatch_default("start", "drag", "end"), active = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;
  function drag(selection2) {
    selection2.on("mousedown.drag", mousedowned).filter(touchable).on("touchstart.drag", touchstarted).on("touchmove.drag", touchmoved, nonpassive).on("touchend.drag touchcancel.drag", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  function mousedowned(event, d) {
    if (touchending || !filter2.call(this, event, d))
      return;
    var gesture = beforestart(this, container.call(this, event, d), event, d, "mouse");
    if (!gesture)
      return;
    select_default2(event.view).on("mousemove.drag", mousemoved, nonpassivecapture).on("mouseup.drag", mouseupped, nonpassivecapture);
    nodrag_default(event.view);
    nopropagation(event);
    mousemoving = false;
    mousedownx = event.clientX;
    mousedowny = event.clientY;
    gesture("start", event);
  }
  function mousemoved(event) {
    noevent_default(event);
    if (!mousemoving) {
      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;
      mousemoving = dx * dx + dy * dy > clickDistance2;
    }
    gestures.mouse("drag", event);
  }
  function mouseupped(event) {
    select_default2(event.view).on("mousemove.drag mouseup.drag", null);
    yesdrag(event.view, mousemoving);
    noevent_default(event);
    gestures.mouse("end", event);
  }
  function touchstarted(event, d) {
    if (!filter2.call(this, event, d))
      return;
    var touches = event.changedTouches, c = container.call(this, event, d), n = touches.length, i, gesture;
    for (i = 0; i < n; ++i) {
      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {
        nopropagation(event);
        gesture("start", event, touches[i]);
      }
    }
  }
  function touchmoved(event) {
    var touches = event.changedTouches, n = touches.length, i, gesture;
    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches[i].identifier]) {
        noevent_default(event);
        gesture("drag", event, touches[i]);
      }
    }
  }
  function touchended(event) {
    var touches = event.changedTouches, n = touches.length, i, gesture;
    if (touchending)
      clearTimeout(touchending);
    touchending = setTimeout(function() {
      touchending = null;
    }, 500);
    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches[i].identifier]) {
        nopropagation(event);
        gesture("end", event, touches[i]);
      }
    }
  }
  function beforestart(that, container2, event, d, identifier, touch) {
    var dispatch3 = listeners.copy(), p = pointer_default(touch || event, container2), dx, dy, s;
    if ((s = subject.call(that, new DragEvent("beforestart", {
      sourceEvent: event,
      target: drag,
      identifier,
      active,
      x: p[0],
      y: p[1],
      dx: 0,
      dy: 0,
      dispatch: dispatch3
    }), d)) == null)
      return;
    dx = s.x - p[0] || 0;
    dy = s.y - p[1] || 0;
    return function gesture(type, event2, touch2) {
      var p0 = p, n;
      switch (type) {
        case "start":
          gestures[identifier] = gesture, n = active++;
          break;
        case "end":
          delete gestures[identifier], --active;
        case "drag":
          p = pointer_default(touch2 || event2, container2), n = active;
          break;
      }
      dispatch3.call(
        type,
        that,
        new DragEvent(type, {
          sourceEvent: event2,
          subject: s,
          target: drag,
          identifier,
          active: n,
          x: p[0] + dx,
          y: p[1] + dy,
          dx: p[0] - p0[0],
          dy: p[1] - p0[1],
          dispatch: dispatch3
        }),
        d
      );
    };
  }
  drag.filter = function(_) {
    return arguments.length ? (filter2 = typeof _ === "function" ? _ : constant_default2(!!_), drag) : filter2;
  };
  drag.container = function(_) {
    return arguments.length ? (container = typeof _ === "function" ? _ : constant_default2(_), drag) : container;
  };
  drag.subject = function(_) {
    return arguments.length ? (subject = typeof _ === "function" ? _ : constant_default2(_), drag) : subject;
  };
  drag.touchable = function(_) {
    return arguments.length ? (touchable = typeof _ === "function" ? _ : constant_default2(!!_), drag) : touchable;
  };
  drag.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? drag : value;
  };
  drag.clickDistance = function(_) {
    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);
  };
  return drag;
}

// node_modules/d3-color/src/define.js
function define_default(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
}
function extend(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition)
    prototype[key] = definition[key];
  return prototype;
}

// node_modules/d3-color/src/color.js
function Color() {
}
var darker = 0.7;
var brighter = 1 / darker;
var reI = "\\s*([+-]?\\d+)\\s*";
var reN = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var reP = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var reHex = /^#([0-9a-f]{3,8})$/;
var reRgbInteger = new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`);
var reRgbPercent = new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`);
var reRgbaInteger = new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`);
var reRgbaPercent = new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`);
var reHslPercent = new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`);
var reHslaPercent = new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`);
var named = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
define_default(Color, color, {
  copy(channels) {
    return Object.assign(new this.constructor(), this, channels);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: color_formatHex,
  // Deprecated! Use color.formatHex.
  formatHex: color_formatHex,
  formatHex8: color_formatHex8,
  formatHsl: color_formatHsl,
  formatRgb: color_formatRgb,
  toString: color_formatRgb
});
function color_formatHex() {
  return this.rgb().formatHex();
}
function color_formatHex8() {
  return this.rgb().formatHex8();
}
function color_formatHsl() {
  return hslConvert(this).formatHsl();
}
function color_formatRgb() {
  return this.rgb().formatRgb();
}
function color(format) {
  var m, l;
  format = (format + "").trim().toLowerCase();
  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format) ? rgbn(named[format]) : format === "transparent" ? new Rgb(NaN, NaN, NaN, 0) : null;
}
function rgbn(n) {
  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
}
function rgba(r, g, b, a) {
  if (a <= 0)
    r = g = b = NaN;
  return new Rgb(r, g, b, a);
}
function rgbConvert(o) {
  if (!(o instanceof Color))
    o = color(o);
  if (!o)
    return new Rgb();
  o = o.rgb();
  return new Rgb(o.r, o.g, o.b, o.opacity);
}
function rgb(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);
}
function Rgb(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}
define_default(Rgb, rgb, extend(Color, {
  brighter(k) {
    k = k == null ? brighter : Math.pow(brighter, k);
    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
  },
  darker(k) {
    k = k == null ? darker : Math.pow(darker, k);
    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
  },
  rgb() {
    return this;
  },
  clamp() {
    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));
  },
  displayable() {
    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
  },
  hex: rgb_formatHex,
  // Deprecated! Use color.formatHex.
  formatHex: rgb_formatHex,
  formatHex8: rgb_formatHex8,
  formatRgb: rgb_formatRgb,
  toString: rgb_formatRgb
}));
function rgb_formatHex() {
  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;
}
function rgb_formatHex8() {
  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function rgb_formatRgb() {
  const a = clampa(this.opacity);
  return `${a === 1 ? "rgb(" : "rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? ")" : `, ${a})`}`;
}
function clampa(opacity) {
  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));
}
function clampi(value) {
  return Math.max(0, Math.min(255, Math.round(value) || 0));
}
function hex(value) {
  value = clampi(value);
  return (value < 16 ? "0" : "") + value.toString(16);
}
function hsla(h, s, l, a) {
  if (a <= 0)
    h = s = l = NaN;
  else if (l <= 0 || l >= 1)
    h = s = NaN;
  else if (s <= 0)
    h = NaN;
  return new Hsl(h, s, l, a);
}
function hslConvert(o) {
  if (o instanceof Hsl)
    return new Hsl(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color))
    o = color(o);
  if (!o)
    return new Hsl();
  if (o instanceof Hsl)
    return o;
  o = o.rgb();
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min = Math.min(r, g, b), max = Math.max(r, g, b), h = NaN, s = max - min, l = (max + min) / 2;
  if (s) {
    if (r === max)
      h = (g - b) / s + (g < b) * 6;
    else if (g === max)
      h = (b - r) / s + 2;
    else
      h = (r - g) / s + 4;
    s /= l < 0.5 ? max + min : 2 - max - min;
    h *= 60;
  } else {
    s = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl(h, s, l, o.opacity);
}
function hsl(h, s, l, opacity) {
  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);
}
function Hsl(h, s, l, opacity) {
  this.h = +h;
  this.s = +s;
  this.l = +l;
  this.opacity = +opacity;
}
define_default(Hsl, hsl, extend(Color, {
  brighter(k) {
    k = k == null ? brighter : Math.pow(brighter, k);
    return new Hsl(this.h, this.s, this.l * k, this.opacity);
  },
  darker(k) {
    k = k == null ? darker : Math.pow(darker, k);
    return new Hsl(this.h, this.s, this.l * k, this.opacity);
  },
  rgb() {
    var h = this.h % 360 + (this.h < 0) * 360, s = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;
    return new Rgb(
      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb(h, m1, m2),
      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  clamp() {
    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));
  },
  displayable() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
  },
  formatHsl() {
    const a = clampa(this.opacity);
    return `${a === 1 ? "hsl(" : "hsla("}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? ")" : `, ${a})`}`;
  }
}));
function clamph(value) {
  value = (value || 0) % 360;
  return value < 0 ? value + 360 : value;
}
function clampt(value) {
  return Math.max(0, Math.min(1, value || 0));
}
function hsl2rgb(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
}

// node_modules/d3-interpolate/src/basis.js
function basis(t1, v0, v1, v2, v3) {
  var t2 = t1 * t1, t3 = t2 * t1;
  return ((1 - 3 * t1 + 3 * t2 - t3) * v0 + (4 - 6 * t2 + 3 * t3) * v1 + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2 + t3 * v3) / 6;
}
function basis_default(values) {
  var n = values.length - 1;
  return function(t) {
    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values[i], v2 = values[i + 1], v0 = i > 0 ? values[i - 1] : 2 * v1 - v2, v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;
    return basis((t - i / n) * n, v0, v1, v2, v3);
  };
}

// node_modules/d3-interpolate/src/basisClosed.js
function basisClosed_default(values) {
  var n = values.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values[(i + n - 1) % n], v1 = values[i % n], v2 = values[(i + 1) % n], v3 = values[(i + 2) % n];
    return basis((t - i / n) * n, v0, v1, v2, v3);
  };
}

// node_modules/d3-interpolate/src/constant.js
var constant_default3 = (x) => () => x;

// node_modules/d3-interpolate/src/color.js
function linear(a, d) {
  return function(t) {
    return a + t * d;
  };
}
function exponential(a, b, y) {
  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {
    return Math.pow(a + t * b, y);
  };
}
function gamma(y) {
  return (y = +y) === 1 ? nogamma : function(a, b) {
    return b - a ? exponential(a, b, y) : constant_default3(isNaN(a) ? b : a);
  };
}
function nogamma(a, b) {
  var d = b - a;
  return d ? linear(a, d) : constant_default3(isNaN(a) ? b : a);
}

// node_modules/d3-interpolate/src/rgb.js
var rgb_default = function rgbGamma(y) {
  var color2 = gamma(y);
  function rgb2(start2, end) {
    var r = color2((start2 = rgb(start2)).r, (end = rgb(end)).r), g = color2(start2.g, end.g), b = color2(start2.b, end.b), opacity = nogamma(start2.opacity, end.opacity);
    return function(t) {
      start2.r = r(t);
      start2.g = g(t);
      start2.b = b(t);
      start2.opacity = opacity(t);
      return start2 + "";
    };
  }
  rgb2.gamma = rgbGamma;
  return rgb2;
}(1);
function rgbSpline(spline) {
  return function(colors) {
    var n = colors.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color2;
    for (i = 0; i < n; ++i) {
      color2 = rgb(colors[i]);
      r[i] = color2.r || 0;
      g[i] = color2.g || 0;
      b[i] = color2.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color2.opacity = 1;
    return function(t) {
      color2.r = r(t);
      color2.g = g(t);
      color2.b = b(t);
      return color2 + "";
    };
  };
}
var rgbBasis = rgbSpline(basis_default);
var rgbBasisClosed = rgbSpline(basisClosed_default);

// node_modules/d3-interpolate/src/number.js
function number_default(a, b) {
  return a = +a, b = +b, function(t) {
    return a * (1 - t) + b * t;
  };
}

// node_modules/d3-interpolate/src/string.js
var reA = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var reB = new RegExp(reA.source, "g");
function zero(b) {
  return function() {
    return b;
  };
}
function one(b) {
  return function(t) {
    return b(t) + "";
  };
}
function string_default(a, b) {
  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];
  a = a + "", b = b + "";
  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {
    if ((bs = bm.index) > bi) {
      bs = b.slice(bi, bs);
      if (s[i])
        s[i] += bs;
      else
        s[++i] = bs;
    }
    if ((am = am[0]) === (bm = bm[0])) {
      if (s[i])
        s[i] += bm;
      else
        s[++i] = bm;
    } else {
      s[++i] = null;
      q.push({ i, x: number_default(am, bm) });
    }
    bi = reB.lastIndex;
  }
  if (bi < b.length) {
    bs = b.slice(bi);
    if (s[i])
      s[i] += bs;
    else
      s[++i] = bs;
  }
  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function(t) {
    for (var i2 = 0, o; i2 < b; ++i2)
      s[(o = q[i2]).i] = o.x(t);
    return s.join("");
  });
}

// node_modules/d3-interpolate/src/transform/decompose.js
var degrees = 180 / Math.PI;
var identity = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function decompose_default(a, b, c, d, e, f) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a * a + b * b))
    a /= scaleX, b /= scaleX;
  if (skewX = a * c + b * d)
    c -= a * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c * c + d * d))
    c /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a * d < b * c)
    a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f,
    rotate: Math.atan2(b, a) * degrees,
    skewX: Math.atan(skewX) * degrees,
    scaleX,
    scaleY
  };
}

// node_modules/d3-interpolate/src/transform/parse.js
var svgNode;
function parseCss(value) {
  const m = new (typeof DOMMatrix === "function" ? DOMMatrix : WebKitCSSMatrix)(value + "");
  return m.isIdentity ? identity : decompose_default(m.a, m.b, m.c, m.d, m.e, m.f);
}
function parseSvg(value) {
  if (value == null)
    return identity;
  if (!svgNode)
    svgNode = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode.setAttribute("transform", value);
  if (!(value = svgNode.transform.baseVal.consolidate()))
    return identity;
  value = value.matrix;
  return decompose_default(value.a, value.b, value.c, value.d, value.e, value.f);
}

// node_modules/d3-interpolate/src/transform/index.js
function interpolateTransform(parse, pxComma, pxParen, degParen) {
  function pop(s) {
    return s.length ? s.pop() + " " : "";
  }
  function translate(xa, ya, xb, yb, s, q) {
    if (xa !== xb || ya !== yb) {
      var i = s.push("translate(", null, pxComma, null, pxParen);
      q.push({ i: i - 4, x: number_default(xa, xb) }, { i: i - 2, x: number_default(ya, yb) });
    } else if (xb || yb) {
      s.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }
  function rotate(a, b, s, q) {
    if (a !== b) {
      if (a - b > 180)
        b += 360;
      else if (b - a > 180)
        a += 360;
      q.push({ i: s.push(pop(s) + "rotate(", null, degParen) - 2, x: number_default(a, b) });
    } else if (b) {
      s.push(pop(s) + "rotate(" + b + degParen);
    }
  }
  function skewX(a, b, s, q) {
    if (a !== b) {
      q.push({ i: s.push(pop(s) + "skewX(", null, degParen) - 2, x: number_default(a, b) });
    } else if (b) {
      s.push(pop(s) + "skewX(" + b + degParen);
    }
  }
  function scale(xa, ya, xb, yb, s, q) {
    if (xa !== xb || ya !== yb) {
      var i = s.push(pop(s) + "scale(", null, ",", null, ")");
      q.push({ i: i - 4, x: number_default(xa, xb) }, { i: i - 2, x: number_default(ya, yb) });
    } else if (xb !== 1 || yb !== 1) {
      s.push(pop(s) + "scale(" + xb + "," + yb + ")");
    }
  }
  return function(a, b) {
    var s = [], q = [];
    a = parse(a), b = parse(b);
    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);
    rotate(a.rotate, b.rotate, s, q);
    skewX(a.skewX, b.skewX, s, q);
    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);
    a = b = null;
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n)
        s[(o = q[i]).i] = o.x(t);
      return s.join("");
    };
  };
}
var interpolateTransformCss = interpolateTransform(parseCss, "px, ", "px)", "deg)");
var interpolateTransformSvg = interpolateTransform(parseSvg, ", ", ")", ")");

// node_modules/d3-interpolate/src/zoom.js
var epsilon2 = 1e-12;
function cosh(x) {
  return ((x = Math.exp(x)) + 1 / x) / 2;
}
function sinh(x) {
  return ((x = Math.exp(x)) - 1 / x) / 2;
}
function tanh(x) {
  return ((x = Math.exp(2 * x)) - 1) / (x + 1);
}
var zoom_default = function zoomRho(rho, rho2, rho4) {
  function zoom(p0, p1) {
    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;
    if (d2 < epsilon2) {
      S = Math.log(w1 / w0) / rho;
      i = function(t) {
        return [
          ux0 + t * dx,
          uy0 + t * dy,
          w0 * Math.exp(rho * t * S)
        ];
      };
    } else {
      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);
      S = (r1 - r0) / rho;
      i = function(t) {
        var s = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));
        return [
          ux0 + u * dx,
          uy0 + u * dy,
          w0 * coshr0 / cosh(rho * s + r0)
        ];
      };
    }
    i.duration = S * 1e3 * rho / Math.SQRT2;
    return i;
  }
  zoom.rho = function(_) {
    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;
    return zoomRho(_1, _2, _4);
  };
  return zoom;
}(Math.SQRT2, 2, 4);

// node_modules/d3-timer/src/timer.js
var frame = 0;
var timeout = 0;
var interval = 0;
var pokeDelay = 1e3;
var taskHead;
var taskTail;
var clockLast = 0;
var clockNow = 0;
var clockSkew = 0;
var clock = typeof performance === "object" && performance.now ? performance : Date;
var setFrame = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) {
  setTimeout(f, 17);
};
function now() {
  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);
}
function clearNow() {
  clockNow = 0;
}
function Timer() {
  this._call = this._time = this._next = null;
}
Timer.prototype = timer.prototype = {
  constructor: Timer,
  restart: function(callback, delay, time) {
    if (typeof callback !== "function")
      throw new TypeError("callback is not a function");
    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);
    if (!this._next && taskTail !== this) {
      if (taskTail)
        taskTail._next = this;
      else
        taskHead = this;
      taskTail = this;
    }
    this._call = callback;
    this._time = time;
    sleep();
  },
  stop: function() {
    if (this._call) {
      this._call = null;
      this._time = Infinity;
      sleep();
    }
  }
};
function timer(callback, delay, time) {
  var t = new Timer();
  t.restart(callback, delay, time);
  return t;
}
function timerFlush() {
  now();
  ++frame;
  var t = taskHead, e;
  while (t) {
    if ((e = clockNow - t._time) >= 0)
      t._call.call(void 0, e);
    t = t._next;
  }
  --frame;
}
function wake() {
  clockNow = (clockLast = clock.now()) + clockSkew;
  frame = timeout = 0;
  try {
    timerFlush();
  } finally {
    frame = 0;
    nap();
    clockNow = 0;
  }
}
function poke() {
  var now2 = clock.now(), delay = now2 - clockLast;
  if (delay > pokeDelay)
    clockSkew -= delay, clockLast = now2;
}
function nap() {
  var t0, t1 = taskHead, t2, time = Infinity;
  while (t1) {
    if (t1._call) {
      if (time > t1._time)
        time = t1._time;
      t0 = t1, t1 = t1._next;
    } else {
      t2 = t1._next, t1._next = null;
      t1 = t0 ? t0._next = t2 : taskHead = t2;
    }
  }
  taskTail = t0;
  sleep(time);
}
function sleep(time) {
  if (frame)
    return;
  if (timeout)
    timeout = clearTimeout(timeout);
  var delay = time - clockNow;
  if (delay > 24) {
    if (time < Infinity)
      timeout = setTimeout(wake, time - clock.now() - clockSkew);
    if (interval)
      interval = clearInterval(interval);
  } else {
    if (!interval)
      clockLast = clock.now(), interval = setInterval(poke, pokeDelay);
    frame = 1, setFrame(wake);
  }
}

// node_modules/d3-timer/src/timeout.js
function timeout_default(callback, delay, time) {
  var t = new Timer();
  delay = delay == null ? 0 : +delay;
  t.restart((elapsed) => {
    t.stop();
    callback(elapsed + delay);
  }, delay, time);
  return t;
}

// node_modules/d3-transition/src/transition/schedule.js
var emptyOn = dispatch_default("start", "end", "cancel", "interrupt");
var emptyTween = [];
var CREATED = 0;
var SCHEDULED = 1;
var STARTING = 2;
var STARTED = 3;
var RUNNING = 4;
var ENDING = 5;
var ENDED = 6;
function schedule_default(node, name, id2, index, group, timing) {
  var schedules = node.__transition;
  if (!schedules)
    node.__transition = {};
  else if (id2 in schedules)
    return;
  create(node, id2, {
    name,
    index,
    // For context during callback.
    group,
    // For context during callback.
    on: emptyOn,
    tween: emptyTween,
    time: timing.time,
    delay: timing.delay,
    duration: timing.duration,
    ease: timing.ease,
    timer: null,
    state: CREATED
  });
}
function init(node, id2) {
  var schedule = get2(node, id2);
  if (schedule.state > CREATED)
    throw new Error("too late; already scheduled");
  return schedule;
}
function set2(node, id2) {
  var schedule = get2(node, id2);
  if (schedule.state > STARTED)
    throw new Error("too late; already running");
  return schedule;
}
function get2(node, id2) {
  var schedule = node.__transition;
  if (!schedule || !(schedule = schedule[id2]))
    throw new Error("transition not found");
  return schedule;
}
function create(node, id2, self) {
  var schedules = node.__transition, tween;
  schedules[id2] = self;
  self.timer = timer(schedule, 0, self.time);
  function schedule(elapsed) {
    self.state = SCHEDULED;
    self.timer.restart(start2, self.delay, self.time);
    if (self.delay <= elapsed)
      start2(elapsed - self.delay);
  }
  function start2(elapsed) {
    var i, j, n, o;
    if (self.state !== SCHEDULED)
      return stop();
    for (i in schedules) {
      o = schedules[i];
      if (o.name !== self.name)
        continue;
      if (o.state === STARTED)
        return timeout_default(start2);
      if (o.state === RUNNING) {
        o.state = ENDED;
        o.timer.stop();
        o.on.call("interrupt", node, node.__data__, o.index, o.group);
        delete schedules[i];
      } else if (+i < id2) {
        o.state = ENDED;
        o.timer.stop();
        o.on.call("cancel", node, node.__data__, o.index, o.group);
        delete schedules[i];
      }
    }
    timeout_default(function() {
      if (self.state === STARTED) {
        self.state = RUNNING;
        self.timer.restart(tick, self.delay, self.time);
        tick(elapsed);
      }
    });
    self.state = STARTING;
    self.on.call("start", node, node.__data__, self.index, self.group);
    if (self.state !== STARTING)
      return;
    self.state = STARTED;
    tween = new Array(n = self.tween.length);
    for (i = 0, j = -1; i < n; ++i) {
      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {
        tween[++j] = o;
      }
    }
    tween.length = j + 1;
  }
  function tick(elapsed) {
    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1), i = -1, n = tween.length;
    while (++i < n) {
      tween[i].call(node, t);
    }
    if (self.state === ENDING) {
      self.on.call("end", node, node.__data__, self.index, self.group);
      stop();
    }
  }
  function stop() {
    self.state = ENDED;
    self.timer.stop();
    delete schedules[id2];
    for (var i in schedules)
      return;
    delete node.__transition;
  }
}

// node_modules/d3-transition/src/interrupt.js
function interrupt_default(node, name) {
  var schedules = node.__transition, schedule, active, empty2 = true, i;
  if (!schedules)
    return;
  name = name == null ? null : name + "";
  for (i in schedules) {
    if ((schedule = schedules[i]).name !== name) {
      empty2 = false;
      continue;
    }
    active = schedule.state > STARTING && schedule.state < ENDING;
    schedule.state = ENDED;
    schedule.timer.stop();
    schedule.on.call(active ? "interrupt" : "cancel", node, node.__data__, schedule.index, schedule.group);
    delete schedules[i];
  }
  if (empty2)
    delete node.__transition;
}

// node_modules/d3-transition/src/selection/interrupt.js
function interrupt_default2(name) {
  return this.each(function() {
    interrupt_default(this, name);
  });
}

// node_modules/d3-transition/src/transition/tween.js
function tweenRemove(id2, name) {
  var tween0, tween1;
  return function() {
    var schedule = set2(this, id2), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = tween0 = tween;
      for (var i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1 = tween1.slice();
          tween1.splice(i, 1);
          break;
        }
      }
    }
    schedule.tween = tween1;
  };
}
function tweenFunction(id2, name, value) {
  var tween0, tween1;
  if (typeof value !== "function")
    throw new Error();
  return function() {
    var schedule = set2(this, id2), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = (tween0 = tween).slice();
      for (var t = { name, value }, i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1[i] = t;
          break;
        }
      }
      if (i === n)
        tween1.push(t);
    }
    schedule.tween = tween1;
  };
}
function tween_default(name, value) {
  var id2 = this._id;
  name += "";
  if (arguments.length < 2) {
    var tween = get2(this.node(), id2).tween;
    for (var i = 0, n = tween.length, t; i < n; ++i) {
      if ((t = tween[i]).name === name) {
        return t.value;
      }
    }
    return null;
  }
  return this.each((value == null ? tweenRemove : tweenFunction)(id2, name, value));
}
function tweenValue(transition2, name, value) {
  var id2 = transition2._id;
  transition2.each(function() {
    var schedule = set2(this, id2);
    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);
  });
  return function(node) {
    return get2(node, id2).value[name];
  };
}

// node_modules/d3-transition/src/transition/interpolate.js
function interpolate_default(a, b) {
  var c;
  return (typeof b === "number" ? number_default : b instanceof color ? rgb_default : (c = color(b)) ? (b = c, rgb_default) : string_default)(a, b);
}

// node_modules/d3-transition/src/transition/attr.js
function attrRemove2(name) {
  return function() {
    this.removeAttribute(name);
  };
}
function attrRemoveNS2(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant2(name, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttribute(name);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrConstantNS2(fullname, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttributeNS(fullname.space, fullname.local);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrFunction2(name, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttribute(name);
    string0 = this.getAttribute(name);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attrFunctionNS2(fullname, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttributeNS(fullname.space, fullname.local);
    string0 = this.getAttributeNS(fullname.space, fullname.local);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attr_default2(name, value) {
  var fullname = namespace_default(name), i = fullname === "transform" ? interpolateTransformSvg : interpolate_default;
  return this.attrTween(name, typeof value === "function" ? (fullname.local ? attrFunctionNS2 : attrFunction2)(fullname, i, tweenValue(this, "attr." + name, value)) : value == null ? (fullname.local ? attrRemoveNS2 : attrRemove2)(fullname) : (fullname.local ? attrConstantNS2 : attrConstant2)(fullname, i, value));
}

// node_modules/d3-transition/src/transition/attrTween.js
function attrInterpolate(name, i) {
  return function(t) {
    this.setAttribute(name, i.call(this, t));
  };
}
function attrInterpolateNS(fullname, i) {
  return function(t) {
    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));
  };
}
function attrTweenNS(fullname, value) {
  var t0, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t0 = (i0 = i) && attrInterpolateNS(fullname, i);
    return t0;
  }
  tween._value = value;
  return tween;
}
function attrTween(name, value) {
  var t0, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t0 = (i0 = i) && attrInterpolate(name, i);
    return t0;
  }
  tween._value = value;
  return tween;
}
function attrTween_default(name, value) {
  var key = "attr." + name;
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  var fullname = namespace_default(name);
  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));
}

// node_modules/d3-transition/src/transition/delay.js
function delayFunction(id2, value) {
  return function() {
    init(this, id2).delay = +value.apply(this, arguments);
  };
}
function delayConstant(id2, value) {
  return value = +value, function() {
    init(this, id2).delay = value;
  };
}
function delay_default(value) {
  var id2 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? delayFunction : delayConstant)(id2, value)) : get2(this.node(), id2).delay;
}

// node_modules/d3-transition/src/transition/duration.js
function durationFunction(id2, value) {
  return function() {
    set2(this, id2).duration = +value.apply(this, arguments);
  };
}
function durationConstant(id2, value) {
  return value = +value, function() {
    set2(this, id2).duration = value;
  };
}
function duration_default(value) {
  var id2 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? durationFunction : durationConstant)(id2, value)) : get2(this.node(), id2).duration;
}

// node_modules/d3-transition/src/transition/ease.js
function easeConstant(id2, value) {
  if (typeof value !== "function")
    throw new Error();
  return function() {
    set2(this, id2).ease = value;
  };
}
function ease_default(value) {
  var id2 = this._id;
  return arguments.length ? this.each(easeConstant(id2, value)) : get2(this.node(), id2).ease;
}

// node_modules/d3-transition/src/transition/easeVarying.js
function easeVarying(id2, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (typeof v !== "function")
      throw new Error();
    set2(this, id2).ease = v;
  };
}
function easeVarying_default(value) {
  if (typeof value !== "function")
    throw new Error();
  return this.each(easeVarying(this._id, value));
}

// node_modules/d3-transition/src/transition/filter.js
function filter_default2(match) {
  if (typeof match !== "function")
    match = matcher_default(match);
  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {
        subgroup.push(node);
      }
    }
  }
  return new Transition(subgroups, this._parents, this._name, this._id);
}

// node_modules/d3-transition/src/transition/merge.js
function merge_default2(transition2) {
  if (transition2._id !== this._id)
    throw new Error();
  for (var groups0 = this._groups, groups1 = transition2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge[i] = node;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Transition(merges, this._parents, this._name, this._id);
}

// node_modules/d3-transition/src/transition/on.js
function start(name) {
  return (name + "").trim().split(/^|\s+/).every(function(t) {
    var i = t.indexOf(".");
    if (i >= 0)
      t = t.slice(0, i);
    return !t || t === "start";
  });
}
function onFunction(id2, name, listener) {
  var on0, on1, sit = start(name) ? init : set2;
  return function() {
    var schedule = sit(this, id2), on = schedule.on;
    if (on !== on0)
      (on1 = (on0 = on).copy()).on(name, listener);
    schedule.on = on1;
  };
}
function on_default2(name, listener) {
  var id2 = this._id;
  return arguments.length < 2 ? get2(this.node(), id2).on.on(name) : this.each(onFunction(id2, name, listener));
}

// node_modules/d3-transition/src/transition/remove.js
function removeFunction(id2) {
  return function() {
    var parent = this.parentNode;
    for (var i in this.__transition)
      if (+i !== id2)
        return;
    if (parent)
      parent.removeChild(this);
  };
}
function remove_default2() {
  return this.on("end.remove", removeFunction(this._id));
}

// node_modules/d3-transition/src/transition/select.js
function select_default3(select) {
  var name = this._name, id2 = this._id;
  if (typeof select !== "function")
    select = selector_default(select);
  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {
        if ("__data__" in node)
          subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
        schedule_default(subgroup[i], name, id2, i, subgroup, get2(node, id2));
      }
    }
  }
  return new Transition(subgroups, this._parents, name, id2);
}

// node_modules/d3-transition/src/transition/selectAll.js
function selectAll_default2(select) {
  var name = this._name, id2 = this._id;
  if (typeof select !== "function")
    select = selectorAll_default(select);
  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        for (var children2 = select.call(node, node.__data__, i, group), child, inherit2 = get2(node, id2), k = 0, l = children2.length; k < l; ++k) {
          if (child = children2[k]) {
            schedule_default(child, name, id2, k, children2, inherit2);
          }
        }
        subgroups.push(children2);
        parents.push(node);
      }
    }
  }
  return new Transition(subgroups, parents, name, id2);
}

// node_modules/d3-transition/src/transition/selection.js
var Selection2 = selection_default.prototype.constructor;
function selection_default2() {
  return new Selection2(this._groups, this._parents);
}

// node_modules/d3-transition/src/transition/style.js
function styleNull(name, interpolate) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);
  };
}
function styleRemove2(name) {
  return function() {
    this.style.removeProperty(name);
  };
}
function styleConstant2(name, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = styleValue(this, name);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function styleFunction2(name, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + "";
    if (value1 == null)
      string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function styleMaybeRemove(id2, name) {
  var on0, on1, listener0, key = "style." + name, event = "end." + key, remove2;
  return function() {
    var schedule = set2(this, id2), on = schedule.on, listener = schedule.value[key] == null ? remove2 || (remove2 = styleRemove2(name)) : void 0;
    if (on !== on0 || listener0 !== listener)
      (on1 = (on0 = on).copy()).on(event, listener0 = listener);
    schedule.on = on1;
  };
}
function style_default2(name, value, priority) {
  var i = (name += "") === "transform" ? interpolateTransformCss : interpolate_default;
  return value == null ? this.styleTween(name, styleNull(name, i)).on("end.style." + name, styleRemove2(name)) : typeof value === "function" ? this.styleTween(name, styleFunction2(name, i, tweenValue(this, "style." + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant2(name, i, value), priority).on("end.style." + name, null);
}

// node_modules/d3-transition/src/transition/styleTween.js
function styleInterpolate(name, i, priority) {
  return function(t) {
    this.style.setProperty(name, i.call(this, t), priority);
  };
}
function styleTween(name, value, priority) {
  var t, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t = (i0 = i) && styleInterpolate(name, i, priority);
    return t;
  }
  tween._value = value;
  return tween;
}
function styleTween_default(name, value, priority) {
  var key = "style." + (name += "");
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, styleTween(name, value, priority == null ? "" : priority));
}

// node_modules/d3-transition/src/transition/text.js
function textConstant2(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction2(value) {
  return function() {
    var value1 = value(this);
    this.textContent = value1 == null ? "" : value1;
  };
}
function text_default2(value) {
  return this.tween("text", typeof value === "function" ? textFunction2(tweenValue(this, "text", value)) : textConstant2(value == null ? "" : value + ""));
}

// node_modules/d3-transition/src/transition/textTween.js
function textInterpolate(i) {
  return function(t) {
    this.textContent = i.call(this, t);
  };
}
function textTween(value) {
  var t0, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t0 = (i0 = i) && textInterpolate(i);
    return t0;
  }
  tween._value = value;
  return tween;
}
function textTween_default(value) {
  var key = "text";
  if (arguments.length < 1)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, textTween(value));
}

// node_modules/d3-transition/src/transition/transition.js
function transition_default() {
  var name = this._name, id0 = this._id, id1 = newId();
  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        var inherit2 = get2(node, id0);
        schedule_default(node, name, id1, i, group, {
          time: inherit2.time + inherit2.delay + inherit2.duration,
          delay: 0,
          duration: inherit2.duration,
          ease: inherit2.ease
        });
      }
    }
  }
  return new Transition(groups, this._parents, name, id1);
}

// node_modules/d3-transition/src/transition/end.js
function end_default() {
  var on0, on1, that = this, id2 = that._id, size = that.size();
  return new Promise(function(resolve, reject) {
    var cancel = { value: reject }, end = { value: function() {
      if (--size === 0)
        resolve();
    } };
    that.each(function() {
      var schedule = set2(this, id2), on = schedule.on;
      if (on !== on0) {
        on1 = (on0 = on).copy();
        on1._.cancel.push(cancel);
        on1._.interrupt.push(cancel);
        on1._.end.push(end);
      }
      schedule.on = on1;
    });
    if (size === 0)
      resolve();
  });
}

// node_modules/d3-transition/src/transition/index.js
var id = 0;
function Transition(groups, parents, name, id2) {
  this._groups = groups;
  this._parents = parents;
  this._name = name;
  this._id = id2;
}
function transition(name) {
  return selection_default().transition(name);
}
function newId() {
  return ++id;
}
var selection_prototype = selection_default.prototype;
Transition.prototype = transition.prototype = {
  constructor: Transition,
  select: select_default3,
  selectAll: selectAll_default2,
  selectChild: selection_prototype.selectChild,
  selectChildren: selection_prototype.selectChildren,
  filter: filter_default2,
  merge: merge_default2,
  selection: selection_default2,
  transition: transition_default,
  call: selection_prototype.call,
  nodes: selection_prototype.nodes,
  node: selection_prototype.node,
  size: selection_prototype.size,
  empty: selection_prototype.empty,
  each: selection_prototype.each,
  on: on_default2,
  attr: attr_default2,
  attrTween: attrTween_default,
  style: style_default2,
  styleTween: styleTween_default,
  text: text_default2,
  textTween: textTween_default,
  remove: remove_default2,
  tween: tween_default,
  delay: delay_default,
  duration: duration_default,
  ease: ease_default,
  easeVarying: easeVarying_default,
  end: end_default,
  [Symbol.iterator]: selection_prototype[Symbol.iterator]
};

// node_modules/d3-ease/src/cubic.js
function cubicInOut(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}

// node_modules/d3-transition/src/selection/transition.js
var defaultTiming = {
  time: null,
  // Set on use.
  delay: 0,
  duration: 250,
  ease: cubicInOut
};
function inherit(node, id2) {
  var timing;
  while (!(timing = node.__transition) || !(timing = timing[id2])) {
    if (!(node = node.parentNode)) {
      throw new Error(`transition ${id2} not found`);
    }
  }
  return timing;
}
function transition_default2(name) {
  var id2, timing;
  if (name instanceof Transition) {
    id2 = name._id, name = name._name;
  } else {
    id2 = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + "";
  }
  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        schedule_default(node, name, id2, i, group, timing || inherit(node, id2));
      }
    }
  }
  return new Transition(groups, this._parents, name, id2);
}

// node_modules/d3-transition/src/selection/index.js
selection_default.prototype.interrupt = interrupt_default2;
selection_default.prototype.transition = transition_default2;

// node_modules/d3-zoom/src/constant.js
var constant_default4 = (x) => () => x;

// node_modules/d3-zoom/src/event.js
function ZoomEvent(type, {
  sourceEvent,
  target,
  transform: transform2,
  dispatch: dispatch3
}) {
  Object.defineProperties(this, {
    type: { value: type, enumerable: true, configurable: true },
    sourceEvent: { value: sourceEvent, enumerable: true, configurable: true },
    target: { value: target, enumerable: true, configurable: true },
    transform: { value: transform2, enumerable: true, configurable: true },
    _: { value: dispatch3 }
  });
}

// node_modules/d3-zoom/src/transform.js
function Transform(k, x, y) {
  this.k = k;
  this.x = x;
  this.y = y;
}
Transform.prototype = {
  constructor: Transform,
  scale: function(k) {
    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);
  },
  translate: function(x, y) {
    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);
  },
  apply: function(point) {
    return [point[0] * this.k + this.x, point[1] * this.k + this.y];
  },
  applyX: function(x) {
    return x * this.k + this.x;
  },
  applyY: function(y) {
    return y * this.k + this.y;
  },
  invert: function(location) {
    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];
  },
  invertX: function(x) {
    return (x - this.x) / this.k;
  },
  invertY: function(y) {
    return (y - this.y) / this.k;
  },
  rescaleX: function(x) {
    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));
  },
  rescaleY: function(y) {
    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));
  },
  toString: function() {
    return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
  }
};
var identity2 = new Transform(1, 0, 0);
transform.prototype = Transform.prototype;
function transform(node) {
  while (!node.__zoom)
    if (!(node = node.parentNode))
      return identity2;
  return node.__zoom;
}

// node_modules/d3-zoom/src/noevent.js
function nopropagation2(event) {
  event.stopImmediatePropagation();
}
function noevent_default2(event) {
  event.preventDefault();
  event.stopImmediatePropagation();
}

// node_modules/d3-zoom/src/zoom.js
function defaultFilter2(event) {
  return (!event.ctrlKey || event.type === "wheel") && !event.button;
}
function defaultExtent() {
  var e = this;
  if (e instanceof SVGElement) {
    e = e.ownerSVGElement || e;
    if (e.hasAttribute("viewBox")) {
      e = e.viewBox.baseVal;
      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];
    }
    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];
  }
  return [[0, 0], [e.clientWidth, e.clientHeight]];
}
function defaultTransform() {
  return this.__zoom || identity2;
}
function defaultWheelDelta(event) {
  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * (event.ctrlKey ? 10 : 1);
}
function defaultTouchable2() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function defaultConstrain(transform2, extent, translateExtent) {
  var dx0 = transform2.invertX(extent[0][0]) - translateExtent[0][0], dx1 = transform2.invertX(extent[1][0]) - translateExtent[1][0], dy0 = transform2.invertY(extent[0][1]) - translateExtent[0][1], dy1 = transform2.invertY(extent[1][1]) - translateExtent[1][1];
  return transform2.translate(
    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),
    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)
  );
}
function zoom_default2() {
  var filter2 = defaultFilter2, extent = defaultExtent, constrain = defaultConstrain, wheelDelta2 = defaultWheelDelta, touchable = defaultTouchable2, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate = zoom_default, listeners = dispatch_default("start", "zoom", "end"), touchstarting, touchfirst, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0, tapDistance = 10;
  function zoom(selection2) {
    selection2.property("__zoom", defaultTransform).on("wheel.zoom", wheeled, { passive: false }).on("mousedown.zoom", mousedowned).on("dblclick.zoom", dblclicked).filter(touchable).on("touchstart.zoom", touchstarted).on("touchmove.zoom", touchmoved).on("touchend.zoom touchcancel.zoom", touchended).style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  zoom.transform = function(collection, transform2, point, event) {
    var selection2 = collection.selection ? collection.selection() : collection;
    selection2.property("__zoom", defaultTransform);
    if (collection !== selection2) {
      schedule(collection, transform2, point, event);
    } else {
      selection2.interrupt().each(function() {
        gesture(this, arguments).event(event).start().zoom(null, typeof transform2 === "function" ? transform2.apply(this, arguments) : transform2).end();
      });
    }
  };
  zoom.scaleBy = function(selection2, k, p, event) {
    zoom.scaleTo(selection2, function() {
      var k0 = this.__zoom.k, k1 = typeof k === "function" ? k.apply(this, arguments) : k;
      return k0 * k1;
    }, p, event);
  };
  zoom.scaleTo = function(selection2, k, p, event) {
    zoom.transform(selection2, function() {
      var e = extent.apply(this, arguments), t0 = this.__zoom, p0 = p == null ? centroid(e) : typeof p === "function" ? p.apply(this, arguments) : p, p1 = t0.invert(p0), k1 = typeof k === "function" ? k.apply(this, arguments) : k;
      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);
    }, p, event);
  };
  zoom.translateBy = function(selection2, x, y, event) {
    zoom.transform(selection2, function() {
      return constrain(this.__zoom.translate(
        typeof x === "function" ? x.apply(this, arguments) : x,
        typeof y === "function" ? y.apply(this, arguments) : y
      ), extent.apply(this, arguments), translateExtent);
    }, null, event);
  };
  zoom.translateTo = function(selection2, x, y, p, event) {
    zoom.transform(selection2, function() {
      var e = extent.apply(this, arguments), t = this.__zoom, p0 = p == null ? centroid(e) : typeof p === "function" ? p.apply(this, arguments) : p;
      return constrain(identity2.translate(p0[0], p0[1]).scale(t.k).translate(
        typeof x === "function" ? -x.apply(this, arguments) : -x,
        typeof y === "function" ? -y.apply(this, arguments) : -y
      ), e, translateExtent);
    }, p, event);
  };
  function scale(transform2, k) {
    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));
    return k === transform2.k ? transform2 : new Transform(k, transform2.x, transform2.y);
  }
  function translate(transform2, p0, p1) {
    var x = p0[0] - p1[0] * transform2.k, y = p0[1] - p1[1] * transform2.k;
    return x === transform2.x && y === transform2.y ? transform2 : new Transform(transform2.k, x, y);
  }
  function centroid(extent2) {
    return [(+extent2[0][0] + +extent2[1][0]) / 2, (+extent2[0][1] + +extent2[1][1]) / 2];
  }
  function schedule(transition2, transform2, point, event) {
    transition2.on("start.zoom", function() {
      gesture(this, arguments).event(event).start();
    }).on("interrupt.zoom end.zoom", function() {
      gesture(this, arguments).event(event).end();
    }).tween("zoom", function() {
      var that = this, args = arguments, g = gesture(that, args).event(event), e = extent.apply(that, args), p = point == null ? centroid(e) : typeof point === "function" ? point.apply(that, args) : point, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a = that.__zoom, b = typeof transform2 === "function" ? transform2.apply(that, args) : transform2, i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));
      return function(t) {
        if (t === 1)
          t = b;
        else {
          var l = i(t), k = w / l[2];
          t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);
        }
        g.zoom(null, t);
      };
    });
  }
  function gesture(that, args, clean) {
    return !clean && that.__zooming || new Gesture(that, args);
  }
  function Gesture(that, args) {
    this.that = that;
    this.args = args;
    this.active = 0;
    this.sourceEvent = null;
    this.extent = extent.apply(that, args);
    this.taps = 0;
  }
  Gesture.prototype = {
    event: function(event) {
      if (event)
        this.sourceEvent = event;
      return this;
    },
    start: function() {
      if (++this.active === 1) {
        this.that.__zooming = this;
        this.emit("start");
      }
      return this;
    },
    zoom: function(key, transform2) {
      if (this.mouse && key !== "mouse")
        this.mouse[1] = transform2.invert(this.mouse[0]);
      if (this.touch0 && key !== "touch")
        this.touch0[1] = transform2.invert(this.touch0[0]);
      if (this.touch1 && key !== "touch")
        this.touch1[1] = transform2.invert(this.touch1[0]);
      this.that.__zoom = transform2;
      this.emit("zoom");
      return this;
    },
    end: function() {
      if (--this.active === 0) {
        delete this.that.__zooming;
        this.emit("end");
      }
      return this;
    },
    emit: function(type) {
      var d = select_default2(this.that).datum();
      listeners.call(
        type,
        this.that,
        new ZoomEvent(type, {
          sourceEvent: this.sourceEvent,
          target: zoom,
          type,
          transform: this.that.__zoom,
          dispatch: listeners
        }),
        d
      );
    }
  };
  function wheeled(event, ...args) {
    if (!filter2.apply(this, arguments))
      return;
    var g = gesture(this, args).event(event), t = this.__zoom, k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta2.apply(this, arguments)))), p = pointer_default(event);
    if (g.wheel) {
      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {
        g.mouse[1] = t.invert(g.mouse[0] = p);
      }
      clearTimeout(g.wheel);
    } else if (t.k === k)
      return;
    else {
      g.mouse = [p, t.invert(p)];
      interrupt_default(this);
      g.start();
    }
    noevent_default2(event);
    g.wheel = setTimeout(wheelidled, wheelDelay);
    g.zoom("mouse", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));
    function wheelidled() {
      g.wheel = null;
      g.end();
    }
  }
  function mousedowned(event, ...args) {
    if (touchending || !filter2.apply(this, arguments))
      return;
    var currentTarget = event.currentTarget, g = gesture(this, args, true).event(event), v = select_default2(event.view).on("mousemove.zoom", mousemoved, true).on("mouseup.zoom", mouseupped, true), p = pointer_default(event, currentTarget), x0 = event.clientX, y0 = event.clientY;
    nodrag_default(event.view);
    nopropagation2(event);
    g.mouse = [p, this.__zoom.invert(p)];
    interrupt_default(this);
    g.start();
    function mousemoved(event2) {
      noevent_default2(event2);
      if (!g.moved) {
        var dx = event2.clientX - x0, dy = event2.clientY - y0;
        g.moved = dx * dx + dy * dy > clickDistance2;
      }
      g.event(event2).zoom("mouse", constrain(translate(g.that.__zoom, g.mouse[0] = pointer_default(event2, currentTarget), g.mouse[1]), g.extent, translateExtent));
    }
    function mouseupped(event2) {
      v.on("mousemove.zoom mouseup.zoom", null);
      yesdrag(event2.view, g.moved);
      noevent_default2(event2);
      g.event(event2).end();
    }
  }
  function dblclicked(event, ...args) {
    if (!filter2.apply(this, arguments))
      return;
    var t0 = this.__zoom, p0 = pointer_default(event.changedTouches ? event.changedTouches[0] : event, this), p1 = t0.invert(p0), k1 = t0.k * (event.shiftKey ? 0.5 : 2), t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);
    noevent_default2(event);
    if (duration > 0)
      select_default2(this).transition().duration(duration).call(schedule, t1, p0, event);
    else
      select_default2(this).call(zoom.transform, t1, p0, event);
  }
  function touchstarted(event, ...args) {
    if (!filter2.apply(this, arguments))
      return;
    var touches = event.touches, n = touches.length, g = gesture(this, args, event.changedTouches.length === n).event(event), started, i, t, p;
    nopropagation2(event);
    for (i = 0; i < n; ++i) {
      t = touches[i], p = pointer_default(t, this);
      p = [p, this.__zoom.invert(p), t.identifier];
      if (!g.touch0)
        g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;
      else if (!g.touch1 && g.touch0[2] !== p[2])
        g.touch1 = p, g.taps = 0;
    }
    if (touchstarting)
      touchstarting = clearTimeout(touchstarting);
    if (started) {
      if (g.taps < 2)
        touchfirst = p[0], touchstarting = setTimeout(function() {
          touchstarting = null;
        }, touchDelay);
      interrupt_default(this);
      g.start();
    }
  }
  function touchmoved(event, ...args) {
    if (!this.__zooming)
      return;
    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t, p, l;
    noevent_default2(event);
    for (i = 0; i < n; ++i) {
      t = touches[i], p = pointer_default(t, this);
      if (g.touch0 && g.touch0[2] === t.identifier)
        g.touch0[0] = p;
      else if (g.touch1 && g.touch1[2] === t.identifier)
        g.touch1[0] = p;
    }
    t = g.that.__zoom;
    if (g.touch1) {
      var p0 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;
      t = scale(t, Math.sqrt(dp / dl));
      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];
      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];
    } else if (g.touch0)
      p = g.touch0[0], l = g.touch0[1];
    else
      return;
    g.zoom("touch", constrain(translate(t, p, l), g.extent, translateExtent));
  }
  function touchended(event, ...args) {
    if (!this.__zooming)
      return;
    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t;
    nopropagation2(event);
    if (touchending)
      clearTimeout(touchending);
    touchending = setTimeout(function() {
      touchending = null;
    }, touchDelay);
    for (i = 0; i < n; ++i) {
      t = touches[i];
      if (g.touch0 && g.touch0[2] === t.identifier)
        delete g.touch0;
      else if (g.touch1 && g.touch1[2] === t.identifier)
        delete g.touch1;
    }
    if (g.touch1 && !g.touch0)
      g.touch0 = g.touch1, delete g.touch1;
    if (g.touch0)
      g.touch0[1] = this.__zoom.invert(g.touch0[0]);
    else {
      g.end();
      if (g.taps === 2) {
        t = pointer_default(t, this);
        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {
          var p = select_default2(this).on("dblclick.zoom");
          if (p)
            p.apply(this, arguments);
        }
      }
    }
  }
  zoom.wheelDelta = function(_) {
    return arguments.length ? (wheelDelta2 = typeof _ === "function" ? _ : constant_default4(+_), zoom) : wheelDelta2;
  };
  zoom.filter = function(_) {
    return arguments.length ? (filter2 = typeof _ === "function" ? _ : constant_default4(!!_), zoom) : filter2;
  };
  zoom.touchable = function(_) {
    return arguments.length ? (touchable = typeof _ === "function" ? _ : constant_default4(!!_), zoom) : touchable;
  };
  zoom.extent = function(_) {
    return arguments.length ? (extent = typeof _ === "function" ? _ : constant_default4([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;
  };
  zoom.scaleExtent = function(_) {
    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];
  };
  zoom.translateExtent = function(_) {
    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];
  };
  zoom.constrain = function(_) {
    return arguments.length ? (constrain = _, zoom) : constrain;
  };
  zoom.duration = function(_) {
    return arguments.length ? (duration = +_, zoom) : duration;
  };
  zoom.interpolate = function(_) {
    return arguments.length ? (interpolate = _, zoom) : interpolate;
  };
  zoom.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? zoom : value;
  };
  zoom.clickDistance = function(_) {
    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);
  };
  zoom.tapDistance = function(_) {
    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;
  };
  return zoom;
}

// node_modules/@reactflow/core/dist/esm/index.mjs
var import_react_dom = __toESM(require_react_dom(), 1);
var StoreContext = (0, import_react2.createContext)(null);
var Provider$1 = StoreContext.Provider;
var errorMessages = {
  error001: () => "[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",
  error002: () => "It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",
  error003: (nodeType) => `Node type "${nodeType}" not found. Using fallback type "default".`,
  error004: () => "The React Flow parent container needs a width and a height to render the graph.",
  error005: () => "Only child nodes can use a parent extent.",
  error006: () => "Can't create edge. An edge needs a source and a target.",
  error007: (id2) => `The old edge with id=${id2} does not exist.`,
  error009: (type) => `Marker type "${type}" doesn't exist.`,
  error008: (sourceHandle, edge) => `Couldn't create edge for ${!sourceHandle ? "source" : "target"} handle id: "${!sourceHandle ? edge.sourceHandle : edge.targetHandle}", edge id: ${edge.id}.`,
  error010: () => "Handle: No node id found. Make sure to only use a Handle inside a custom Node.",
  error011: (edgeType) => `Edge type "${edgeType}" not found. Using fallback type "default".`,
  error012: (id2) => `Node with id "${id2}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`
};
var zustandErrorMessage = errorMessages["error001"]();
function useStore2(selector, equalityFn) {
  const store = (0, import_react2.useContext)(StoreContext);
  if (store === null) {
    throw new Error(zustandErrorMessage);
  }
  return useStoreWithEqualityFn(store, selector, equalityFn);
}
var useStoreApi = () => {
  const store = (0, import_react2.useContext)(StoreContext);
  if (store === null) {
    throw new Error(zustandErrorMessage);
  }
  return (0, import_react2.useMemo)(() => ({
    getState: store.getState,
    setState: store.setState,
    subscribe: store.subscribe,
    destroy: store.destroy
  }), [store]);
};
var selector$g = (s) => s.userSelectionActive ? "none" : "all";
function Panel({ position, children: children2, className, style: style2, ...rest }) {
  const pointerEvents = useStore2(selector$g);
  const positionClasses = `${position}`.split("-");
  return import_react2.default.createElement("div", { className: cc(["react-flow__panel", className, ...positionClasses]), style: { ...style2, pointerEvents }, ...rest }, children2);
}
function Attribution({ proOptions, position = "bottom-right" }) {
  if (proOptions?.hideAttribution) {
    return null;
  }
  return import_react2.default.createElement(
    Panel,
    { position, className: "react-flow__attribution", "data-message": "Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev" },
    import_react2.default.createElement("a", { href: "https://reactflow.dev", target: "_blank", rel: "noopener noreferrer", "aria-label": "React Flow attribution" }, "React Flow")
  );
}
var EdgeText = ({ x, y, label, labelStyle = {}, labelShowBg = true, labelBgStyle = {}, labelBgPadding = [2, 4], labelBgBorderRadius = 2, children: children2, className, ...rest }) => {
  const edgeRef = (0, import_react2.useRef)(null);
  const [edgeTextBbox, setEdgeTextBbox] = (0, import_react2.useState)({ x: 0, y: 0, width: 0, height: 0 });
  const edgeTextClasses = cc(["react-flow__edge-textwrapper", className]);
  (0, import_react2.useEffect)(() => {
    if (edgeRef.current) {
      const textBbox = edgeRef.current.getBBox();
      setEdgeTextBbox({
        x: textBbox.x,
        y: textBbox.y,
        width: textBbox.width,
        height: textBbox.height
      });
    }
  }, [label]);
  if (typeof label === "undefined" || !label) {
    return null;
  }
  return import_react2.default.createElement(
    "g",
    { transform: `translate(${x - edgeTextBbox.width / 2} ${y - edgeTextBbox.height / 2})`, className: edgeTextClasses, visibility: edgeTextBbox.width ? "visible" : "hidden", ...rest },
    labelShowBg && import_react2.default.createElement("rect", { width: edgeTextBbox.width + 2 * labelBgPadding[0], x: -labelBgPadding[0], y: -labelBgPadding[1], height: edgeTextBbox.height + 2 * labelBgPadding[1], className: "react-flow__edge-textbg", style: labelBgStyle, rx: labelBgBorderRadius, ry: labelBgBorderRadius }),
    import_react2.default.createElement("text", { className: "react-flow__edge-text", y: edgeTextBbox.height / 2, dy: "0.3em", ref: edgeRef, style: labelStyle }, label),
    children2
  );
};
var EdgeText$1 = (0, import_react2.memo)(EdgeText);
var getDimensions = (node) => ({
  width: node.offsetWidth,
  height: node.offsetHeight
});
var clamp = (val, min = 0, max = 1) => Math.min(Math.max(val, min), max);
var clampPosition = (position = { x: 0, y: 0 }, extent) => ({
  x: clamp(position.x, extent[0][0], extent[1][0]),
  y: clamp(position.y, extent[0][1], extent[1][1])
});
var calcAutoPanVelocity = (value, min, max) => {
  if (value < min) {
    return clamp(Math.abs(value - min), 1, 50) / 50;
  } else if (value > max) {
    return -clamp(Math.abs(value - max), 1, 50) / 50;
  }
  return 0;
};
var calcAutoPan = (pos, bounds) => {
  const xMovement = calcAutoPanVelocity(pos.x, 35, bounds.width - 35) * 20;
  const yMovement = calcAutoPanVelocity(pos.y, 35, bounds.height - 35) * 20;
  return [xMovement, yMovement];
};
var getHostForElement = (element) => element.getRootNode?.() || window?.document;
var getBoundsOfBoxes = (box1, box2) => ({
  x: Math.min(box1.x, box2.x),
  y: Math.min(box1.y, box2.y),
  x2: Math.max(box1.x2, box2.x2),
  y2: Math.max(box1.y2, box2.y2)
});
var rectToBox = ({ x, y, width, height }) => ({
  x,
  y,
  x2: x + width,
  y2: y + height
});
var boxToRect = ({ x, y, x2, y2 }) => ({
  x,
  y,
  width: x2 - x,
  height: y2 - y
});
var nodeToRect = (node) => ({
  ...node.positionAbsolute || { x: 0, y: 0 },
  width: node.width || 0,
  height: node.height || 0
});
var getOverlappingArea = (rectA, rectB) => {
  const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));
  const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));
  return Math.ceil(xOverlap * yOverlap);
};
var isRectObject = (obj) => isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);
var isNumeric = (n) => !isNaN(n) && isFinite(n);
var internalsSymbol = Symbol.for("internals");
var elementSelectionKeys = ["Enter", " ", "Escape"];
var devWarn = (id2, message) => {
  if (true) {
    console.warn(`[React Flow]: ${message} Help: https://reactflow.dev/error#${id2}`);
  }
};
var isReactKeyboardEvent = (event) => "nativeEvent" in event;
function isInputDOMNode(event) {
  const kbEvent = isReactKeyboardEvent(event) ? event.nativeEvent : event;
  const target = kbEvent.composedPath?.()?.[0] || event.target;
  const isInput = ["INPUT", "SELECT", "TEXTAREA"].includes(target?.nodeName) || target?.hasAttribute("contenteditable");
  return isInput || !!target?.closest(".nokey");
}
var isMouseEvent = (event) => "clientX" in event;
var getEventPosition = (event, bounds) => {
  const isMouseTriggered = isMouseEvent(event);
  const evtX = isMouseTriggered ? event.clientX : event.touches?.[0].clientX;
  const evtY = isMouseTriggered ? event.clientY : event.touches?.[0].clientY;
  return {
    x: evtX - (bounds?.left ?? 0),
    y: evtY - (bounds?.top ?? 0)
  };
};
var isMacOs = () => typeof navigator !== "undefined" && navigator?.userAgent?.indexOf("Mac") >= 0;
var BaseEdge = ({ id: id2, path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, markerEnd, markerStart, interactionWidth = 20 }) => {
  return import_react2.default.createElement(
    import_react2.default.Fragment,
    null,
    import_react2.default.createElement("path", { id: id2, style: style2, d: path, fill: "none", className: "react-flow__edge-path", markerEnd, markerStart }),
    interactionWidth && import_react2.default.createElement("path", { d: path, fill: "none", strokeOpacity: 0, strokeWidth: interactionWidth, className: "react-flow__edge-interaction" }),
    label && isNumeric(labelX) && isNumeric(labelY) ? import_react2.default.createElement(EdgeText$1, { x: labelX, y: labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius }) : null
  );
};
BaseEdge.displayName = "BaseEdge";
function getMouseHandler$1(id2, getState, handler) {
  return handler === void 0 ? handler : (event) => {
    const edge = getState().edges.find((e) => e.id === id2);
    if (edge) {
      handler(event, { ...edge });
    }
  };
}
function getEdgeCenter({ sourceX, sourceY, targetX, targetY }) {
  const xOffset = Math.abs(targetX - sourceX) / 2;
  const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;
  const yOffset = Math.abs(targetY - sourceY) / 2;
  const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;
  return [centerX, centerY, xOffset, yOffset];
}
function getBezierEdgeCenter({ sourceX, sourceY, targetX, targetY, sourceControlX, sourceControlY, targetControlX, targetControlY }) {
  const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;
  const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;
  const offsetX = Math.abs(centerX - sourceX);
  const offsetY = Math.abs(centerY - sourceY);
  return [centerX, centerY, offsetX, offsetY];
}
var ConnectionMode;
(function(ConnectionMode2) {
  ConnectionMode2["Strict"] = "strict";
  ConnectionMode2["Loose"] = "loose";
})(ConnectionMode || (ConnectionMode = {}));
var PanOnScrollMode;
(function(PanOnScrollMode2) {
  PanOnScrollMode2["Free"] = "free";
  PanOnScrollMode2["Vertical"] = "vertical";
  PanOnScrollMode2["Horizontal"] = "horizontal";
})(PanOnScrollMode || (PanOnScrollMode = {}));
var SelectionMode;
(function(SelectionMode2) {
  SelectionMode2["Partial"] = "partial";
  SelectionMode2["Full"] = "full";
})(SelectionMode || (SelectionMode = {}));
var ConnectionLineType;
(function(ConnectionLineType2) {
  ConnectionLineType2["Bezier"] = "default";
  ConnectionLineType2["Straight"] = "straight";
  ConnectionLineType2["Step"] = "step";
  ConnectionLineType2["SmoothStep"] = "smoothstep";
  ConnectionLineType2["SimpleBezier"] = "simplebezier";
})(ConnectionLineType || (ConnectionLineType = {}));
var MarkerType;
(function(MarkerType2) {
  MarkerType2["Arrow"] = "arrow";
  MarkerType2["ArrowClosed"] = "arrowclosed";
})(MarkerType || (MarkerType = {}));
var Position;
(function(Position2) {
  Position2["Left"] = "left";
  Position2["Top"] = "top";
  Position2["Right"] = "right";
  Position2["Bottom"] = "bottom";
})(Position || (Position = {}));
function getControl({ pos, x1, y1, x2, y2 }) {
  if (pos === Position.Left || pos === Position.Right) {
    return [0.5 * (x1 + x2), y1];
  }
  return [x1, 0.5 * (y1 + y2)];
}
function getSimpleBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top }) {
  const [sourceControlX, sourceControlY] = getControl({
    pos: sourcePosition,
    x1: sourceX,
    y1: sourceY,
    x2: targetX,
    y2: targetY
  });
  const [targetControlX, targetControlY] = getControl({
    pos: targetPosition,
    x1: targetX,
    y1: targetY,
    x2: sourceX,
    y2: sourceY
  });
  const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({
    sourceX,
    sourceY,
    targetX,
    targetY,
    sourceControlX,
    sourceControlY,
    targetControlX,
    targetControlY
  });
  return [
    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,
    labelX,
    labelY,
    offsetX,
    offsetY
  ];
}
var SimpleBezierEdge = (0, import_react2.memo)(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, markerEnd, markerStart, interactionWidth }) => {
  const [path, labelX, labelY] = getSimpleBezierPath({
    sourceX,
    sourceY,
    sourcePosition,
    targetX,
    targetY,
    targetPosition
  });
  return import_react2.default.createElement(BaseEdge, { path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, markerEnd, markerStart, interactionWidth });
});
SimpleBezierEdge.displayName = "SimpleBezierEdge";
var handleDirections = {
  [Position.Left]: { x: -1, y: 0 },
  [Position.Right]: { x: 1, y: 0 },
  [Position.Top]: { x: 0, y: -1 },
  [Position.Bottom]: { x: 0, y: 1 }
};
var getDirection = ({ source, sourcePosition = Position.Bottom, target }) => {
  if (sourcePosition === Position.Left || sourcePosition === Position.Right) {
    return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };
  }
  return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };
};
var distance = (a, b) => Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));
function getPoints({ source, sourcePosition = Position.Bottom, target, targetPosition = Position.Top, center, offset }) {
  const sourceDir = handleDirections[sourcePosition];
  const targetDir = handleDirections[targetPosition];
  const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };
  const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };
  const dir = getDirection({
    source: sourceGapped,
    sourcePosition,
    target: targetGapped
  });
  const dirAccessor = dir.x !== 0 ? "x" : "y";
  const currDir = dir[dirAccessor];
  let points = [];
  let centerX, centerY;
  const sourceGapOffset = { x: 0, y: 0 };
  const targetGapOffset = { x: 0, y: 0 };
  const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getEdgeCenter({
    sourceX: source.x,
    sourceY: source.y,
    targetX: target.x,
    targetY: target.y
  });
  if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {
    centerX = center.x || defaultCenterX;
    centerY = center.y || defaultCenterY;
    const verticalSplit = [
      { x: centerX, y: sourceGapped.y },
      { x: centerX, y: targetGapped.y }
    ];
    const horizontalSplit = [
      { x: sourceGapped.x, y: centerY },
      { x: targetGapped.x, y: centerY }
    ];
    if (sourceDir[dirAccessor] === currDir) {
      points = dirAccessor === "x" ? verticalSplit : horizontalSplit;
    } else {
      points = dirAccessor === "x" ? horizontalSplit : verticalSplit;
    }
  } else {
    const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];
    const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];
    if (dirAccessor === "x") {
      points = sourceDir.x === currDir ? targetSource : sourceTarget;
    } else {
      points = sourceDir.y === currDir ? sourceTarget : targetSource;
    }
    if (sourcePosition === targetPosition) {
      const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);
      if (diff <= offset) {
        const gapOffset = Math.min(offset - 1, offset - diff);
        if (sourceDir[dirAccessor] === currDir) {
          sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;
        } else {
          targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;
        }
      }
    }
    if (sourcePosition !== targetPosition) {
      const dirAccessorOpposite = dirAccessor === "x" ? "y" : "x";
      const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];
      const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];
      const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];
      const flipSourceTarget = sourceDir[dirAccessor] === 1 && (!isSameDir && sourceGtTargetOppo || isSameDir && sourceLtTargetOppo) || sourceDir[dirAccessor] !== 1 && (!isSameDir && sourceLtTargetOppo || isSameDir && sourceGtTargetOppo);
      if (flipSourceTarget) {
        points = dirAccessor === "x" ? sourceTarget : targetSource;
      }
    }
    const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };
    const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };
    const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));
    const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));
    if (maxXDistance >= maxYDistance) {
      centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;
      centerY = points[0].y;
    } else {
      centerX = points[0].x;
      centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;
    }
  }
  const pathPoints = [
    source,
    { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },
    ...points,
    { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },
    target
  ];
  return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];
}
function getBend(a, b, c, size) {
  const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);
  const { x, y } = b;
  if (a.x === x && x === c.x || a.y === y && y === c.y) {
    return `L${x} ${y}`;
  }
  if (a.y === y) {
    const xDir2 = a.x < c.x ? -1 : 1;
    const yDir2 = a.y < c.y ? 1 : -1;
    return `L ${x + bendSize * xDir2},${y}Q ${x},${y} ${x},${y + bendSize * yDir2}`;
  }
  const xDir = a.x < c.x ? 1 : -1;
  const yDir = a.y < c.y ? -1 : 1;
  return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;
}
function getSmoothStepPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, borderRadius = 5, centerX, centerY, offset = 20 }) {
  const [points, labelX, labelY, offsetX, offsetY] = getPoints({
    source: { x: sourceX, y: sourceY },
    sourcePosition,
    target: { x: targetX, y: targetY },
    targetPosition,
    center: { x: centerX, y: centerY },
    offset
  });
  const path = points.reduce((res, p, i) => {
    let segment = "";
    if (i > 0 && i < points.length - 1) {
      segment = getBend(points[i - 1], p, points[i + 1], borderRadius);
    } else {
      segment = `${i === 0 ? "M" : "L"}${p.x} ${p.y}`;
    }
    res += segment;
    return res;
  }, "");
  return [path, labelX, labelY, offsetX, offsetY];
}
var SmoothStepEdge = (0, import_react2.memo)(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, sourcePosition = Position.Bottom, targetPosition = Position.Top, markerEnd, markerStart, pathOptions, interactionWidth }) => {
  const [path, labelX, labelY] = getSmoothStepPath({
    sourceX,
    sourceY,
    sourcePosition,
    targetX,
    targetY,
    targetPosition,
    borderRadius: pathOptions?.borderRadius,
    offset: pathOptions?.offset
  });
  return import_react2.default.createElement(BaseEdge, { path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, markerEnd, markerStart, interactionWidth });
});
SmoothStepEdge.displayName = "SmoothStepEdge";
var StepEdge = (0, import_react2.memo)((props) => import_react2.default.createElement(SmoothStepEdge, { ...props, pathOptions: (0, import_react2.useMemo)(() => ({ borderRadius: 0, offset: props.pathOptions?.offset }), [props.pathOptions?.offset]) }));
StepEdge.displayName = "StepEdge";
function getStraightPath({ sourceX, sourceY, targetX, targetY }) {
  const [labelX, labelY, offsetX, offsetY] = getEdgeCenter({
    sourceX,
    sourceY,
    targetX,
    targetY
  });
  return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, labelX, labelY, offsetX, offsetY];
}
var StraightEdge = (0, import_react2.memo)(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, markerEnd, markerStart, interactionWidth }) => {
  const [path, labelX, labelY] = getStraightPath({ sourceX, sourceY, targetX, targetY });
  return import_react2.default.createElement(BaseEdge, { path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, markerEnd, markerStart, interactionWidth });
});
StraightEdge.displayName = "StraightEdge";
function calculateControlOffset(distance2, curvature) {
  if (distance2 >= 0) {
    return 0.5 * distance2;
  }
  return curvature * 25 * Math.sqrt(-distance2);
}
function getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {
  switch (pos) {
    case Position.Left:
      return [x1 - calculateControlOffset(x1 - x2, c), y1];
    case Position.Right:
      return [x1 + calculateControlOffset(x2 - x1, c), y1];
    case Position.Top:
      return [x1, y1 - calculateControlOffset(y1 - y2, c)];
    case Position.Bottom:
      return [x1, y1 + calculateControlOffset(y2 - y1, c)];
  }
}
function getBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, curvature = 0.25 }) {
  const [sourceControlX, sourceControlY] = getControlWithCurvature({
    pos: sourcePosition,
    x1: sourceX,
    y1: sourceY,
    x2: targetX,
    y2: targetY,
    c: curvature
  });
  const [targetControlX, targetControlY] = getControlWithCurvature({
    pos: targetPosition,
    x1: targetX,
    y1: targetY,
    x2: sourceX,
    y2: sourceY,
    c: curvature
  });
  const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({
    sourceX,
    sourceY,
    targetX,
    targetY,
    sourceControlX,
    sourceControlY,
    targetControlX,
    targetControlY
  });
  return [
    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,
    labelX,
    labelY,
    offsetX,
    offsetY
  ];
}
var BezierEdge = (0, import_react2.memo)(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, markerEnd, markerStart, pathOptions, interactionWidth }) => {
  const [path, labelX, labelY] = getBezierPath({
    sourceX,
    sourceY,
    sourcePosition,
    targetX,
    targetY,
    targetPosition,
    curvature: pathOptions?.curvature
  });
  return import_react2.default.createElement(BaseEdge, { path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, markerEnd, markerStart, interactionWidth });
});
BezierEdge.displayName = "BezierEdge";
var NodeIdContext = (0, import_react2.createContext)(null);
var Provider = NodeIdContext.Provider;
NodeIdContext.Consumer;
var useNodeId = () => {
  const nodeId = (0, import_react2.useContext)(NodeIdContext);
  return nodeId;
};
var isEdge = (element) => "id" in element && "source" in element && "target" in element;
var getEdgeId = ({ source, sourceHandle, target, targetHandle }) => `reactflow__edge-${source}${sourceHandle || ""}-${target}${targetHandle || ""}`;
var getMarkerId = (marker, rfId) => {
  if (typeof marker === "undefined") {
    return "";
  }
  if (typeof marker === "string") {
    return marker;
  }
  const idPrefix = rfId ? `${rfId}__` : "";
  return `${idPrefix}${Object.keys(marker).sort().map((key) => `${key}=${marker[key]}`).join("&")}`;
};
var connectionExists = (edge, edges) => {
  return edges.some((el) => el.source === edge.source && el.target === edge.target && (el.sourceHandle === edge.sourceHandle || !el.sourceHandle && !edge.sourceHandle) && (el.targetHandle === edge.targetHandle || !el.targetHandle && !edge.targetHandle));
};
var addEdge = (edgeParams, edges) => {
  if (!edgeParams.source || !edgeParams.target) {
    devWarn("006", errorMessages["error006"]());
    return edges;
  }
  let edge;
  if (isEdge(edgeParams)) {
    edge = { ...edgeParams };
  } else {
    edge = {
      ...edgeParams,
      id: getEdgeId(edgeParams)
    };
  }
  if (connectionExists(edge, edges)) {
    return edges;
  }
  return edges.concat(edge);
};
var pointToRendererPoint = ({ x, y }, [tx, ty, tScale], snapToGrid, [snapX, snapY]) => {
  const position = {
    x: (x - tx) / tScale,
    y: (y - ty) / tScale
  };
  if (snapToGrid) {
    return {
      x: snapX * Math.round(position.x / snapX),
      y: snapY * Math.round(position.y / snapY)
    };
  }
  return position;
};
var rendererPointToPoint = ({ x, y }, [tx, ty, tScale]) => {
  return {
    x: x * tScale + tx,
    y: y * tScale + ty
  };
};
var getNodePositionWithOrigin = (node, nodeOrigin = [0, 0]) => {
  if (!node) {
    return {
      x: 0,
      y: 0,
      positionAbsolute: {
        x: 0,
        y: 0
      }
    };
  }
  const offsetX = (node.width ?? 0) * nodeOrigin[0];
  const offsetY = (node.height ?? 0) * nodeOrigin[1];
  const position = {
    x: node.position.x - offsetX,
    y: node.position.y - offsetY
  };
  return {
    ...position,
    positionAbsolute: node.positionAbsolute ? {
      x: node.positionAbsolute.x - offsetX,
      y: node.positionAbsolute.y - offsetY
    } : position
  };
};
var getRectOfNodes = (nodes, nodeOrigin = [0, 0]) => {
  if (nodes.length === 0) {
    return { x: 0, y: 0, width: 0, height: 0 };
  }
  const box = nodes.reduce((currBox, node) => {
    const { x, y } = getNodePositionWithOrigin(node, nodeOrigin).positionAbsolute;
    return getBoundsOfBoxes(currBox, rectToBox({
      x,
      y,
      width: node.width || 0,
      height: node.height || 0
    }));
  }, { x: Infinity, y: Infinity, x2: -Infinity, y2: -Infinity });
  return boxToRect(box);
};
var getNodesInside = (nodeInternals, rect, [tx, ty, tScale] = [0, 0, 1], partially = false, excludeNonSelectableNodes = false, nodeOrigin = [0, 0]) => {
  const paneRect = {
    x: (rect.x - tx) / tScale,
    y: (rect.y - ty) / tScale,
    width: rect.width / tScale,
    height: rect.height / tScale
  };
  const visibleNodes = [];
  nodeInternals.forEach((node) => {
    const { width, height, selectable = true, hidden = false } = node;
    if (excludeNonSelectableNodes && !selectable || hidden) {
      return false;
    }
    const { positionAbsolute } = getNodePositionWithOrigin(node, nodeOrigin);
    const nodeRect = {
      x: positionAbsolute.x,
      y: positionAbsolute.y,
      width: width || 0,
      height: height || 0
    };
    const overlappingArea = getOverlappingArea(paneRect, nodeRect);
    const notInitialized = typeof width === "undefined" || typeof height === "undefined" || width === null || height === null;
    const partiallyVisible = partially && overlappingArea > 0;
    const area = (width || 0) * (height || 0);
    const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;
    if (isVisible || node.dragging) {
      visibleNodes.push(node);
    }
  });
  return visibleNodes;
};
var getConnectedEdges = (nodes, edges) => {
  const nodeIds = nodes.map((node) => node.id);
  return edges.filter((edge) => nodeIds.includes(edge.source) || nodeIds.includes(edge.target));
};
var getTransformForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {
  const xZoom = width / (bounds.width * (1 + padding));
  const yZoom = height / (bounds.height * (1 + padding));
  const zoom = Math.min(xZoom, yZoom);
  const clampedZoom = clamp(zoom, minZoom, maxZoom);
  const boundsCenterX = bounds.x + bounds.width / 2;
  const boundsCenterY = bounds.y + bounds.height / 2;
  const x = width / 2 - boundsCenterX * clampedZoom;
  const y = height / 2 - boundsCenterY * clampedZoom;
  return [x, y, clampedZoom];
};
var getD3Transition = (selection2, duration = 0) => {
  return selection2.transition().duration(duration);
};
function getHandles(node, handleBounds, type, currentHandle) {
  return (handleBounds[type] || []).reduce((res, h) => {
    if (`${node.id}-${h.id}-${type}` !== currentHandle) {
      res.push({
        id: h.id || null,
        type,
        nodeId: node.id,
        x: (node.positionAbsolute?.x ?? 0) + h.x + h.width / 2,
        y: (node.positionAbsolute?.y ?? 0) + h.y + h.height / 2
      });
    }
    return res;
  }, []);
}
function getClosestHandle(event, doc, pos, connectionRadius, handles, validator) {
  const { x, y } = getEventPosition(event);
  const domNodes = doc.elementsFromPoint(x, y);
  const handleBelow = domNodes.find((el) => el.classList.contains("react-flow__handle"));
  if (handleBelow) {
    const handleNodeId = handleBelow.getAttribute("data-nodeid");
    if (handleNodeId) {
      const handleType = getHandleType(void 0, handleBelow);
      const handleId = handleBelow.getAttribute("data-handleid");
      const validHandleResult = validator({ nodeId: handleNodeId, id: handleId, type: handleType });
      if (validHandleResult) {
        return {
          handle: {
            id: handleId,
            type: handleType,
            nodeId: handleNodeId,
            x: pos.x,
            y: pos.y
          },
          validHandleResult
        };
      }
    }
  }
  let closestHandles = [];
  let minDistance = Infinity;
  handles.forEach((handle) => {
    const distance2 = Math.sqrt((handle.x - pos.x) ** 2 + (handle.y - pos.y) ** 2);
    if (distance2 <= connectionRadius) {
      const validHandleResult = validator(handle);
      if (distance2 <= minDistance) {
        if (distance2 < minDistance) {
          closestHandles = [{ handle, validHandleResult }];
        } else if (distance2 === minDistance) {
          closestHandles.push({
            handle,
            validHandleResult
          });
        }
        minDistance = distance2;
      }
    }
  });
  if (!closestHandles.length) {
    return { handle: null, validHandleResult: defaultResult() };
  }
  if (closestHandles.length === 1) {
    return closestHandles[0];
  }
  const hasValidHandle = closestHandles.some(({ validHandleResult }) => validHandleResult.isValid);
  const hasTargetHandle = closestHandles.some(({ handle }) => handle.type === "target");
  return closestHandles.find(({ handle, validHandleResult }) => hasTargetHandle ? handle.type === "target" : hasValidHandle ? validHandleResult.isValid : true) || closestHandles[0];
}
var nullConnection = { source: null, target: null, sourceHandle: null, targetHandle: null };
var defaultResult = () => ({
  handleDomNode: null,
  isValid: false,
  connection: nullConnection,
  endHandle: null
});
function isValidHandle(handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc) {
  const isTarget = fromType === "target";
  const handleToCheck = doc.querySelector(`.react-flow__handle[data-id="${handle?.nodeId}-${handle?.id}-${handle?.type}"]`);
  const result = {
    ...defaultResult(),
    handleDomNode: handleToCheck
  };
  if (handleToCheck) {
    const handleType = getHandleType(void 0, handleToCheck);
    const handleNodeId = handleToCheck.getAttribute("data-nodeid");
    const handleId = handleToCheck.getAttribute("data-handleid");
    const connectable = handleToCheck.classList.contains("connectable");
    const connectableEnd = handleToCheck.classList.contains("connectableend");
    const connection = {
      source: isTarget ? handleNodeId : fromNodeId,
      sourceHandle: isTarget ? handleId : fromHandleId,
      target: isTarget ? fromNodeId : handleNodeId,
      targetHandle: isTarget ? fromHandleId : handleId
    };
    result.connection = connection;
    const isConnectable = connectable && connectableEnd;
    const isValid = isConnectable && (connectionMode === ConnectionMode.Strict ? isTarget && handleType === "source" || !isTarget && handleType === "target" : handleNodeId !== fromNodeId || handleId !== fromHandleId);
    if (isValid) {
      result.endHandle = {
        nodeId: handleNodeId,
        handleId,
        type: handleType
      };
      result.isValid = isValidConnection(connection);
    }
  }
  return result;
}
function getHandleLookup({ nodes, nodeId, handleId, handleType }) {
  return nodes.reduce((res, node) => {
    if (node[internalsSymbol]) {
      const { handleBounds } = node[internalsSymbol];
      let sourceHandles = [];
      let targetHandles = [];
      if (handleBounds) {
        sourceHandles = getHandles(node, handleBounds, "source", `${nodeId}-${handleId}-${handleType}`);
        targetHandles = getHandles(node, handleBounds, "target", `${nodeId}-${handleId}-${handleType}`);
      }
      res.push(...sourceHandles, ...targetHandles);
    }
    return res;
  }, []);
}
function getHandleType(edgeUpdaterType, handleDomNode) {
  if (edgeUpdaterType) {
    return edgeUpdaterType;
  } else if (handleDomNode?.classList.contains("target")) {
    return "target";
  } else if (handleDomNode?.classList.contains("source")) {
    return "source";
  }
  return null;
}
function resetRecentHandle(handleDomNode) {
  handleDomNode?.classList.remove("valid", "connecting", "react-flow__handle-valid", "react-flow__handle-connecting");
}
function getConnectionStatus(isInsideConnectionRadius, isHandleValid) {
  let connectionStatus = null;
  if (isHandleValid) {
    connectionStatus = "valid";
  } else if (isInsideConnectionRadius && !isHandleValid) {
    connectionStatus = "invalid";
  }
  return connectionStatus;
}
function handlePointerDown({ event, handleId, nodeId, onConnect, isTarget, getState, setState, isValidConnection, edgeUpdaterType, onEdgeUpdateEnd }) {
  const doc = getHostForElement(event.target);
  const { connectionMode, domNode, autoPanOnConnect, connectionRadius, onConnectStart, panBy, getNodes, cancelConnection } = getState();
  let autoPanId = 0;
  let closestHandle;
  const { x, y } = getEventPosition(event);
  const clickedHandle = doc?.elementFromPoint(x, y);
  const handleType = getHandleType(edgeUpdaterType, clickedHandle);
  const containerBounds = domNode?.getBoundingClientRect();
  if (!containerBounds || !handleType) {
    return;
  }
  let prevActiveHandle;
  let connectionPosition = getEventPosition(event, containerBounds);
  let autoPanStarted = false;
  let connection = null;
  let isValid = false;
  let handleDomNode = null;
  const handleLookup = getHandleLookup({
    nodes: getNodes(),
    nodeId,
    handleId,
    handleType
  });
  const autoPan = () => {
    if (!autoPanOnConnect) {
      return;
    }
    const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds);
    panBy({ x: xMovement, y: yMovement });
    autoPanId = requestAnimationFrame(autoPan);
  };
  setState({
    connectionPosition,
    connectionStatus: null,
    // connectionNodeId etc will be removed in the next major in favor of connectionStartHandle
    connectionNodeId: nodeId,
    connectionHandleId: handleId,
    connectionHandleType: handleType,
    connectionStartHandle: {
      nodeId,
      handleId,
      type: handleType
    },
    connectionEndHandle: null
  });
  onConnectStart?.(event, { nodeId, handleId, handleType });
  function onPointerMove(event2) {
    const { transform: transform2 } = getState();
    connectionPosition = getEventPosition(event2, containerBounds);
    const { handle, validHandleResult } = getClosestHandle(event2, doc, pointToRendererPoint(connectionPosition, transform2, false, [1, 1]), connectionRadius, handleLookup, (handle2) => isValidHandle(handle2, connectionMode, nodeId, handleId, isTarget ? "target" : "source", isValidConnection, doc));
    closestHandle = handle;
    if (!autoPanStarted) {
      autoPan();
      autoPanStarted = true;
    }
    handleDomNode = validHandleResult.handleDomNode;
    connection = validHandleResult.connection;
    isValid = validHandleResult.isValid;
    setState({
      connectionPosition: closestHandle && isValid ? rendererPointToPoint({
        x: closestHandle.x,
        y: closestHandle.y
      }, transform2) : connectionPosition,
      connectionStatus: getConnectionStatus(!!closestHandle, isValid),
      connectionEndHandle: validHandleResult.endHandle
    });
    if (!closestHandle && !isValid && !handleDomNode) {
      return resetRecentHandle(prevActiveHandle);
    }
    if (connection.source !== connection.target && handleDomNode) {
      resetRecentHandle(prevActiveHandle);
      prevActiveHandle = handleDomNode;
      handleDomNode.classList.add("connecting", "react-flow__handle-connecting");
      handleDomNode.classList.toggle("valid", isValid);
      handleDomNode.classList.toggle("react-flow__handle-valid", isValid);
    }
  }
  function onPointerUp(event2) {
    if ((closestHandle || handleDomNode) && connection && isValid) {
      onConnect?.(connection);
    }
    getState().onConnectEnd?.(event2);
    if (edgeUpdaterType) {
      onEdgeUpdateEnd?.(event2);
    }
    resetRecentHandle(prevActiveHandle);
    cancelConnection();
    cancelAnimationFrame(autoPanId);
    autoPanStarted = false;
    isValid = false;
    connection = null;
    handleDomNode = null;
    doc.removeEventListener("mousemove", onPointerMove);
    doc.removeEventListener("mouseup", onPointerUp);
    doc.removeEventListener("touchmove", onPointerMove);
    doc.removeEventListener("touchend", onPointerUp);
  }
  doc.addEventListener("mousemove", onPointerMove);
  doc.addEventListener("mouseup", onPointerUp);
  doc.addEventListener("touchmove", onPointerMove);
  doc.addEventListener("touchend", onPointerUp);
}
var alwaysValid = () => true;
var selector$f = (s) => ({
  connectionStartHandle: s.connectionStartHandle,
  connectOnClick: s.connectOnClick,
  noPanClassName: s.noPanClassName
});
var connectingSelector = (nodeId, handleId, type) => (state) => {
  const { connectionStartHandle: startHandle, connectionEndHandle: endHandle, connectionClickStartHandle: clickHandle } = state;
  return {
    connecting: startHandle?.nodeId === nodeId && startHandle?.handleId === handleId && startHandle?.type === type || endHandle?.nodeId === nodeId && endHandle?.handleId === handleId && endHandle?.type === type,
    clickConnecting: clickHandle?.nodeId === nodeId && clickHandle?.handleId === handleId && clickHandle?.type === type
  };
};
var Handle = (0, import_react2.forwardRef)(({ type = "source", position = Position.Top, isValidConnection, isConnectable = true, isConnectableStart = true, isConnectableEnd = true, id: id2, onConnect, children: children2, className, onMouseDown, onTouchStart, ...rest }, ref) => {
  const handleId = id2 || null;
  const isTarget = type === "target";
  const store = useStoreApi();
  const nodeId = useNodeId();
  const { connectOnClick, noPanClassName } = useStore2(selector$f, shallow$1);
  const { connecting, clickConnecting } = useStore2(connectingSelector(nodeId, handleId, type), shallow$1);
  if (!nodeId) {
    store.getState().onError?.("010", errorMessages["error010"]());
  }
  const onConnectExtended = (params) => {
    const { defaultEdgeOptions, onConnect: onConnectAction, hasDefaultEdges } = store.getState();
    const edgeParams = {
      ...defaultEdgeOptions,
      ...params
    };
    if (hasDefaultEdges) {
      const { edges, setEdges } = store.getState();
      setEdges(addEdge(edgeParams, edges));
    }
    onConnectAction?.(edgeParams);
    onConnect?.(edgeParams);
  };
  const onPointerDown = (event) => {
    if (!nodeId) {
      return;
    }
    const isMouseTriggered = isMouseEvent(event);
    if (isConnectableStart && (isMouseTriggered && event.button === 0 || !isMouseTriggered)) {
      handlePointerDown({
        event,
        handleId,
        nodeId,
        onConnect: onConnectExtended,
        isTarget,
        getState: store.getState,
        setState: store.setState,
        isValidConnection: isValidConnection || store.getState().isValidConnection || alwaysValid
      });
    }
    if (isMouseTriggered) {
      onMouseDown?.(event);
    } else {
      onTouchStart?.(event);
    }
  };
  const onClick = (event) => {
    const { onClickConnectStart, onClickConnectEnd, connectionClickStartHandle, connectionMode, isValidConnection: isValidConnectionStore } = store.getState();
    if (!nodeId || !connectionClickStartHandle && !isConnectableStart) {
      return;
    }
    if (!connectionClickStartHandle) {
      onClickConnectStart?.(event, { nodeId, handleId, handleType: type });
      store.setState({ connectionClickStartHandle: { nodeId, type, handleId } });
      return;
    }
    const doc = getHostForElement(event.target);
    const isValidConnectionHandler = isValidConnection || isValidConnectionStore || alwaysValid;
    const { connection, isValid } = isValidHandle({
      nodeId,
      id: handleId,
      type
    }, connectionMode, connectionClickStartHandle.nodeId, connectionClickStartHandle.handleId || null, connectionClickStartHandle.type, isValidConnectionHandler, doc);
    if (isValid) {
      onConnectExtended(connection);
    }
    onClickConnectEnd?.(event);
    store.setState({ connectionClickStartHandle: null });
  };
  return import_react2.default.createElement("div", { "data-handleid": handleId, "data-nodeid": nodeId, "data-handlepos": position, "data-id": `${nodeId}-${handleId}-${type}`, className: cc([
    "react-flow__handle",
    `react-flow__handle-${position}`,
    "nodrag",
    noPanClassName,
    className,
    {
      source: !isTarget,
      target: isTarget,
      connectable: isConnectable,
      connectablestart: isConnectableStart,
      connectableend: isConnectableEnd,
      connecting: clickConnecting,
      // this class is used to style the handle when the user is connecting
      connectionindicator: isConnectable && (isConnectableStart && !connecting || isConnectableEnd && connecting)
    }
  ]), onMouseDown: onPointerDown, onTouchStart: onPointerDown, onClick: connectOnClick ? onClick : void 0, ref, ...rest }, children2);
});
Handle.displayName = "Handle";
var Handle$1 = (0, import_react2.memo)(Handle);
var DefaultNode = ({ data, isConnectable, targetPosition = Position.Top, sourcePosition = Position.Bottom }) => {
  return import_react2.default.createElement(
    import_react2.default.Fragment,
    null,
    import_react2.default.createElement(Handle$1, { type: "target", position: targetPosition, isConnectable }),
    data?.label,
    import_react2.default.createElement(Handle$1, { type: "source", position: sourcePosition, isConnectable })
  );
};
DefaultNode.displayName = "DefaultNode";
var DefaultNode$1 = (0, import_react2.memo)(DefaultNode);
var InputNode = ({ data, isConnectable, sourcePosition = Position.Bottom }) => import_react2.default.createElement(
  import_react2.default.Fragment,
  null,
  data?.label,
  import_react2.default.createElement(Handle$1, { type: "source", position: sourcePosition, isConnectable })
);
InputNode.displayName = "InputNode";
var InputNode$1 = (0, import_react2.memo)(InputNode);
var OutputNode = ({ data, isConnectable, targetPosition = Position.Top }) => import_react2.default.createElement(
  import_react2.default.Fragment,
  null,
  import_react2.default.createElement(Handle$1, { type: "target", position: targetPosition, isConnectable }),
  data?.label
);
OutputNode.displayName = "OutputNode";
var OutputNode$1 = (0, import_react2.memo)(OutputNode);
var GroupNode = () => null;
GroupNode.displayName = "GroupNode";
var selector$e = (s) => ({
  selectedNodes: s.getNodes().filter((n) => n.selected),
  selectedEdges: s.edges.filter((e) => e.selected)
});
var selectId = (obj) => obj.id;
function areEqual(a, b) {
  return shallow$1(a.selectedNodes.map(selectId), b.selectedNodes.map(selectId)) && shallow$1(a.selectedEdges.map(selectId), b.selectedEdges.map(selectId));
}
var SelectionListener = (0, import_react2.memo)(({ onSelectionChange }) => {
  const store = useStoreApi();
  const { selectedNodes, selectedEdges } = useStore2(selector$e, areEqual);
  (0, import_react2.useEffect)(() => {
    const params = { nodes: selectedNodes, edges: selectedEdges };
    onSelectionChange?.(params);
    store.getState().onSelectionChange?.(params);
  }, [selectedNodes, selectedEdges, onSelectionChange]);
  return null;
});
SelectionListener.displayName = "SelectionListener";
var changeSelector = (s) => !!s.onSelectionChange;
function Wrapper$1({ onSelectionChange }) {
  const storeHasSelectionChange = useStore2(changeSelector);
  if (onSelectionChange || storeHasSelectionChange) {
    return import_react2.default.createElement(SelectionListener, { onSelectionChange });
  }
  return null;
}
var selector$d = (s) => ({
  setNodes: s.setNodes,
  setEdges: s.setEdges,
  setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,
  setMinZoom: s.setMinZoom,
  setMaxZoom: s.setMaxZoom,
  setTranslateExtent: s.setTranslateExtent,
  setNodeExtent: s.setNodeExtent,
  reset: s.reset
});
function useStoreUpdater(value, setStoreState) {
  (0, import_react2.useEffect)(() => {
    if (typeof value !== "undefined") {
      setStoreState(value);
    }
  }, [value]);
}
function useDirectStoreUpdater(key, value, setState) {
  (0, import_react2.useEffect)(() => {
    if (typeof value !== "undefined") {
      setState({ [key]: value });
    }
  }, [value]);
}
var StoreUpdater = ({ nodes, edges, defaultNodes, defaultEdges, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, nodesDraggable, nodesConnectable, nodesFocusable, edgesFocusable, edgesUpdatable, elevateNodesOnSelect, minZoom, maxZoom, nodeExtent, onNodesChange, onEdgesChange, elementsSelectable, connectionMode, snapGrid, snapToGrid, translateExtent, connectOnClick, defaultEdgeOptions, fitView: fitView2, fitViewOptions, onNodesDelete, onEdgesDelete, onNodeDrag, onNodeDragStart, onNodeDragStop, onSelectionDrag, onSelectionDragStart, onSelectionDragStop, noPanClassName, nodeOrigin, rfId, autoPanOnConnect, autoPanOnNodeDrag, onError, connectionRadius, isValidConnection, nodeDragThreshold }) => {
  const { setNodes, setEdges, setDefaultNodesAndEdges, setMinZoom, setMaxZoom, setTranslateExtent, setNodeExtent, reset } = useStore2(selector$d, shallow$1);
  const store = useStoreApi();
  (0, import_react2.useEffect)(() => {
    const edgesWithDefaults = defaultEdges?.map((e) => ({ ...e, ...defaultEdgeOptions }));
    setDefaultNodesAndEdges(defaultNodes, edgesWithDefaults);
    return () => {
      reset();
    };
  }, []);
  useDirectStoreUpdater("defaultEdgeOptions", defaultEdgeOptions, store.setState);
  useDirectStoreUpdater("connectionMode", connectionMode, store.setState);
  useDirectStoreUpdater("onConnect", onConnect, store.setState);
  useDirectStoreUpdater("onConnectStart", onConnectStart, store.setState);
  useDirectStoreUpdater("onConnectEnd", onConnectEnd, store.setState);
  useDirectStoreUpdater("onClickConnectStart", onClickConnectStart, store.setState);
  useDirectStoreUpdater("onClickConnectEnd", onClickConnectEnd, store.setState);
  useDirectStoreUpdater("nodesDraggable", nodesDraggable, store.setState);
  useDirectStoreUpdater("nodesConnectable", nodesConnectable, store.setState);
  useDirectStoreUpdater("nodesFocusable", nodesFocusable, store.setState);
  useDirectStoreUpdater("edgesFocusable", edgesFocusable, store.setState);
  useDirectStoreUpdater("edgesUpdatable", edgesUpdatable, store.setState);
  useDirectStoreUpdater("elementsSelectable", elementsSelectable, store.setState);
  useDirectStoreUpdater("elevateNodesOnSelect", elevateNodesOnSelect, store.setState);
  useDirectStoreUpdater("snapToGrid", snapToGrid, store.setState);
  useDirectStoreUpdater("snapGrid", snapGrid, store.setState);
  useDirectStoreUpdater("onNodesChange", onNodesChange, store.setState);
  useDirectStoreUpdater("onEdgesChange", onEdgesChange, store.setState);
  useDirectStoreUpdater("connectOnClick", connectOnClick, store.setState);
  useDirectStoreUpdater("fitViewOnInit", fitView2, store.setState);
  useDirectStoreUpdater("fitViewOnInitOptions", fitViewOptions, store.setState);
  useDirectStoreUpdater("onNodesDelete", onNodesDelete, store.setState);
  useDirectStoreUpdater("onEdgesDelete", onEdgesDelete, store.setState);
  useDirectStoreUpdater("onNodeDrag", onNodeDrag, store.setState);
  useDirectStoreUpdater("onNodeDragStart", onNodeDragStart, store.setState);
  useDirectStoreUpdater("onNodeDragStop", onNodeDragStop, store.setState);
  useDirectStoreUpdater("onSelectionDrag", onSelectionDrag, store.setState);
  useDirectStoreUpdater("onSelectionDragStart", onSelectionDragStart, store.setState);
  useDirectStoreUpdater("onSelectionDragStop", onSelectionDragStop, store.setState);
  useDirectStoreUpdater("noPanClassName", noPanClassName, store.setState);
  useDirectStoreUpdater("nodeOrigin", nodeOrigin, store.setState);
  useDirectStoreUpdater("rfId", rfId, store.setState);
  useDirectStoreUpdater("autoPanOnConnect", autoPanOnConnect, store.setState);
  useDirectStoreUpdater("autoPanOnNodeDrag", autoPanOnNodeDrag, store.setState);
  useDirectStoreUpdater("onError", onError, store.setState);
  useDirectStoreUpdater("connectionRadius", connectionRadius, store.setState);
  useDirectStoreUpdater("isValidConnection", isValidConnection, store.setState);
  useDirectStoreUpdater("nodeDragThreshold", nodeDragThreshold, store.setState);
  useStoreUpdater(nodes, setNodes);
  useStoreUpdater(edges, setEdges);
  useStoreUpdater(minZoom, setMinZoom);
  useStoreUpdater(maxZoom, setMaxZoom);
  useStoreUpdater(translateExtent, setTranslateExtent);
  useStoreUpdater(nodeExtent, setNodeExtent);
  return null;
};
var style = { display: "none" };
var ariaLiveStyle = {
  position: "absolute",
  width: 1,
  height: 1,
  margin: -1,
  border: 0,
  padding: 0,
  overflow: "hidden",
  clip: "rect(0px, 0px, 0px, 0px)",
  clipPath: "inset(100%)"
};
var ARIA_NODE_DESC_KEY = "react-flow__node-desc";
var ARIA_EDGE_DESC_KEY = "react-flow__edge-desc";
var ARIA_LIVE_MESSAGE = "react-flow__aria-live";
var selector$c = (s) => s.ariaLiveMessage;
function AriaLiveMessage({ rfId }) {
  const ariaLiveMessage = useStore2(selector$c);
  return import_react2.default.createElement("div", { id: `${ARIA_LIVE_MESSAGE}-${rfId}`, "aria-live": "assertive", "aria-atomic": "true", style: ariaLiveStyle }, ariaLiveMessage);
}
function A11yDescriptions({ rfId, disableKeyboardA11y }) {
  return import_react2.default.createElement(
    import_react2.default.Fragment,
    null,
    import_react2.default.createElement(
      "div",
      { id: `${ARIA_NODE_DESC_KEY}-${rfId}`, style },
      "Press enter or space to select a node.",
      !disableKeyboardA11y && "You can then use the arrow keys to move the node around.",
      " Press delete to remove it and escape to cancel.",
      " "
    ),
    import_react2.default.createElement("div", { id: `${ARIA_EDGE_DESC_KEY}-${rfId}`, style }, "Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),
    !disableKeyboardA11y && import_react2.default.createElement(AriaLiveMessage, { rfId })
  );
}
var useKeyPress = (keyCode = null, options = { actInsideInputWithModifier: true }) => {
  const [keyPressed, setKeyPressed] = (0, import_react2.useState)(false);
  const modifierPressed = (0, import_react2.useRef)(false);
  const pressedKeys = (0, import_react2.useRef)(/* @__PURE__ */ new Set([]));
  const [keyCodes, keysToWatch] = (0, import_react2.useMemo)(() => {
    if (keyCode !== null) {
      const keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];
      const keys = keyCodeArr.filter((kc) => typeof kc === "string").map((kc) => kc.split("+"));
      const keysFlat = keys.reduce((res, item) => res.concat(...item), []);
      return [keys, keysFlat];
    }
    return [[], []];
  }, [keyCode]);
  (0, import_react2.useEffect)(() => {
    const doc = typeof document !== "undefined" ? document : null;
    const target = options?.target || doc;
    if (keyCode !== null) {
      const downHandler = (event) => {
        modifierPressed.current = event.ctrlKey || event.metaKey || event.shiftKey;
        const preventAction = (!modifierPressed.current || modifierPressed.current && !options.actInsideInputWithModifier) && isInputDOMNode(event);
        if (preventAction) {
          return false;
        }
        const keyOrCode = useKeyOrCode(event.code, keysToWatch);
        pressedKeys.current.add(event[keyOrCode]);
        if (isMatchingKey(keyCodes, pressedKeys.current, false)) {
          event.preventDefault();
          setKeyPressed(true);
        }
      };
      const upHandler = (event) => {
        const preventAction = (!modifierPressed.current || modifierPressed.current && !options.actInsideInputWithModifier) && isInputDOMNode(event);
        if (preventAction) {
          return false;
        }
        const keyOrCode = useKeyOrCode(event.code, keysToWatch);
        if (isMatchingKey(keyCodes, pressedKeys.current, true)) {
          setKeyPressed(false);
          pressedKeys.current.clear();
        } else {
          pressedKeys.current.delete(event[keyOrCode]);
        }
        if (event.key === "Meta") {
          pressedKeys.current.clear();
        }
        modifierPressed.current = false;
      };
      const resetHandler = () => {
        pressedKeys.current.clear();
        setKeyPressed(false);
      };
      target?.addEventListener("keydown", downHandler);
      target?.addEventListener("keyup", upHandler);
      window.addEventListener("blur", resetHandler);
      return () => {
        target?.removeEventListener("keydown", downHandler);
        target?.removeEventListener("keyup", upHandler);
        window.removeEventListener("blur", resetHandler);
      };
    }
  }, [keyCode, setKeyPressed]);
  return keyPressed;
};
function isMatchingKey(keyCodes, pressedKeys, isUp) {
  return keyCodes.filter((keys) => isUp || keys.length === pressedKeys.size).some((keys) => keys.every((k) => pressedKeys.has(k)));
}
function useKeyOrCode(eventCode, keysToWatch) {
  return keysToWatch.includes(eventCode) ? "code" : "key";
}
function calculateXYZPosition(node, nodeInternals, result, nodeOrigin) {
  if (!node.parentNode) {
    return result;
  }
  const parentNode = nodeInternals.get(node.parentNode);
  const parentNodePosition = getNodePositionWithOrigin(parentNode, nodeOrigin);
  return calculateXYZPosition(parentNode, nodeInternals, {
    x: (result.x ?? 0) + parentNodePosition.x,
    y: (result.y ?? 0) + parentNodePosition.y,
    z: (parentNode[internalsSymbol]?.z ?? 0) > (result.z ?? 0) ? parentNode[internalsSymbol]?.z ?? 0 : result.z ?? 0
  }, nodeOrigin);
}
function updateAbsoluteNodePositions(nodeInternals, nodeOrigin, parentNodes) {
  nodeInternals.forEach((node) => {
    if (node.parentNode && !nodeInternals.has(node.parentNode)) {
      throw new Error(`Parent node ${node.parentNode} not found`);
    }
    if (node.parentNode || parentNodes?.[node.id]) {
      const { x, y, z } = calculateXYZPosition(node, nodeInternals, {
        ...node.position,
        z: node[internalsSymbol]?.z ?? 0
      }, nodeOrigin);
      node.positionAbsolute = {
        x,
        y
      };
      node[internalsSymbol].z = z;
      if (parentNodes?.[node.id]) {
        node[internalsSymbol].isParent = true;
      }
    }
  });
}
function createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) {
  const nextNodeInternals = /* @__PURE__ */ new Map();
  const parentNodes = {};
  const selectedNodeZ = elevateNodesOnSelect ? 1e3 : 0;
  nodes.forEach((node) => {
    const z = (isNumeric(node.zIndex) ? node.zIndex : 0) + (node.selected ? selectedNodeZ : 0);
    const currInternals = nodeInternals.get(node.id);
    const internals = {
      width: currInternals?.width,
      height: currInternals?.height,
      ...node,
      positionAbsolute: {
        x: node.position.x,
        y: node.position.y
      }
    };
    if (node.parentNode) {
      internals.parentNode = node.parentNode;
      parentNodes[node.parentNode] = true;
    }
    Object.defineProperty(internals, internalsSymbol, {
      enumerable: false,
      value: {
        handleBounds: currInternals?.[internalsSymbol]?.handleBounds,
        z
      }
    });
    nextNodeInternals.set(node.id, internals);
  });
  updateAbsoluteNodePositions(nextNodeInternals, nodeOrigin, parentNodes);
  return nextNodeInternals;
}
function fitView(get3, options = {}) {
  const { getNodes, width, height, minZoom, maxZoom, d3Zoom, d3Selection, fitViewOnInitDone, fitViewOnInit, nodeOrigin } = get3();
  const isInitialFitView = options.initial && !fitViewOnInitDone && fitViewOnInit;
  const d3initialized = d3Zoom && d3Selection;
  if (d3initialized && (isInitialFitView || !options.initial)) {
    const nodes = getNodes().filter((n) => {
      const isVisible = options.includeHiddenNodes ? n.width && n.height : !n.hidden;
      if (options.nodes?.length) {
        return isVisible && options.nodes.some((optionNode) => optionNode.id === n.id);
      }
      return isVisible;
    });
    const nodesInitialized = nodes.every((n) => n.width && n.height);
    if (nodes.length > 0 && nodesInitialized) {
      const bounds = getRectOfNodes(nodes, nodeOrigin);
      const [x, y, zoom] = getTransformForBounds(bounds, width, height, options.minZoom ?? minZoom, options.maxZoom ?? maxZoom, options.padding ?? 0.1);
      const nextTransform = identity2.translate(x, y).scale(zoom);
      if (typeof options.duration === "number" && options.duration > 0) {
        d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);
      } else {
        d3Zoom.transform(d3Selection, nextTransform);
      }
      return true;
    }
  }
  return false;
}
function handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {
  nodeChanges.forEach((change) => {
    const node = nodeInternals.get(change.id);
    if (node) {
      nodeInternals.set(node.id, {
        ...node,
        [internalsSymbol]: node[internalsSymbol],
        selected: change.selected
      });
    }
  });
  return new Map(nodeInternals);
}
function handleControlledEdgeSelectionChange(edgeChanges, edges) {
  return edges.map((e) => {
    const change = edgeChanges.find((change2) => change2.id === e.id);
    if (change) {
      e.selected = change.selected;
    }
    return e;
  });
}
function updateNodesAndEdgesSelections({ changedNodes, changedEdges, get: get3, set: set3 }) {
  const { nodeInternals, edges, onNodesChange, onEdgesChange, hasDefaultNodes, hasDefaultEdges } = get3();
  if (changedNodes?.length) {
    if (hasDefaultNodes) {
      set3({ nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals) });
    }
    onNodesChange?.(changedNodes);
  }
  if (changedEdges?.length) {
    if (hasDefaultEdges) {
      set3({ edges: handleControlledEdgeSelectionChange(changedEdges, edges) });
    }
    onEdgesChange?.(changedEdges);
  }
}
var noop2 = () => {
};
var initialViewportHelper = {
  zoomIn: noop2,
  zoomOut: noop2,
  zoomTo: noop2,
  getZoom: () => 1,
  setViewport: noop2,
  getViewport: () => ({ x: 0, y: 0, zoom: 1 }),
  fitView: () => false,
  setCenter: noop2,
  fitBounds: noop2,
  project: (position) => position,
  viewportInitialized: false
};
var selector$b = (s) => ({
  d3Zoom: s.d3Zoom,
  d3Selection: s.d3Selection
});
var useViewportHelper = () => {
  const store = useStoreApi();
  const { d3Zoom, d3Selection } = useStore2(selector$b, shallow$1);
  const viewportHelperFunctions = (0, import_react2.useMemo)(() => {
    if (d3Selection && d3Zoom) {
      return {
        zoomIn: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1.2),
        zoomOut: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1 / 1.2),
        zoomTo: (zoomLevel, options) => d3Zoom.scaleTo(getD3Transition(d3Selection, options?.duration), zoomLevel),
        getZoom: () => store.getState().transform[2],
        setViewport: (transform2, options) => {
          const [x, y, zoom] = store.getState().transform;
          const nextTransform = identity2.translate(transform2.x ?? x, transform2.y ?? y).scale(transform2.zoom ?? zoom);
          d3Zoom.transform(getD3Transition(d3Selection, options?.duration), nextTransform);
        },
        getViewport: () => {
          const [x, y, zoom] = store.getState().transform;
          return { x, y, zoom };
        },
        fitView: (options) => fitView(store.getState, options),
        setCenter: (x, y, options) => {
          const { width, height, maxZoom } = store.getState();
          const nextZoom = typeof options?.zoom !== "undefined" ? options.zoom : maxZoom;
          const centerX = width / 2 - x * nextZoom;
          const centerY = height / 2 - y * nextZoom;
          const transform2 = identity2.translate(centerX, centerY).scale(nextZoom);
          d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform2);
        },
        fitBounds: (bounds, options) => {
          const { width, height, minZoom, maxZoom } = store.getState();
          const [x, y, zoom] = getTransformForBounds(bounds, width, height, minZoom, maxZoom, options?.padding ?? 0.1);
          const transform2 = identity2.translate(x, y).scale(zoom);
          d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform2);
        },
        project: (position) => {
          const { transform: transform2, snapToGrid, snapGrid } = store.getState();
          return pointToRendererPoint(position, transform2, snapToGrid, snapGrid);
        },
        viewportInitialized: true
      };
    }
    return initialViewportHelper;
  }, [d3Zoom, d3Selection]);
  return viewportHelperFunctions;
};
function useReactFlow() {
  const viewportHelper = useViewportHelper();
  const store = useStoreApi();
  const getNodes = (0, import_react2.useCallback)(() => {
    return store.getState().getNodes().map((n) => ({ ...n }));
  }, []);
  const getNode = (0, import_react2.useCallback)((id2) => {
    return store.getState().nodeInternals.get(id2);
  }, []);
  const getEdges = (0, import_react2.useCallback)(() => {
    const { edges = [] } = store.getState();
    return edges.map((e) => ({ ...e }));
  }, []);
  const getEdge = (0, import_react2.useCallback)((id2) => {
    const { edges = [] } = store.getState();
    return edges.find((e) => e.id === id2);
  }, []);
  const setNodes = (0, import_react2.useCallback)((payload) => {
    const { getNodes: getNodes2, setNodes: setNodes2, hasDefaultNodes, onNodesChange } = store.getState();
    const nodes = getNodes2();
    const nextNodes = typeof payload === "function" ? payload(nodes) : payload;
    if (hasDefaultNodes) {
      setNodes2(nextNodes);
    } else if (onNodesChange) {
      const changes = nextNodes.length === 0 ? nodes.map((node) => ({ type: "remove", id: node.id })) : nextNodes.map((node) => ({ item: node, type: "reset" }));
      onNodesChange(changes);
    }
  }, []);
  const setEdges = (0, import_react2.useCallback)((payload) => {
    const { edges = [], setEdges: setEdges2, hasDefaultEdges, onEdgesChange } = store.getState();
    const nextEdges = typeof payload === "function" ? payload(edges) : payload;
    if (hasDefaultEdges) {
      setEdges2(nextEdges);
    } else if (onEdgesChange) {
      const changes = nextEdges.length === 0 ? edges.map((edge) => ({ type: "remove", id: edge.id })) : nextEdges.map((edge) => ({ item: edge, type: "reset" }));
      onEdgesChange(changes);
    }
  }, []);
  const addNodes = (0, import_react2.useCallback)((payload) => {
    const nodes = Array.isArray(payload) ? payload : [payload];
    const { getNodes: getNodes2, setNodes: setNodes2, hasDefaultNodes, onNodesChange } = store.getState();
    if (hasDefaultNodes) {
      const currentNodes = getNodes2();
      const nextNodes = [...currentNodes, ...nodes];
      setNodes2(nextNodes);
    } else if (onNodesChange) {
      const changes = nodes.map((node) => ({ item: node, type: "add" }));
      onNodesChange(changes);
    }
  }, []);
  const addEdges = (0, import_react2.useCallback)((payload) => {
    const nextEdges = Array.isArray(payload) ? payload : [payload];
    const { edges = [], setEdges: setEdges2, hasDefaultEdges, onEdgesChange } = store.getState();
    if (hasDefaultEdges) {
      setEdges2([...edges, ...nextEdges]);
    } else if (onEdgesChange) {
      const changes = nextEdges.map((edge) => ({ item: edge, type: "add" }));
      onEdgesChange(changes);
    }
  }, []);
  const toObject = (0, import_react2.useCallback)(() => {
    const { getNodes: getNodes2, edges = [], transform: transform2 } = store.getState();
    const [x, y, zoom] = transform2;
    return {
      nodes: getNodes2().map((n) => ({ ...n })),
      edges: edges.map((e) => ({ ...e })),
      viewport: {
        x,
        y,
        zoom
      }
    };
  }, []);
  const deleteElements = (0, import_react2.useCallback)(({ nodes: nodesDeleted, edges: edgesDeleted }) => {
    const { nodeInternals, getNodes: getNodes2, edges, hasDefaultNodes, hasDefaultEdges, onNodesDelete, onEdgesDelete, onNodesChange, onEdgesChange } = store.getState();
    const nodeIds = (nodesDeleted || []).map((node) => node.id);
    const edgeIds = (edgesDeleted || []).map((edge) => edge.id);
    const nodesToRemove = getNodes2().reduce((res, node) => {
      const parentHit = !nodeIds.includes(node.id) && node.parentNode && res.find((n) => n.id === node.parentNode);
      const deletable = typeof node.deletable === "boolean" ? node.deletable : true;
      if (deletable && (nodeIds.includes(node.id) || parentHit)) {
        res.push(node);
      }
      return res;
    }, []);
    const deletableEdges = edges.filter((e) => typeof e.deletable === "boolean" ? e.deletable : true);
    const initialHitEdges = deletableEdges.filter((e) => edgeIds.includes(e.id));
    if (nodesToRemove || initialHitEdges) {
      const connectedEdges = getConnectedEdges(nodesToRemove, deletableEdges);
      const edgesToRemove = [...initialHitEdges, ...connectedEdges];
      const edgeIdsToRemove = edgesToRemove.reduce((res, edge) => {
        if (!res.includes(edge.id)) {
          res.push(edge.id);
        }
        return res;
      }, []);
      if (hasDefaultEdges || hasDefaultNodes) {
        if (hasDefaultEdges) {
          store.setState({
            edges: edges.filter((e) => !edgeIdsToRemove.includes(e.id))
          });
        }
        if (hasDefaultNodes) {
          nodesToRemove.forEach((node) => {
            nodeInternals.delete(node.id);
          });
          store.setState({
            nodeInternals: new Map(nodeInternals)
          });
        }
      }
      if (edgeIdsToRemove.length > 0) {
        onEdgesDelete?.(edgesToRemove);
        if (onEdgesChange) {
          onEdgesChange(edgeIdsToRemove.map((id2) => ({
            id: id2,
            type: "remove"
          })));
        }
      }
      if (nodesToRemove.length > 0) {
        onNodesDelete?.(nodesToRemove);
        if (onNodesChange) {
          const nodeChanges = nodesToRemove.map((n) => ({ id: n.id, type: "remove" }));
          onNodesChange(nodeChanges);
        }
      }
    }
  }, []);
  const getNodeRect = (0, import_react2.useCallback)((nodeOrRect) => {
    const isRect = isRectObject(nodeOrRect);
    const node = isRect ? null : store.getState().nodeInternals.get(nodeOrRect.id);
    const nodeRect = isRect ? nodeOrRect : nodeToRect(node);
    return [nodeRect, node, isRect];
  }, []);
  const getIntersectingNodes = (0, import_react2.useCallback)((nodeOrRect, partially = true, nodes) => {
    const [nodeRect, node, isRect] = getNodeRect(nodeOrRect);
    if (!nodeRect) {
      return [];
    }
    return (nodes || store.getState().getNodes()).filter((n) => {
      if (!isRect && (n.id === node.id || !n.positionAbsolute)) {
        return false;
      }
      const currNodeRect = nodeToRect(n);
      const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);
      const partiallyVisible = partially && overlappingArea > 0;
      return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;
    });
  }, []);
  const isNodeIntersecting = (0, import_react2.useCallback)((nodeOrRect, area, partially = true) => {
    const [nodeRect] = getNodeRect(nodeOrRect);
    if (!nodeRect) {
      return false;
    }
    const overlappingArea = getOverlappingArea(nodeRect, area);
    const partiallyVisible = partially && overlappingArea > 0;
    return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;
  }, []);
  return (0, import_react2.useMemo)(() => {
    return {
      ...viewportHelper,
      getNodes,
      getNode,
      getEdges,
      getEdge,
      setNodes,
      setEdges,
      addNodes,
      addEdges,
      toObject,
      deleteElements,
      getIntersectingNodes,
      isNodeIntersecting
    };
  }, [
    viewportHelper,
    getNodes,
    getNode,
    getEdges,
    getEdge,
    setNodes,
    setEdges,
    addNodes,
    addEdges,
    toObject,
    deleteElements,
    getIntersectingNodes,
    isNodeIntersecting
  ]);
}
var deleteKeyOptions = { actInsideInputWithModifier: false };
var useGlobalKeyHandler = ({ deleteKeyCode, multiSelectionKeyCode }) => {
  const store = useStoreApi();
  const { deleteElements } = useReactFlow();
  const deleteKeyPressed = useKeyPress(deleteKeyCode, deleteKeyOptions);
  const multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);
  (0, import_react2.useEffect)(() => {
    if (deleteKeyPressed) {
      const { edges, getNodes } = store.getState();
      const selectedNodes = getNodes().filter((node) => node.selected);
      const selectedEdges = edges.filter((edge) => edge.selected);
      deleteElements({ nodes: selectedNodes, edges: selectedEdges });
      store.setState({ nodesSelectionActive: false });
    }
  }, [deleteKeyPressed]);
  (0, import_react2.useEffect)(() => {
    store.setState({ multiSelectionActive: multiSelectionKeyPressed });
  }, [multiSelectionKeyPressed]);
};
function useResizeHandler(rendererNode) {
  const store = useStoreApi();
  (0, import_react2.useEffect)(() => {
    let resizeObserver;
    const updateDimensions = () => {
      if (!rendererNode.current) {
        return;
      }
      const size = getDimensions(rendererNode.current);
      if (size.height === 0 || size.width === 0) {
        store.getState().onError?.("004", errorMessages["error004"]());
      }
      store.setState({ width: size.width || 500, height: size.height || 500 });
    };
    updateDimensions();
    window.addEventListener("resize", updateDimensions);
    if (rendererNode.current) {
      resizeObserver = new ResizeObserver(() => updateDimensions());
      resizeObserver.observe(rendererNode.current);
    }
    return () => {
      window.removeEventListener("resize", updateDimensions);
      if (resizeObserver && rendererNode.current) {
        resizeObserver.unobserve(rendererNode.current);
      }
    };
  }, []);
}
var containerStyle = {
  position: "absolute",
  width: "100%",
  height: "100%",
  top: 0,
  left: 0
};
var viewChanged = (prevViewport, eventTransform) => prevViewport.x !== eventTransform.x || prevViewport.y !== eventTransform.y || prevViewport.zoom !== eventTransform.k;
var eventToFlowTransform = (eventTransform) => ({
  x: eventTransform.x,
  y: eventTransform.y,
  zoom: eventTransform.k
});
var isWrappedWithClass = (event, className) => event.target.closest(`.${className}`);
var isRightClickPan = (panOnDrag, usedButton) => usedButton === 2 && Array.isArray(panOnDrag) && panOnDrag.includes(2);
var wheelDelta = (event) => {
  const factor = event.ctrlKey && isMacOs() ? 10 : 1;
  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * factor;
};
var selector$a = (s) => ({
  d3Zoom: s.d3Zoom,
  d3Selection: s.d3Selection,
  d3ZoomHandler: s.d3ZoomHandler,
  userSelectionActive: s.userSelectionActive
});
var ZoomPane = ({ onMove, onMoveStart, onMoveEnd, onPaneContextMenu, zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, elementsSelectable, panOnDrag = true, defaultViewport, translateExtent, minZoom, maxZoom, zoomActivationKeyCode, preventScrolling = true, children: children2, noWheelClassName, noPanClassName }) => {
  const timerId = (0, import_react2.useRef)();
  const store = useStoreApi();
  const isZoomingOrPanning = (0, import_react2.useRef)(false);
  const zoomedWithRightMouseButton = (0, import_react2.useRef)(false);
  const zoomPane = (0, import_react2.useRef)(null);
  const prevTransform = (0, import_react2.useRef)({ x: 0, y: 0, zoom: 0 });
  const { d3Zoom, d3Selection, d3ZoomHandler, userSelectionActive } = useStore2(selector$a, shallow$1);
  const zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);
  const mouseButton = (0, import_react2.useRef)(0);
  const isPanScrolling = (0, import_react2.useRef)(false);
  const panScrollTimeout = (0, import_react2.useRef)();
  useResizeHandler(zoomPane);
  (0, import_react2.useEffect)(() => {
    if (zoomPane.current) {
      const bbox = zoomPane.current.getBoundingClientRect();
      const d3ZoomInstance = zoom_default2().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);
      const selection2 = select_default2(zoomPane.current).call(d3ZoomInstance);
      const updatedTransform = identity2.translate(defaultViewport.x, defaultViewport.y).scale(clamp(defaultViewport.zoom, minZoom, maxZoom));
      const extent = [
        [0, 0],
        [bbox.width, bbox.height]
      ];
      const constrainedTransform = d3ZoomInstance.constrain()(updatedTransform, extent, translateExtent);
      d3ZoomInstance.transform(selection2, constrainedTransform);
      d3ZoomInstance.wheelDelta(wheelDelta);
      store.setState({
        d3Zoom: d3ZoomInstance,
        d3Selection: selection2,
        d3ZoomHandler: selection2.on("wheel.zoom"),
        // we need to pass transform because zoom handler is not registered when we set the initial transform
        transform: [constrainedTransform.x, constrainedTransform.y, constrainedTransform.k],
        domNode: zoomPane.current.closest(".react-flow")
      });
    }
  }, []);
  (0, import_react2.useEffect)(() => {
    if (d3Selection && d3Zoom) {
      if (panOnScroll && !zoomActivationKeyPressed && !userSelectionActive) {
        d3Selection.on("wheel.zoom", (event) => {
          if (isWrappedWithClass(event, noWheelClassName)) {
            return false;
          }
          event.preventDefault();
          event.stopImmediatePropagation();
          const currentZoom = d3Selection.property("__zoom").k || 1;
          const _isMacOs = isMacOs();
          if (event.ctrlKey && zoomOnPinch && _isMacOs) {
            const point = pointer_default(event);
            const pinchDelta = wheelDelta(event);
            const zoom = currentZoom * Math.pow(2, pinchDelta);
            d3Zoom.scaleTo(d3Selection, zoom, point, event);
            return;
          }
          const deltaNormalize = event.deltaMode === 1 ? 20 : 1;
          let deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;
          let deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;
          if (!_isMacOs && event.shiftKey && panOnScrollMode !== PanOnScrollMode.Vertical) {
            deltaX = event.deltaY * deltaNormalize;
            deltaY = 0;
          }
          d3Zoom.translateBy(
            d3Selection,
            -(deltaX / currentZoom) * panOnScrollSpeed,
            -(deltaY / currentZoom) * panOnScrollSpeed,
            // @ts-ignore
            { internal: true }
          );
          const nextViewport = eventToFlowTransform(d3Selection.property("__zoom"));
          const { onViewportChangeStart, onViewportChange, onViewportChangeEnd } = store.getState();
          clearTimeout(panScrollTimeout.current);
          if (!isPanScrolling.current) {
            isPanScrolling.current = true;
            onMoveStart?.(event, nextViewport);
            onViewportChangeStart?.(nextViewport);
          }
          if (isPanScrolling.current) {
            onMove?.(event, nextViewport);
            onViewportChange?.(nextViewport);
            panScrollTimeout.current = setTimeout(() => {
              onMoveEnd?.(event, nextViewport);
              onViewportChangeEnd?.(nextViewport);
              isPanScrolling.current = false;
            }, 150);
          }
        }, { passive: false });
      } else if (typeof d3ZoomHandler !== "undefined") {
        d3Selection.on("wheel.zoom", function(event, d) {
          if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {
            return null;
          }
          event.preventDefault();
          d3ZoomHandler.call(this, event, d);
        }, { passive: false });
      }
    }
  }, [
    userSelectionActive,
    panOnScroll,
    panOnScrollMode,
    d3Selection,
    d3Zoom,
    d3ZoomHandler,
    zoomActivationKeyPressed,
    zoomOnPinch,
    preventScrolling,
    noWheelClassName,
    onMoveStart,
    onMove,
    onMoveEnd
  ]);
  (0, import_react2.useEffect)(() => {
    if (d3Zoom) {
      d3Zoom.on("start", (event) => {
        if (!event.sourceEvent || event.sourceEvent.internal) {
          return null;
        }
        mouseButton.current = event.sourceEvent?.button;
        const { onViewportChangeStart } = store.getState();
        const flowTransform = eventToFlowTransform(event.transform);
        isZoomingOrPanning.current = true;
        prevTransform.current = flowTransform;
        if (event.sourceEvent?.type === "mousedown") {
          store.setState({ paneDragging: true });
        }
        onViewportChangeStart?.(flowTransform);
        onMoveStart?.(event.sourceEvent, flowTransform);
      });
    }
  }, [d3Zoom, onMoveStart]);
  (0, import_react2.useEffect)(() => {
    if (d3Zoom) {
      if (userSelectionActive && !isZoomingOrPanning.current) {
        d3Zoom.on("zoom", null);
      } else if (!userSelectionActive) {
        d3Zoom.on("zoom", (event) => {
          const { onViewportChange } = store.getState();
          store.setState({ transform: [event.transform.x, event.transform.y, event.transform.k] });
          zoomedWithRightMouseButton.current = !!(onPaneContextMenu && isRightClickPan(panOnDrag, mouseButton.current ?? 0));
          if ((onMove || onViewportChange) && !event.sourceEvent?.internal) {
            const flowTransform = eventToFlowTransform(event.transform);
            onViewportChange?.(flowTransform);
            onMove?.(event.sourceEvent, flowTransform);
          }
        });
      }
    }
  }, [userSelectionActive, d3Zoom, onMove, panOnDrag, onPaneContextMenu]);
  (0, import_react2.useEffect)(() => {
    if (d3Zoom) {
      d3Zoom.on("end", (event) => {
        if (!event.sourceEvent || event.sourceEvent.internal) {
          return null;
        }
        const { onViewportChangeEnd } = store.getState();
        isZoomingOrPanning.current = false;
        store.setState({ paneDragging: false });
        if (onPaneContextMenu && isRightClickPan(panOnDrag, mouseButton.current ?? 0) && !zoomedWithRightMouseButton.current) {
          onPaneContextMenu(event.sourceEvent);
        }
        zoomedWithRightMouseButton.current = false;
        if ((onMoveEnd || onViewportChangeEnd) && viewChanged(prevTransform.current, event.transform)) {
          const flowTransform = eventToFlowTransform(event.transform);
          prevTransform.current = flowTransform;
          clearTimeout(timerId.current);
          timerId.current = setTimeout(() => {
            onViewportChangeEnd?.(flowTransform);
            onMoveEnd?.(event.sourceEvent, flowTransform);
          }, panOnScroll ? 150 : 0);
        }
      });
    }
  }, [d3Zoom, panOnScroll, panOnDrag, onMoveEnd, onPaneContextMenu]);
  (0, import_react2.useEffect)(() => {
    if (d3Zoom) {
      d3Zoom.filter((event) => {
        const zoomScroll = zoomActivationKeyPressed || zoomOnScroll;
        const pinchZoom = zoomOnPinch && event.ctrlKey;
        if ((panOnDrag === true || Array.isArray(panOnDrag) && panOnDrag.includes(1)) && event.button === 1 && event.type === "mousedown" && (isWrappedWithClass(event, "react-flow__node") || isWrappedWithClass(event, "react-flow__edge"))) {
          return true;
        }
        if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {
          return false;
        }
        if (userSelectionActive) {
          return false;
        }
        if (!zoomOnDoubleClick && event.type === "dblclick") {
          return false;
        }
        if (isWrappedWithClass(event, noWheelClassName) && event.type === "wheel") {
          return false;
        }
        if (isWrappedWithClass(event, noPanClassName) && (event.type !== "wheel" || panOnScroll && event.type === "wheel")) {
          return false;
        }
        if (!zoomOnPinch && event.ctrlKey && event.type === "wheel") {
          return false;
        }
        if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === "wheel") {
          return false;
        }
        if (!panOnDrag && (event.type === "mousedown" || event.type === "touchstart")) {
          return false;
        }
        if (Array.isArray(panOnDrag) && !panOnDrag.includes(event.button) && (event.type === "mousedown" || event.type === "touchstart")) {
          return false;
        }
        const buttonAllowed = Array.isArray(panOnDrag) && panOnDrag.includes(event.button) || !event.button || event.button <= 1;
        return (!event.ctrlKey || event.type === "wheel") && buttonAllowed;
      });
    }
  }, [
    userSelectionActive,
    d3Zoom,
    zoomOnScroll,
    zoomOnPinch,
    panOnScroll,
    zoomOnDoubleClick,
    panOnDrag,
    elementsSelectable,
    zoomActivationKeyPressed
  ]);
  return import_react2.default.createElement("div", { className: "react-flow__renderer", ref: zoomPane, style: containerStyle }, children2);
};
var selector$9 = (s) => ({
  userSelectionActive: s.userSelectionActive,
  userSelectionRect: s.userSelectionRect
});
function UserSelection() {
  const { userSelectionActive, userSelectionRect } = useStore2(selector$9, shallow$1);
  const isActive = userSelectionActive && userSelectionRect;
  if (!isActive) {
    return null;
  }
  return import_react2.default.createElement("div", { className: "react-flow__selection react-flow__container", style: {
    width: userSelectionRect.width,
    height: userSelectionRect.height,
    transform: `translate(${userSelectionRect.x}px, ${userSelectionRect.y}px)`
  } });
}
function handleParentExpand(res, updateItem) {
  const parent = res.find((e) => e.id === updateItem.parentNode);
  if (parent) {
    const extendWidth = updateItem.position.x + updateItem.width - parent.width;
    const extendHeight = updateItem.position.y + updateItem.height - parent.height;
    if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {
      parent.style = { ...parent.style };
      parent.style.width = parent.style.width ?? parent.width;
      parent.style.height = parent.style.height ?? parent.height;
      if (extendWidth > 0) {
        parent.style.width += extendWidth;
      }
      if (extendHeight > 0) {
        parent.style.height += extendHeight;
      }
      if (updateItem.position.x < 0) {
        const xDiff = Math.abs(updateItem.position.x);
        parent.position.x = parent.position.x - xDiff;
        parent.style.width += xDiff;
        updateItem.position.x = 0;
      }
      if (updateItem.position.y < 0) {
        const yDiff = Math.abs(updateItem.position.y);
        parent.position.y = parent.position.y - yDiff;
        parent.style.height += yDiff;
        updateItem.position.y = 0;
      }
      parent.width = parent.style.width;
      parent.height = parent.style.height;
    }
  }
}
function applyChanges(changes, elements) {
  if (changes.some((c) => c.type === "reset")) {
    return changes.filter((c) => c.type === "reset").map((c) => c.item);
  }
  const initElements = changes.filter((c) => c.type === "add").map((c) => c.item);
  return elements.reduce((res, item) => {
    const currentChanges = changes.filter((c) => c.id === item.id);
    if (currentChanges.length === 0) {
      res.push(item);
      return res;
    }
    const updateItem = { ...item };
    for (const currentChange of currentChanges) {
      if (currentChange) {
        switch (currentChange.type) {
          case "select": {
            updateItem.selected = currentChange.selected;
            break;
          }
          case "position": {
            if (typeof currentChange.position !== "undefined") {
              updateItem.position = currentChange.position;
            }
            if (typeof currentChange.positionAbsolute !== "undefined") {
              updateItem.positionAbsolute = currentChange.positionAbsolute;
            }
            if (typeof currentChange.dragging !== "undefined") {
              updateItem.dragging = currentChange.dragging;
            }
            if (updateItem.expandParent) {
              handleParentExpand(res, updateItem);
            }
            break;
          }
          case "dimensions": {
            if (typeof currentChange.dimensions !== "undefined") {
              updateItem.width = currentChange.dimensions.width;
              updateItem.height = currentChange.dimensions.height;
            }
            if (typeof currentChange.updateStyle !== "undefined") {
              updateItem.style = { ...updateItem.style || {}, ...currentChange.dimensions };
            }
            if (typeof currentChange.resizing === "boolean") {
              updateItem.resizing = currentChange.resizing;
            }
            if (updateItem.expandParent) {
              handleParentExpand(res, updateItem);
            }
            break;
          }
          case "remove": {
            return res;
          }
        }
      }
    }
    res.push(updateItem);
    return res;
  }, initElements);
}
function applyNodeChanges(changes, nodes) {
  return applyChanges(changes, nodes);
}
function applyEdgeChanges(changes, edges) {
  return applyChanges(changes, edges);
}
var createSelectionChange = (id2, selected) => ({
  id: id2,
  type: "select",
  selected
});
function getSelectionChanges(items, selectedIds) {
  return items.reduce((res, item) => {
    const willBeSelected = selectedIds.includes(item.id);
    if (!item.selected && willBeSelected) {
      item.selected = true;
      res.push(createSelectionChange(item.id, true));
    } else if (item.selected && !willBeSelected) {
      item.selected = false;
      res.push(createSelectionChange(item.id, false));
    }
    return res;
  }, []);
}
var wrapHandler = (handler, containerRef) => {
  return (event) => {
    if (event.target !== containerRef.current) {
      return;
    }
    handler?.(event);
  };
};
var selector$8 = (s) => ({
  userSelectionActive: s.userSelectionActive,
  elementsSelectable: s.elementsSelectable,
  dragging: s.paneDragging
});
var Pane = (0, import_react2.memo)(({ isSelecting, selectionMode = SelectionMode.Full, panOnDrag, onSelectionStart, onSelectionEnd, onPaneClick, onPaneContextMenu, onPaneScroll, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, children: children2 }) => {
  const container = (0, import_react2.useRef)(null);
  const store = useStoreApi();
  const prevSelectedNodesCount = (0, import_react2.useRef)(0);
  const prevSelectedEdgesCount = (0, import_react2.useRef)(0);
  const containerBounds = (0, import_react2.useRef)();
  const { userSelectionActive, elementsSelectable, dragging } = useStore2(selector$8, shallow$1);
  const resetUserSelection = () => {
    store.setState({ userSelectionActive: false, userSelectionRect: null });
    prevSelectedNodesCount.current = 0;
    prevSelectedEdgesCount.current = 0;
  };
  const onClick = (event) => {
    onPaneClick?.(event);
    store.getState().resetSelectedElements();
    store.setState({ nodesSelectionActive: false });
  };
  const onContextMenu = (event) => {
    if (Array.isArray(panOnDrag) && panOnDrag?.includes(2)) {
      event.preventDefault();
      return;
    }
    onPaneContextMenu?.(event);
  };
  const onWheel = onPaneScroll ? (event) => onPaneScroll(event) : void 0;
  const onMouseDown = (event) => {
    const { resetSelectedElements, domNode } = store.getState();
    containerBounds.current = domNode?.getBoundingClientRect();
    if (!elementsSelectable || !isSelecting || event.button !== 0 || event.target !== container.current || !containerBounds.current) {
      return;
    }
    const { x, y } = getEventPosition(event, containerBounds.current);
    resetSelectedElements();
    store.setState({
      userSelectionRect: {
        width: 0,
        height: 0,
        startX: x,
        startY: y,
        x,
        y
      }
    });
    onSelectionStart?.(event);
  };
  const onMouseMove = (event) => {
    const { userSelectionRect, nodeInternals, edges, transform: transform2, onNodesChange, onEdgesChange, nodeOrigin, getNodes } = store.getState();
    if (!isSelecting || !containerBounds.current || !userSelectionRect) {
      return;
    }
    store.setState({ userSelectionActive: true, nodesSelectionActive: false });
    const mousePos = getEventPosition(event, containerBounds.current);
    const startX = userSelectionRect.startX ?? 0;
    const startY = userSelectionRect.startY ?? 0;
    const nextUserSelectRect = {
      ...userSelectionRect,
      x: mousePos.x < startX ? mousePos.x : startX,
      y: mousePos.y < startY ? mousePos.y : startY,
      width: Math.abs(mousePos.x - startX),
      height: Math.abs(mousePos.y - startY)
    };
    const nodes = getNodes();
    const selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform2, selectionMode === SelectionMode.Partial, true, nodeOrigin);
    const selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map((e) => e.id);
    const selectedNodeIds = selectedNodes.map((n) => n.id);
    if (prevSelectedNodesCount.current !== selectedNodeIds.length) {
      prevSelectedNodesCount.current = selectedNodeIds.length;
      const changes = getSelectionChanges(nodes, selectedNodeIds);
      if (changes.length) {
        onNodesChange?.(changes);
      }
    }
    if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {
      prevSelectedEdgesCount.current = selectedEdgeIds.length;
      const changes = getSelectionChanges(edges, selectedEdgeIds);
      if (changes.length) {
        onEdgesChange?.(changes);
      }
    }
    store.setState({
      userSelectionRect: nextUserSelectRect
    });
  };
  const onMouseUp = (event) => {
    if (event.button !== 0) {
      return;
    }
    const { userSelectionRect } = store.getState();
    if (!userSelectionActive && userSelectionRect && event.target === container.current) {
      onClick?.(event);
    }
    store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });
    resetUserSelection();
    onSelectionEnd?.(event);
  };
  const onMouseLeave = (event) => {
    if (userSelectionActive) {
      store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });
      onSelectionEnd?.(event);
    }
    resetUserSelection();
  };
  const hasActiveSelection = elementsSelectable && (isSelecting || userSelectionActive);
  return import_react2.default.createElement(
    "div",
    { className: cc(["react-flow__pane", { dragging, selection: isSelecting }]), onClick: hasActiveSelection ? void 0 : wrapHandler(onClick, container), onContextMenu: wrapHandler(onContextMenu, container), onWheel: wrapHandler(onWheel, container), onMouseEnter: hasActiveSelection ? void 0 : onPaneMouseEnter, onMouseDown: hasActiveSelection ? onMouseDown : void 0, onMouseMove: hasActiveSelection ? onMouseMove : onPaneMouseMove, onMouseUp: hasActiveSelection ? onMouseUp : void 0, onMouseLeave: hasActiveSelection ? onMouseLeave : onPaneMouseLeave, ref: container, style: containerStyle },
    children2,
    import_react2.default.createElement(UserSelection, null)
  );
});
Pane.displayName = "Pane";
function isParentSelected(node, nodeInternals) {
  if (!node.parentNode) {
    return false;
  }
  const parentNode = nodeInternals.get(node.parentNode);
  if (!parentNode) {
    return false;
  }
  if (parentNode.selected) {
    return true;
  }
  return isParentSelected(parentNode, nodeInternals);
}
function hasSelector(target, selector, nodeRef) {
  let current = target;
  do {
    if (current?.matches(selector))
      return true;
    if (current === nodeRef.current)
      return false;
    current = current.parentElement;
  } while (current);
  return false;
}
function getDragItems(nodeInternals, nodesDraggable, mousePos, nodeId) {
  return Array.from(nodeInternals.values()).filter((n) => (n.selected || n.id === nodeId) && (!n.parentNode || !isParentSelected(n, nodeInternals)) && (n.draggable || nodesDraggable && typeof n.draggable === "undefined")).map((n) => ({
    id: n.id,
    position: n.position || { x: 0, y: 0 },
    positionAbsolute: n.positionAbsolute || { x: 0, y: 0 },
    distance: {
      x: mousePos.x - (n.positionAbsolute?.x ?? 0),
      y: mousePos.y - (n.positionAbsolute?.y ?? 0)
    },
    delta: {
      x: 0,
      y: 0
    },
    extent: n.extent,
    parentNode: n.parentNode,
    width: n.width,
    height: n.height,
    expandParent: n.expandParent
  }));
}
function clampNodeExtent(node, extent) {
  if (!extent || extent === "parent") {
    return extent;
  }
  return [extent[0], [extent[1][0] - (node.width || 0), extent[1][1] - (node.height || 0)]];
}
function calcNextPosition(node, nextPosition, nodeInternals, nodeExtent, nodeOrigin = [0, 0], onError) {
  const clampedNodeExtent = clampNodeExtent(node, node.extent || nodeExtent);
  let currentExtent = clampedNodeExtent;
  if (node.extent === "parent" && !node.expandParent) {
    if (node.parentNode && node.width && node.height) {
      const parent = nodeInternals.get(node.parentNode);
      const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;
      currentExtent = parent && isNumeric(parentX) && isNumeric(parentY) && isNumeric(parent.width) && isNumeric(parent.height) ? [
        [parentX + node.width * nodeOrigin[0], parentY + node.height * nodeOrigin[1]],
        [
          parentX + parent.width - node.width + node.width * nodeOrigin[0],
          parentY + parent.height - node.height + node.height * nodeOrigin[1]
        ]
      ] : currentExtent;
    } else {
      onError?.("005", errorMessages["error005"]());
      currentExtent = clampedNodeExtent;
    }
  } else if (node.extent && node.parentNode && node.extent !== "parent") {
    const parent = nodeInternals.get(node.parentNode);
    const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;
    currentExtent = [
      [node.extent[0][0] + parentX, node.extent[0][1] + parentY],
      [node.extent[1][0] + parentX, node.extent[1][1] + parentY]
    ];
  }
  let parentPosition = { x: 0, y: 0 };
  if (node.parentNode) {
    const parentNode = nodeInternals.get(node.parentNode);
    parentPosition = getNodePositionWithOrigin(parentNode, nodeOrigin).positionAbsolute;
  }
  const positionAbsolute = currentExtent && currentExtent !== "parent" ? clampPosition(nextPosition, currentExtent) : nextPosition;
  return {
    position: {
      x: positionAbsolute.x - parentPosition.x,
      y: positionAbsolute.y - parentPosition.y
    },
    positionAbsolute
  };
}
function getEventHandlerParams({ nodeId, dragItems, nodeInternals }) {
  const extentedDragItems = dragItems.map((n) => {
    const node = nodeInternals.get(n.id);
    return {
      ...node,
      position: n.position,
      positionAbsolute: n.positionAbsolute
    };
  });
  return [nodeId ? extentedDragItems.find((n) => n.id === nodeId) : extentedDragItems[0], extentedDragItems];
}
var getHandleBounds = (selector, nodeElement, zoom, nodeOrigin) => {
  const handles = nodeElement.querySelectorAll(selector);
  if (!handles || !handles.length) {
    return null;
  }
  const handlesArray = Array.from(handles);
  const nodeBounds = nodeElement.getBoundingClientRect();
  const nodeOffset = {
    x: nodeBounds.width * nodeOrigin[0],
    y: nodeBounds.height * nodeOrigin[1]
  };
  return handlesArray.map((handle) => {
    const handleBounds = handle.getBoundingClientRect();
    return {
      id: handle.getAttribute("data-handleid"),
      position: handle.getAttribute("data-handlepos"),
      x: (handleBounds.left - nodeBounds.left - nodeOffset.x) / zoom,
      y: (handleBounds.top - nodeBounds.top - nodeOffset.y) / zoom,
      ...getDimensions(handle)
    };
  });
};
function getMouseHandler(id2, getState, handler) {
  return handler === void 0 ? handler : (event) => {
    const node = getState().nodeInternals.get(id2);
    if (node) {
      handler(event, { ...node });
    }
  };
}
function handleNodeClick({ id: id2, store, unselect = false, nodeRef }) {
  const { addSelectedNodes, unselectNodesAndEdges, multiSelectionActive, nodeInternals, onError } = store.getState();
  const node = nodeInternals.get(id2);
  if (!node) {
    onError?.("012", errorMessages["error012"](id2));
    return;
  }
  store.setState({ nodesSelectionActive: false });
  if (!node.selected) {
    addSelectedNodes([id2]);
  } else if (unselect || node.selected && multiSelectionActive) {
    unselectNodesAndEdges({ nodes: [node], edges: [] });
    requestAnimationFrame(() => nodeRef?.current?.blur());
  }
}
function useGetPointerPosition() {
  const store = useStoreApi();
  const getPointerPosition = (0, import_react2.useCallback)(({ sourceEvent }) => {
    const { transform: transform2, snapGrid, snapToGrid } = store.getState();
    const x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;
    const y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;
    const pointerPos = {
      x: (x - transform2[0]) / transform2[2],
      y: (y - transform2[1]) / transform2[2]
    };
    return {
      xSnapped: snapToGrid ? snapGrid[0] * Math.round(pointerPos.x / snapGrid[0]) : pointerPos.x,
      ySnapped: snapToGrid ? snapGrid[1] * Math.round(pointerPos.y / snapGrid[1]) : pointerPos.y,
      ...pointerPos
    };
  }, []);
  return getPointerPosition;
}
function wrapSelectionDragFunc(selectionFunc) {
  return (event, _, nodes) => selectionFunc?.(event, nodes);
}
function useDrag({ nodeRef, disabled = false, noDragClassName, handleSelector, nodeId, isSelectable, selectNodesOnDrag }) {
  const store = useStoreApi();
  const [dragging, setDragging] = (0, import_react2.useState)(false);
  const dragItems = (0, import_react2.useRef)([]);
  const lastPos = (0, import_react2.useRef)({ x: null, y: null });
  const autoPanId = (0, import_react2.useRef)(0);
  const containerBounds = (0, import_react2.useRef)(null);
  const mousePosition = (0, import_react2.useRef)({ x: 0, y: 0 });
  const dragEvent = (0, import_react2.useRef)(null);
  const autoPanStarted = (0, import_react2.useRef)(false);
  const dragStarted = (0, import_react2.useRef)(false);
  const getPointerPosition = useGetPointerPosition();
  (0, import_react2.useEffect)(() => {
    if (nodeRef?.current) {
      const selection2 = select_default2(nodeRef.current);
      const updateNodes = ({ x, y }) => {
        const { nodeInternals, onNodeDrag, onSelectionDrag, updateNodePositions, nodeExtent, snapGrid, snapToGrid, nodeOrigin, onError } = store.getState();
        lastPos.current = { x, y };
        let hasChange = false;
        let nodesBox = { x: 0, y: 0, x2: 0, y2: 0 };
        if (dragItems.current.length > 1 && nodeExtent) {
          const rect = getRectOfNodes(dragItems.current, nodeOrigin);
          nodesBox = rectToBox(rect);
        }
        dragItems.current = dragItems.current.map((n) => {
          const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };
          if (snapToGrid) {
            nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);
            nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);
          }
          const adjustedNodeExtent = [
            [nodeExtent[0][0], nodeExtent[0][1]],
            [nodeExtent[1][0], nodeExtent[1][1]]
          ];
          if (dragItems.current.length > 1 && nodeExtent && !n.extent) {
            adjustedNodeExtent[0][0] = n.positionAbsolute.x - nodesBox.x + nodeExtent[0][0];
            adjustedNodeExtent[1][0] = n.positionAbsolute.x + (n.width ?? 0) - nodesBox.x2 + nodeExtent[1][0];
            adjustedNodeExtent[0][1] = n.positionAbsolute.y - nodesBox.y + nodeExtent[0][1];
            adjustedNodeExtent[1][1] = n.positionAbsolute.y + (n.height ?? 0) - nodesBox.y2 + nodeExtent[1][1];
          }
          const updatedPos = calcNextPosition(n, nextPosition, nodeInternals, adjustedNodeExtent, nodeOrigin, onError);
          hasChange = hasChange || n.position.x !== updatedPos.position.x || n.position.y !== updatedPos.position.y;
          n.position = updatedPos.position;
          n.positionAbsolute = updatedPos.positionAbsolute;
          return n;
        });
        if (!hasChange) {
          return;
        }
        updateNodePositions(dragItems.current, true, true);
        setDragging(true);
        const onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);
        if (onDrag && dragEvent.current) {
          const [currentNode, nodes] = getEventHandlerParams({
            nodeId,
            dragItems: dragItems.current,
            nodeInternals
          });
          onDrag(dragEvent.current, currentNode, nodes);
        }
      };
      const autoPan = () => {
        if (!containerBounds.current) {
          return;
        }
        const [xMovement, yMovement] = calcAutoPan(mousePosition.current, containerBounds.current);
        if (xMovement !== 0 || yMovement !== 0) {
          const { transform: transform2, panBy } = store.getState();
          lastPos.current.x = (lastPos.current.x ?? 0) - xMovement / transform2[2];
          lastPos.current.y = (lastPos.current.y ?? 0) - yMovement / transform2[2];
          if (panBy({ x: xMovement, y: yMovement })) {
            updateNodes(lastPos.current);
          }
        }
        autoPanId.current = requestAnimationFrame(autoPan);
      };
      const startDrag = (event) => {
        const { nodeInternals, multiSelectionActive, nodesDraggable, unselectNodesAndEdges, onNodeDragStart, onSelectionDragStart } = store.getState();
        dragStarted.current = true;
        const onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);
        if ((!selectNodesOnDrag || !isSelectable) && !multiSelectionActive && nodeId) {
          if (!nodeInternals.get(nodeId)?.selected) {
            unselectNodesAndEdges();
          }
        }
        if (nodeId && isSelectable && selectNodesOnDrag) {
          handleNodeClick({
            id: nodeId,
            store,
            nodeRef
          });
        }
        const pointerPos = getPointerPosition(event);
        lastPos.current = pointerPos;
        dragItems.current = getDragItems(nodeInternals, nodesDraggable, pointerPos, nodeId);
        if (onStart && dragItems.current) {
          const [currentNode, nodes] = getEventHandlerParams({
            nodeId,
            dragItems: dragItems.current,
            nodeInternals
          });
          onStart(event.sourceEvent, currentNode, nodes);
        }
      };
      if (disabled) {
        selection2.on(".drag", null);
      } else {
        const dragHandler = drag_default().on("start", (event) => {
          const { domNode, nodeDragThreshold } = store.getState();
          if (nodeDragThreshold === 0) {
            startDrag(event);
          }
          const pointerPos = getPointerPosition(event);
          lastPos.current = pointerPos;
          containerBounds.current = domNode?.getBoundingClientRect() || null;
          mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);
        }).on("drag", (event) => {
          const pointerPos = getPointerPosition(event);
          const { autoPanOnNodeDrag, nodeDragThreshold } = store.getState();
          if (!autoPanStarted.current && dragStarted.current && autoPanOnNodeDrag) {
            autoPanStarted.current = true;
            autoPan();
          }
          if (!dragStarted.current) {
            const x = pointerPos.xSnapped - (lastPos?.current?.x ?? 0);
            const y = pointerPos.ySnapped - (lastPos?.current?.y ?? 0);
            const distance2 = Math.sqrt(x * x + y * y);
            if (distance2 > nodeDragThreshold) {
              startDrag(event);
            }
          }
          if ((lastPos.current.x !== pointerPos.xSnapped || lastPos.current.y !== pointerPos.ySnapped) && dragItems.current && dragStarted.current) {
            dragEvent.current = event.sourceEvent;
            mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);
            updateNodes(pointerPos);
          }
        }).on("end", (event) => {
          if (!dragStarted.current) {
            return;
          }
          setDragging(false);
          autoPanStarted.current = false;
          dragStarted.current = false;
          cancelAnimationFrame(autoPanId.current);
          if (dragItems.current) {
            const { updateNodePositions, nodeInternals, onNodeDragStop, onSelectionDragStop } = store.getState();
            const onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);
            updateNodePositions(dragItems.current, false, false);
            if (onStop) {
              const [currentNode, nodes] = getEventHandlerParams({
                nodeId,
                dragItems: dragItems.current,
                nodeInternals
              });
              onStop(event.sourceEvent, currentNode, nodes);
            }
          }
        }).filter((event) => {
          const target = event.target;
          const isDraggable = !event.button && (!noDragClassName || !hasSelector(target, `.${noDragClassName}`, nodeRef)) && (!handleSelector || hasSelector(target, handleSelector, nodeRef));
          return isDraggable;
        });
        selection2.call(dragHandler);
        return () => {
          selection2.on(".drag", null);
        };
      }
    }
  }, [
    nodeRef,
    disabled,
    noDragClassName,
    handleSelector,
    isSelectable,
    store,
    nodeId,
    selectNodesOnDrag,
    getPointerPosition
  ]);
  return dragging;
}
function useUpdateNodePositions() {
  const store = useStoreApi();
  const updatePositions = (0, import_react2.useCallback)((params) => {
    const { nodeInternals, nodeExtent, updateNodePositions, getNodes, snapToGrid, snapGrid, onError, nodesDraggable } = store.getState();
    const selectedNodes = getNodes().filter((n) => n.selected && (n.draggable || nodesDraggable && typeof n.draggable === "undefined"));
    const xVelo = snapToGrid ? snapGrid[0] : 5;
    const yVelo = snapToGrid ? snapGrid[1] : 5;
    const factor = params.isShiftPressed ? 4 : 1;
    const positionDiffX = params.x * xVelo * factor;
    const positionDiffY = params.y * yVelo * factor;
    const nodeUpdates = selectedNodes.map((n) => {
      if (n.positionAbsolute) {
        const nextPosition = { x: n.positionAbsolute.x + positionDiffX, y: n.positionAbsolute.y + positionDiffY };
        if (snapToGrid) {
          nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);
          nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);
        }
        const { positionAbsolute, position } = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, void 0, onError);
        n.position = position;
        n.positionAbsolute = positionAbsolute;
      }
      return n;
    });
    updateNodePositions(nodeUpdates, true, false);
  }, []);
  return updatePositions;
}
var arrowKeyDiffs = {
  ArrowUp: { x: 0, y: -1 },
  ArrowDown: { x: 0, y: 1 },
  ArrowLeft: { x: -1, y: 0 },
  ArrowRight: { x: 1, y: 0 }
};
var wrapNode = (NodeComponent) => {
  const NodeWrapper = ({ id: id2, type, data, xPos, yPos, xPosOrigin, yPosOrigin, selected, onClick, onMouseEnter, onMouseMove, onMouseLeave, onContextMenu, onDoubleClick, style: style2, className, isDraggable, isSelectable, isConnectable, isFocusable, selectNodesOnDrag, sourcePosition, targetPosition, hidden, resizeObserver, dragHandle, zIndex, isParent, noDragClassName, noPanClassName, initialized, disableKeyboardA11y, ariaLabel, rfId }) => {
    const store = useStoreApi();
    const nodeRef = (0, import_react2.useRef)(null);
    const prevSourcePosition = (0, import_react2.useRef)(sourcePosition);
    const prevTargetPosition = (0, import_react2.useRef)(targetPosition);
    const prevType = (0, import_react2.useRef)(type);
    const hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;
    const updatePositions = useUpdateNodePositions();
    const onMouseEnterHandler = getMouseHandler(id2, store.getState, onMouseEnter);
    const onMouseMoveHandler = getMouseHandler(id2, store.getState, onMouseMove);
    const onMouseLeaveHandler = getMouseHandler(id2, store.getState, onMouseLeave);
    const onContextMenuHandler = getMouseHandler(id2, store.getState, onContextMenu);
    const onDoubleClickHandler = getMouseHandler(id2, store.getState, onDoubleClick);
    const onSelectNodeHandler = (event) => {
      const { nodeDragThreshold } = store.getState();
      if (isSelectable && (!selectNodesOnDrag || !isDraggable || nodeDragThreshold > 0)) {
        handleNodeClick({
          id: id2,
          store,
          nodeRef
        });
      }
      if (onClick) {
        const node = store.getState().nodeInternals.get(id2);
        if (node) {
          onClick(event, { ...node });
        }
      }
    };
    const onKeyDown = (event) => {
      if (isInputDOMNode(event)) {
        return;
      }
      if (elementSelectionKeys.includes(event.key) && isSelectable) {
        const unselect = event.key === "Escape";
        handleNodeClick({
          id: id2,
          store,
          unselect,
          nodeRef
        });
      } else if (!disableKeyboardA11y && isDraggable && selected && Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {
        store.setState({
          ariaLiveMessage: `Moved selected node ${event.key.replace("Arrow", "").toLowerCase()}. New position, x: ${~~xPos}, y: ${~~yPos}`
        });
        updatePositions({
          x: arrowKeyDiffs[event.key].x,
          y: arrowKeyDiffs[event.key].y,
          isShiftPressed: event.shiftKey
        });
      }
    };
    (0, import_react2.useEffect)(() => {
      if (nodeRef.current && !hidden) {
        const currNode = nodeRef.current;
        resizeObserver?.observe(currNode);
        return () => resizeObserver?.unobserve(currNode);
      }
    }, [hidden]);
    (0, import_react2.useEffect)(() => {
      const typeChanged = prevType.current !== type;
      const sourcePosChanged = prevSourcePosition.current !== sourcePosition;
      const targetPosChanged = prevTargetPosition.current !== targetPosition;
      if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {
        if (typeChanged) {
          prevType.current = type;
        }
        if (sourcePosChanged) {
          prevSourcePosition.current = sourcePosition;
        }
        if (targetPosChanged) {
          prevTargetPosition.current = targetPosition;
        }
        store.getState().updateNodeDimensions([{ id: id2, nodeElement: nodeRef.current, forceUpdate: true }]);
      }
    }, [id2, type, sourcePosition, targetPosition]);
    const dragging = useDrag({
      nodeRef,
      disabled: hidden || !isDraggable,
      noDragClassName,
      handleSelector: dragHandle,
      nodeId: id2,
      isSelectable,
      selectNodesOnDrag
    });
    if (hidden) {
      return null;
    }
    return import_react2.default.createElement(
      "div",
      { className: cc([
        "react-flow__node",
        `react-flow__node-${type}`,
        {
          // this is overwritable by passing `nopan` as a class name
          [noPanClassName]: isDraggable
        },
        className,
        {
          selected,
          selectable: isSelectable,
          parent: isParent,
          dragging
        }
      ]), ref: nodeRef, style: {
        zIndex,
        transform: `translate(${xPosOrigin}px,${yPosOrigin}px)`,
        pointerEvents: hasPointerEvents ? "all" : "none",
        visibility: initialized ? "visible" : "hidden",
        ...style2
      }, "data-id": id2, "data-testid": `rf__node-${id2}`, onMouseEnter: onMouseEnterHandler, onMouseMove: onMouseMoveHandler, onMouseLeave: onMouseLeaveHandler, onContextMenu: onContextMenuHandler, onClick: onSelectNodeHandler, onDoubleClick: onDoubleClickHandler, onKeyDown: isFocusable ? onKeyDown : void 0, tabIndex: isFocusable ? 0 : void 0, role: isFocusable ? "button" : void 0, "aria-describedby": disableKeyboardA11y ? void 0 : `${ARIA_NODE_DESC_KEY}-${rfId}`, "aria-label": ariaLabel },
      import_react2.default.createElement(
        Provider,
        { value: id2 },
        import_react2.default.createElement(NodeComponent, { id: id2, data, type, xPos, yPos, selected, isConnectable, sourcePosition, targetPosition, dragging, dragHandle, zIndex })
      )
    );
  };
  NodeWrapper.displayName = "NodeWrapper";
  return (0, import_react2.memo)(NodeWrapper);
};
var selector$7 = (s) => {
  const selectedNodes = s.getNodes().filter((n) => n.selected);
  return {
    ...getRectOfNodes(selectedNodes, s.nodeOrigin),
    transformString: `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`,
    userSelectionActive: s.userSelectionActive
  };
};
function NodesSelection({ onSelectionContextMenu, noPanClassName, disableKeyboardA11y }) {
  const store = useStoreApi();
  const { width, height, x: left, y: top, transformString, userSelectionActive } = useStore2(selector$7, shallow$1);
  const updatePositions = useUpdateNodePositions();
  const nodeRef = (0, import_react2.useRef)(null);
  (0, import_react2.useEffect)(() => {
    if (!disableKeyboardA11y) {
      nodeRef.current?.focus({
        preventScroll: true
      });
    }
  }, [disableKeyboardA11y]);
  useDrag({
    nodeRef
  });
  if (userSelectionActive || !width || !height) {
    return null;
  }
  const onContextMenu = onSelectionContextMenu ? (event) => {
    const selectedNodes = store.getState().getNodes().filter((n) => n.selected);
    onSelectionContextMenu(event, selectedNodes);
  } : void 0;
  const onKeyDown = (event) => {
    if (Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {
      updatePositions({
        x: arrowKeyDiffs[event.key].x,
        y: arrowKeyDiffs[event.key].y,
        isShiftPressed: event.shiftKey
      });
    }
  };
  return import_react2.default.createElement(
    "div",
    { className: cc(["react-flow__nodesselection", "react-flow__container", noPanClassName]), style: {
      transform: transformString
    } },
    import_react2.default.createElement("div", { ref: nodeRef, className: "react-flow__nodesselection-rect", onContextMenu, tabIndex: disableKeyboardA11y ? void 0 : -1, onKeyDown: disableKeyboardA11y ? void 0 : onKeyDown, style: {
      width,
      height,
      top,
      left
    } })
  );
}
var NodesSelection$1 = (0, import_react2.memo)(NodesSelection);
var selector$6 = (s) => s.nodesSelectionActive;
var FlowRenderer = ({ children: children2, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneContextMenu, onPaneScroll, deleteKeyCode, onMove, onMoveStart, onMoveEnd, selectionKeyCode, selectionOnDrag, selectionMode, onSelectionStart, onSelectionEnd, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, elementsSelectable, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag: _panOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, onSelectionContextMenu, noWheelClassName, noPanClassName, disableKeyboardA11y }) => {
  const nodesSelectionActive = useStore2(selector$6);
  const selectionKeyPressed = useKeyPress(selectionKeyCode);
  const panActivationKeyPressed = useKeyPress(panActivationKeyCode);
  const panOnDrag = panActivationKeyPressed || _panOnDrag;
  const isSelecting = selectionKeyPressed || selectionOnDrag && panOnDrag !== true;
  useGlobalKeyHandler({ deleteKeyCode, multiSelectionKeyCode });
  return import_react2.default.createElement(
    ZoomPane,
    { onMove, onMoveStart, onMoveEnd, onPaneContextMenu, elementsSelectable, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag: !selectionKeyPressed && panOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, zoomActivationKeyCode, preventScrolling, noWheelClassName, noPanClassName },
    import_react2.default.createElement(
      Pane,
      { onSelectionStart, onSelectionEnd, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneContextMenu, onPaneScroll, panOnDrag, isSelecting: !!isSelecting, selectionMode },
      children2,
      nodesSelectionActive && import_react2.default.createElement(NodesSelection$1, { onSelectionContextMenu, noPanClassName, disableKeyboardA11y })
    )
  );
};
FlowRenderer.displayName = "FlowRenderer";
var FlowRenderer$1 = (0, import_react2.memo)(FlowRenderer);
function useVisibleNodes(onlyRenderVisible) {
  const nodes = useStore2((0, import_react2.useCallback)((s) => onlyRenderVisible ? getNodesInside(s.nodeInternals, { x: 0, y: 0, width: s.width, height: s.height }, s.transform, true) : s.getNodes(), [onlyRenderVisible]));
  return nodes;
}
function createNodeTypes(nodeTypes) {
  const standardTypes = {
    input: wrapNode(nodeTypes.input || InputNode$1),
    default: wrapNode(nodeTypes.default || DefaultNode$1),
    output: wrapNode(nodeTypes.output || OutputNode$1),
    group: wrapNode(nodeTypes.group || GroupNode)
  };
  const wrappedTypes = {};
  const specialTypes = Object.keys(nodeTypes).filter((k) => !["input", "default", "output", "group"].includes(k)).reduce((res, key) => {
    res[key] = wrapNode(nodeTypes[key] || DefaultNode$1);
    return res;
  }, wrappedTypes);
  return {
    ...standardTypes,
    ...specialTypes
  };
}
var getPositionWithOrigin = ({ x, y, width, height, origin }) => {
  if (!width || !height) {
    return { x, y };
  }
  if (origin[0] < 0 || origin[1] < 0 || origin[0] > 1 || origin[1] > 1) {
    return { x, y };
  }
  return {
    x: x - width * origin[0],
    y: y - height * origin[1]
  };
};
var selector$5 = (s) => ({
  nodesDraggable: s.nodesDraggable,
  nodesConnectable: s.nodesConnectable,
  nodesFocusable: s.nodesFocusable,
  elementsSelectable: s.elementsSelectable,
  updateNodeDimensions: s.updateNodeDimensions,
  onError: s.onError
});
var NodeRenderer = (props) => {
  const { nodesDraggable, nodesConnectable, nodesFocusable, elementsSelectable, updateNodeDimensions, onError } = useStore2(selector$5, shallow$1);
  const nodes = useVisibleNodes(props.onlyRenderVisibleElements);
  const resizeObserverRef = (0, import_react2.useRef)();
  const resizeObserver = (0, import_react2.useMemo)(() => {
    if (typeof ResizeObserver === "undefined") {
      return null;
    }
    const observer = new ResizeObserver((entries) => {
      const updates = entries.map((entry) => ({
        id: entry.target.getAttribute("data-id"),
        nodeElement: entry.target,
        forceUpdate: true
      }));
      updateNodeDimensions(updates);
    });
    resizeObserverRef.current = observer;
    return observer;
  }, []);
  (0, import_react2.useEffect)(() => {
    return () => {
      resizeObserverRef?.current?.disconnect();
    };
  }, []);
  return import_react2.default.createElement("div", { className: "react-flow__nodes", style: containerStyle }, nodes.map((node) => {
    let nodeType = node.type || "default";
    if (!props.nodeTypes[nodeType]) {
      onError?.("003", errorMessages["error003"](nodeType));
      nodeType = "default";
    }
    const NodeComponent = props.nodeTypes[nodeType] || props.nodeTypes.default;
    const isDraggable = !!(node.draggable || nodesDraggable && typeof node.draggable === "undefined");
    const isSelectable = !!(node.selectable || elementsSelectable && typeof node.selectable === "undefined");
    const isConnectable = !!(node.connectable || nodesConnectable && typeof node.connectable === "undefined");
    const isFocusable = !!(node.focusable || nodesFocusable && typeof node.focusable === "undefined");
    const clampedPosition = props.nodeExtent ? clampPosition(node.positionAbsolute, props.nodeExtent) : node.positionAbsolute;
    const posX = clampedPosition?.x ?? 0;
    const posY = clampedPosition?.y ?? 0;
    const posOrigin = getPositionWithOrigin({
      x: posX,
      y: posY,
      width: node.width ?? 0,
      height: node.height ?? 0,
      origin: props.nodeOrigin
    });
    return import_react2.default.createElement(NodeComponent, { key: node.id, id: node.id, className: node.className, style: node.style, type: nodeType, data: node.data, sourcePosition: node.sourcePosition || Position.Bottom, targetPosition: node.targetPosition || Position.Top, hidden: node.hidden, xPos: posX, yPos: posY, xPosOrigin: posOrigin.x, yPosOrigin: posOrigin.y, selectNodesOnDrag: props.selectNodesOnDrag, onClick: props.onNodeClick, onMouseEnter: props.onNodeMouseEnter, onMouseMove: props.onNodeMouseMove, onMouseLeave: props.onNodeMouseLeave, onContextMenu: props.onNodeContextMenu, onDoubleClick: props.onNodeDoubleClick, selected: !!node.selected, isDraggable, isSelectable, isConnectable, isFocusable, resizeObserver, dragHandle: node.dragHandle, zIndex: node[internalsSymbol]?.z ?? 0, isParent: !!node[internalsSymbol]?.isParent, noDragClassName: props.noDragClassName, noPanClassName: props.noPanClassName, initialized: !!node.width && !!node.height, rfId: props.rfId, disableKeyboardA11y: props.disableKeyboardA11y, ariaLabel: node.ariaLabel });
  }));
};
NodeRenderer.displayName = "NodeRenderer";
var NodeRenderer$1 = (0, import_react2.memo)(NodeRenderer);
var shiftX = (x, shift, position) => {
  if (position === Position.Left)
    return x - shift;
  if (position === Position.Right)
    return x + shift;
  return x;
};
var shiftY = (y, shift, position) => {
  if (position === Position.Top)
    return y - shift;
  if (position === Position.Bottom)
    return y + shift;
  return y;
};
var EdgeUpdaterClassName = "react-flow__edgeupdater";
var EdgeAnchor = ({ position, centerX, centerY, radius = 10, onMouseDown, onMouseEnter, onMouseOut, type }) => import_react2.default.createElement("circle", { onMouseDown, onMouseEnter, onMouseOut, className: cc([EdgeUpdaterClassName, `${EdgeUpdaterClassName}-${type}`]), cx: shiftX(centerX, radius, position), cy: shiftY(centerY, radius, position), r: radius, stroke: "transparent", fill: "transparent" });
var alwaysValidConnection = () => true;
var wrapEdge = (EdgeComponent) => {
  const EdgeWrapper = ({ id: id2, className, type, data, onClick, onEdgeDoubleClick, selected, animated, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style: style2, source, target, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, elementsSelectable, hidden, sourceHandleId, targetHandleId, onContextMenu, onMouseEnter, onMouseMove, onMouseLeave, edgeUpdaterRadius, onEdgeUpdate, onEdgeUpdateStart, onEdgeUpdateEnd, markerEnd, markerStart, rfId, ariaLabel, isFocusable, isUpdatable, pathOptions, interactionWidth }) => {
    const edgeRef = (0, import_react2.useRef)(null);
    const [updateHover, setUpdateHover] = (0, import_react2.useState)(false);
    const [updating, setUpdating] = (0, import_react2.useState)(false);
    const store = useStoreApi();
    const markerStartUrl = (0, import_react2.useMemo)(() => `url(#${getMarkerId(markerStart, rfId)})`, [markerStart, rfId]);
    const markerEndUrl = (0, import_react2.useMemo)(() => `url(#${getMarkerId(markerEnd, rfId)})`, [markerEnd, rfId]);
    if (hidden) {
      return null;
    }
    const onEdgeClick = (event) => {
      const { edges, addSelectedEdges, unselectNodesAndEdges, multiSelectionActive } = store.getState();
      const edge = edges.find((e) => e.id === id2);
      if (!edge) {
        return;
      }
      if (elementsSelectable) {
        store.setState({ nodesSelectionActive: false });
        if (edge.selected && multiSelectionActive) {
          unselectNodesAndEdges({ nodes: [], edges: [edge] });
          edgeRef.current?.blur();
        } else {
          addSelectedEdges([id2]);
        }
      }
      if (onClick) {
        onClick(event, edge);
      }
    };
    const onEdgeDoubleClickHandler = getMouseHandler$1(id2, store.getState, onEdgeDoubleClick);
    const onEdgeContextMenu = getMouseHandler$1(id2, store.getState, onContextMenu);
    const onEdgeMouseEnter = getMouseHandler$1(id2, store.getState, onMouseEnter);
    const onEdgeMouseMove = getMouseHandler$1(id2, store.getState, onMouseMove);
    const onEdgeMouseLeave = getMouseHandler$1(id2, store.getState, onMouseLeave);
    const handleEdgeUpdater = (event, isSourceHandle) => {
      if (event.button !== 0) {
        return;
      }
      const { edges, isValidConnection: isValidConnectionStore } = store.getState();
      const nodeId = isSourceHandle ? target : source;
      const handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;
      const handleType = isSourceHandle ? "target" : "source";
      const isValidConnection = isValidConnectionStore || alwaysValidConnection;
      const isTarget = isSourceHandle;
      const edge = edges.find((e) => e.id === id2);
      setUpdating(true);
      onEdgeUpdateStart?.(event, edge, handleType);
      const _onEdgeUpdateEnd = (evt) => {
        setUpdating(false);
        onEdgeUpdateEnd?.(evt, edge, handleType);
      };
      const onConnectEdge = (connection) => onEdgeUpdate?.(edge, connection);
      handlePointerDown({
        event,
        handleId,
        nodeId,
        onConnect: onConnectEdge,
        isTarget,
        getState: store.getState,
        setState: store.setState,
        isValidConnection,
        edgeUpdaterType: handleType,
        onEdgeUpdateEnd: _onEdgeUpdateEnd
      });
    };
    const onEdgeUpdaterSourceMouseDown = (event) => handleEdgeUpdater(event, true);
    const onEdgeUpdaterTargetMouseDown = (event) => handleEdgeUpdater(event, false);
    const onEdgeUpdaterMouseEnter = () => setUpdateHover(true);
    const onEdgeUpdaterMouseOut = () => setUpdateHover(false);
    const inactive = !elementsSelectable && !onClick;
    const onKeyDown = (event) => {
      if (elementSelectionKeys.includes(event.key) && elementsSelectable) {
        const { unselectNodesAndEdges, addSelectedEdges, edges } = store.getState();
        const unselect = event.key === "Escape";
        if (unselect) {
          edgeRef.current?.blur();
          unselectNodesAndEdges({ edges: [edges.find((e) => e.id === id2)] });
        } else {
          addSelectedEdges([id2]);
        }
      }
    };
    return import_react2.default.createElement(
      "g",
      { className: cc([
        "react-flow__edge",
        `react-flow__edge-${type}`,
        className,
        { selected, animated, inactive, updating: updateHover }
      ]), onClick: onEdgeClick, onDoubleClick: onEdgeDoubleClickHandler, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onKeyDown: isFocusable ? onKeyDown : void 0, tabIndex: isFocusable ? 0 : void 0, role: isFocusable ? "button" : "img", "data-testid": `rf__edge-${id2}`, "aria-label": ariaLabel === null ? void 0 : ariaLabel ? ariaLabel : `Edge from ${source} to ${target}`, "aria-describedby": isFocusable ? `${ARIA_EDGE_DESC_KEY}-${rfId}` : void 0, ref: edgeRef },
      !updating && import_react2.default.createElement(EdgeComponent, { id: id2, source, target, selected, animated, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, data, style: style2, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, sourceHandleId, targetHandleId, markerStart: markerStartUrl, markerEnd: markerEndUrl, pathOptions, interactionWidth }),
      isUpdatable && import_react2.default.createElement(
        import_react2.default.Fragment,
        null,
        (isUpdatable === "source" || isUpdatable === true) && import_react2.default.createElement(EdgeAnchor, { position: sourcePosition, centerX: sourceX, centerY: sourceY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterSourceMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: "source" }),
        (isUpdatable === "target" || isUpdatable === true) && import_react2.default.createElement(EdgeAnchor, { position: targetPosition, centerX: targetX, centerY: targetY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterTargetMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: "target" })
      )
    );
  };
  EdgeWrapper.displayName = "EdgeWrapper";
  return (0, import_react2.memo)(EdgeWrapper);
};
function createEdgeTypes(edgeTypes) {
  const standardTypes = {
    default: wrapEdge(edgeTypes.default || BezierEdge),
    straight: wrapEdge(edgeTypes.bezier || StraightEdge),
    step: wrapEdge(edgeTypes.step || StepEdge),
    smoothstep: wrapEdge(edgeTypes.step || SmoothStepEdge),
    simplebezier: wrapEdge(edgeTypes.simplebezier || SimpleBezierEdge)
  };
  const wrappedTypes = {};
  const specialTypes = Object.keys(edgeTypes).filter((k) => !["default", "bezier"].includes(k)).reduce((res, key) => {
    res[key] = wrapEdge(edgeTypes[key] || BezierEdge);
    return res;
  }, wrappedTypes);
  return {
    ...standardTypes,
    ...specialTypes
  };
}
function getHandlePosition(position, nodeRect, handle = null) {
  const x = (handle?.x || 0) + nodeRect.x;
  const y = (handle?.y || 0) + nodeRect.y;
  const width = handle?.width || nodeRect.width;
  const height = handle?.height || nodeRect.height;
  switch (position) {
    case Position.Top:
      return {
        x: x + width / 2,
        y
      };
    case Position.Right:
      return {
        x: x + width,
        y: y + height / 2
      };
    case Position.Bottom:
      return {
        x: x + width / 2,
        y: y + height
      };
    case Position.Left:
      return {
        x,
        y: y + height / 2
      };
  }
}
function getHandle(bounds, handleId) {
  if (!bounds) {
    return null;
  }
  if (bounds.length === 1 || !handleId) {
    return bounds[0];
  } else if (handleId) {
    return bounds.find((d) => d.id === handleId) || null;
  }
  return null;
}
var getEdgePositions = (sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) => {
  const sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);
  const targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);
  return {
    sourceX: sourceHandlePos.x,
    sourceY: sourceHandlePos.y,
    targetX: targetHandlePos.x,
    targetY: targetHandlePos.y
  };
};
function isEdgeVisible({ sourcePos, targetPos, sourceWidth, sourceHeight, targetWidth, targetHeight, width, height, transform: transform2 }) {
  const edgeBox = {
    x: Math.min(sourcePos.x, targetPos.x),
    y: Math.min(sourcePos.y, targetPos.y),
    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),
    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)
  };
  if (edgeBox.x === edgeBox.x2) {
    edgeBox.x2 += 1;
  }
  if (edgeBox.y === edgeBox.y2) {
    edgeBox.y2 += 1;
  }
  const viewBox = rectToBox({
    x: (0 - transform2[0]) / transform2[2],
    y: (0 - transform2[1]) / transform2[2],
    width: width / transform2[2],
    height: height / transform2[2]
  });
  const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));
  const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));
  const overlappingArea = Math.ceil(xOverlap * yOverlap);
  return overlappingArea > 0;
}
function getNodeData(node) {
  const handleBounds = node?.[internalsSymbol]?.handleBounds || null;
  const isValid = handleBounds && node?.width && node?.height && typeof node?.positionAbsolute?.x !== "undefined" && typeof node?.positionAbsolute?.y !== "undefined";
  return [
    {
      x: node?.positionAbsolute?.x || 0,
      y: node?.positionAbsolute?.y || 0,
      width: node?.width || 0,
      height: node?.height || 0
    },
    handleBounds,
    !!isValid
  ];
}
var defaultEdgeTree = [{ level: 0, isMaxLevel: true, edges: [] }];
function groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect = false) {
  let maxLevel = -1;
  const levelLookup = edges.reduce((tree, edge) => {
    const hasZIndex = isNumeric(edge.zIndex);
    let z = hasZIndex ? edge.zIndex : 0;
    if (elevateEdgesOnSelect) {
      const targetNode = nodeInternals.get(edge.target);
      const sourceNode = nodeInternals.get(edge.source);
      const edgeOrConnectedNodeSelected = edge.selected || targetNode?.selected || sourceNode?.selected;
      const selectedZIndex = Math.max(sourceNode?.[internalsSymbol]?.z || 0, targetNode?.[internalsSymbol]?.z || 0, 1e3);
      z = (hasZIndex ? edge.zIndex : 0) + (edgeOrConnectedNodeSelected ? selectedZIndex : 0);
    }
    if (tree[z]) {
      tree[z].push(edge);
    } else {
      tree[z] = [edge];
    }
    maxLevel = z > maxLevel ? z : maxLevel;
    return tree;
  }, {});
  const edgeTree = Object.entries(levelLookup).map(([key, edges2]) => {
    const level = +key;
    return {
      edges: edges2,
      level,
      isMaxLevel: level === maxLevel
    };
  });
  if (edgeTree.length === 0) {
    return defaultEdgeTree;
  }
  return edgeTree;
}
function useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {
  const edges = useStore2((0, import_react2.useCallback)((s) => {
    if (!onlyRenderVisible) {
      return s.edges;
    }
    return s.edges.filter((e) => {
      const sourceNode = nodeInternals.get(e.source);
      const targetNode = nodeInternals.get(e.target);
      return sourceNode?.width && sourceNode?.height && targetNode?.width && targetNode?.height && isEdgeVisible({
        sourcePos: sourceNode.positionAbsolute || { x: 0, y: 0 },
        targetPos: targetNode.positionAbsolute || { x: 0, y: 0 },
        sourceWidth: sourceNode.width,
        sourceHeight: sourceNode.height,
        targetWidth: targetNode.width,
        targetHeight: targetNode.height,
        width: s.width,
        height: s.height,
        transform: s.transform
      });
    });
  }, [onlyRenderVisible, nodeInternals]));
  return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);
}
var ArrowSymbol = ({ color: color2 = "none", strokeWidth = 1 }) => {
  return import_react2.default.createElement("polyline", { style: {
    stroke: color2,
    strokeWidth
  }, strokeLinecap: "round", strokeLinejoin: "round", fill: "none", points: "-5,-4 0,0 -5,4" });
};
var ArrowClosedSymbol = ({ color: color2 = "none", strokeWidth = 1 }) => {
  return import_react2.default.createElement("polyline", { style: {
    stroke: color2,
    fill: color2,
    strokeWidth
  }, strokeLinecap: "round", strokeLinejoin: "round", points: "-5,-4 0,0 -5,4 -5,-4" });
};
var MarkerSymbols = {
  [MarkerType.Arrow]: ArrowSymbol,
  [MarkerType.ArrowClosed]: ArrowClosedSymbol
};
function useMarkerSymbol(type) {
  const store = useStoreApi();
  const symbol = (0, import_react2.useMemo)(() => {
    const symbolExists = Object.prototype.hasOwnProperty.call(MarkerSymbols, type);
    if (!symbolExists) {
      store.getState().onError?.("009", errorMessages["error009"](type));
      return null;
    }
    return MarkerSymbols[type];
  }, [type]);
  return symbol;
}
var Marker = ({ id: id2, type, color: color2, width = 12.5, height = 12.5, markerUnits = "strokeWidth", strokeWidth, orient = "auto-start-reverse" }) => {
  const Symbol2 = useMarkerSymbol(type);
  if (!Symbol2) {
    return null;
  }
  return import_react2.default.createElement(
    "marker",
    { className: "react-flow__arrowhead", id: id2, markerWidth: `${width}`, markerHeight: `${height}`, viewBox: "-10 -10 20 20", markerUnits, orient, refX: "0", refY: "0" },
    import_react2.default.createElement(Symbol2, { color: color2, strokeWidth })
  );
};
var markerSelector = ({ defaultColor, rfId }) => (s) => {
  const ids = [];
  return s.edges.reduce((markers, edge) => {
    [edge.markerStart, edge.markerEnd].forEach((marker) => {
      if (marker && typeof marker === "object") {
        const markerId = getMarkerId(marker, rfId);
        if (!ids.includes(markerId)) {
          markers.push({ id: markerId, color: marker.color || defaultColor, ...marker });
          ids.push(markerId);
        }
      }
    });
    return markers;
  }, []).sort((a, b) => a.id.localeCompare(b.id));
};
var MarkerDefinitions = ({ defaultColor, rfId }) => {
  const markers = useStore2(
    (0, import_react2.useCallback)(markerSelector({ defaultColor, rfId }), [defaultColor, rfId]),
    // the id includes all marker options, so we just need to look at that part of the marker
    (a, b) => !(a.length !== b.length || a.some((m, i) => m.id !== b[i].id))
  );
  return import_react2.default.createElement("defs", null, markers.map((marker) => import_react2.default.createElement(Marker, { id: marker.id, key: marker.id, type: marker.type, color: marker.color, width: marker.width, height: marker.height, markerUnits: marker.markerUnits, strokeWidth: marker.strokeWidth, orient: marker.orient })));
};
MarkerDefinitions.displayName = "MarkerDefinitions";
var MarkerDefinitions$1 = (0, import_react2.memo)(MarkerDefinitions);
var selector$4 = (s) => ({
  nodesConnectable: s.nodesConnectable,
  edgesFocusable: s.edgesFocusable,
  edgesUpdatable: s.edgesUpdatable,
  elementsSelectable: s.elementsSelectable,
  width: s.width,
  height: s.height,
  connectionMode: s.connectionMode,
  nodeInternals: s.nodeInternals,
  onError: s.onError
});
var EdgeRenderer = ({ defaultMarkerColor, onlyRenderVisibleElements, elevateEdgesOnSelect, rfId, edgeTypes, noPanClassName, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeClick, edgeUpdaterRadius, onEdgeDoubleClick, onEdgeUpdateStart, onEdgeUpdateEnd, children: children2 }) => {
  const { edgesFocusable, edgesUpdatable, elementsSelectable, width, height, connectionMode, nodeInternals, onError } = useStore2(selector$4, shallow$1);
  const edgeTree = useVisibleEdges(onlyRenderVisibleElements, nodeInternals, elevateEdgesOnSelect);
  if (!width) {
    return null;
  }
  return import_react2.default.createElement(
    import_react2.default.Fragment,
    null,
    edgeTree.map(({ level, edges, isMaxLevel }) => import_react2.default.createElement(
      "svg",
      { key: level, style: { zIndex: level }, width, height, className: "react-flow__edges react-flow__container" },
      isMaxLevel && import_react2.default.createElement(MarkerDefinitions$1, { defaultColor: defaultMarkerColor, rfId }),
      import_react2.default.createElement("g", null, edges.map((edge) => {
        const [sourceNodeRect, sourceHandleBounds, sourceIsValid] = getNodeData(nodeInternals.get(edge.source));
        const [targetNodeRect, targetHandleBounds, targetIsValid] = getNodeData(nodeInternals.get(edge.target));
        if (!sourceIsValid || !targetIsValid) {
          return null;
        }
        let edgeType = edge.type || "default";
        if (!edgeTypes[edgeType]) {
          onError?.("011", errorMessages["error011"](edgeType));
          edgeType = "default";
        }
        const EdgeComponent = edgeTypes[edgeType] || edgeTypes.default;
        const targetNodeHandles = connectionMode === ConnectionMode.Strict ? targetHandleBounds.target : (targetHandleBounds.target ?? []).concat(targetHandleBounds.source ?? []);
        const sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle);
        const targetHandle = getHandle(targetNodeHandles, edge.targetHandle);
        const sourcePosition = sourceHandle?.position || Position.Bottom;
        const targetPosition = targetHandle?.position || Position.Top;
        const isFocusable = !!(edge.focusable || edgesFocusable && typeof edge.focusable === "undefined");
        const isUpdatable = typeof onEdgeUpdate !== "undefined" && (edge.updatable || edgesUpdatable && typeof edge.updatable === "undefined");
        if (!sourceHandle || !targetHandle) {
          onError?.("008", errorMessages["error008"](sourceHandle, edge));
          return null;
        }
        const { sourceX, sourceY, targetX, targetY } = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition);
        return import_react2.default.createElement(EdgeComponent, { key: edge.id, id: edge.id, className: cc([edge.className, noPanClassName]), type: edgeType, data: edge.data, selected: !!edge.selected, animated: !!edge.animated, hidden: !!edge.hidden, label: edge.label, labelStyle: edge.labelStyle, labelShowBg: edge.labelShowBg, labelBgStyle: edge.labelBgStyle, labelBgPadding: edge.labelBgPadding, labelBgBorderRadius: edge.labelBgBorderRadius, style: edge.style, source: edge.source, target: edge.target, sourceHandleId: edge.sourceHandle, targetHandleId: edge.targetHandle, markerEnd: edge.markerEnd, markerStart: edge.markerStart, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, elementsSelectable, onEdgeUpdate, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onClick: onEdgeClick, edgeUpdaterRadius, onEdgeDoubleClick, onEdgeUpdateStart, onEdgeUpdateEnd, rfId, ariaLabel: edge.ariaLabel, isFocusable, isUpdatable, pathOptions: "pathOptions" in edge ? edge.pathOptions : void 0, interactionWidth: edge.interactionWidth });
      }))
    )),
    children2
  );
};
EdgeRenderer.displayName = "EdgeRenderer";
var EdgeRenderer$1 = (0, import_react2.memo)(EdgeRenderer);
var selector$3 = (s) => `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`;
function Viewport({ children: children2 }) {
  const transform2 = useStore2(selector$3);
  return import_react2.default.createElement("div", { className: "react-flow__viewport react-flow__container", style: { transform: transform2 } }, children2);
}
function useOnInitHandler(onInit) {
  const rfInstance = useReactFlow();
  const isInitialized = (0, import_react2.useRef)(false);
  (0, import_react2.useEffect)(() => {
    if (!isInitialized.current && rfInstance.viewportInitialized && onInit) {
      setTimeout(() => onInit(rfInstance), 1);
      isInitialized.current = true;
    }
  }, [onInit, rfInstance.viewportInitialized]);
}
var oppositePosition = {
  [Position.Left]: Position.Right,
  [Position.Right]: Position.Left,
  [Position.Top]: Position.Bottom,
  [Position.Bottom]: Position.Top
};
var ConnectionLine = ({ nodeId, handleType, style: style2, type = ConnectionLineType.Bezier, CustomComponent, connectionStatus }) => {
  const { fromNode, handleId, toX, toY, connectionMode } = useStore2((0, import_react2.useCallback)((s) => ({
    fromNode: s.nodeInternals.get(nodeId),
    handleId: s.connectionHandleId,
    toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],
    toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2],
    connectionMode: s.connectionMode
  }), [nodeId]), shallow$1);
  const fromHandleBounds = fromNode?.[internalsSymbol]?.handleBounds;
  let handleBounds = fromHandleBounds?.[handleType];
  if (connectionMode === ConnectionMode.Loose) {
    handleBounds = handleBounds ? handleBounds : fromHandleBounds?.[handleType === "source" ? "target" : "source"];
  }
  if (!fromNode || !handleBounds) {
    return null;
  }
  const fromHandle = handleId ? handleBounds.find((d) => d.id === handleId) : handleBounds[0];
  const fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : (fromNode.width ?? 0) / 2;
  const fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : fromNode.height ?? 0;
  const fromX = (fromNode.positionAbsolute?.x ?? 0) + fromHandleX;
  const fromY = (fromNode.positionAbsolute?.y ?? 0) + fromHandleY;
  const fromPosition = fromHandle?.position;
  const toPosition = fromPosition ? oppositePosition[fromPosition] : null;
  if (!fromPosition || !toPosition) {
    return null;
  }
  if (CustomComponent) {
    return import_react2.default.createElement(CustomComponent, { connectionLineType: type, connectionLineStyle: style2, fromNode, fromHandle, fromX, fromY, toX, toY, fromPosition, toPosition, connectionStatus });
  }
  let dAttr = "";
  const pathParams = {
    sourceX: fromX,
    sourceY: fromY,
    sourcePosition: fromPosition,
    targetX: toX,
    targetY: toY,
    targetPosition: toPosition
  };
  if (type === ConnectionLineType.Bezier) {
    [dAttr] = getBezierPath(pathParams);
  } else if (type === ConnectionLineType.Step) {
    [dAttr] = getSmoothStepPath({
      ...pathParams,
      borderRadius: 0
    });
  } else if (type === ConnectionLineType.SmoothStep) {
    [dAttr] = getSmoothStepPath(pathParams);
  } else if (type === ConnectionLineType.SimpleBezier) {
    [dAttr] = getSimpleBezierPath(pathParams);
  } else {
    dAttr = `M${fromX},${fromY} ${toX},${toY}`;
  }
  return import_react2.default.createElement("path", { d: dAttr, fill: "none", className: "react-flow__connection-path", style: style2 });
};
ConnectionLine.displayName = "ConnectionLine";
var selector$2 = (s) => ({
  nodeId: s.connectionNodeId,
  handleType: s.connectionHandleType,
  nodesConnectable: s.nodesConnectable,
  connectionStatus: s.connectionStatus,
  width: s.width,
  height: s.height
});
function ConnectionLineWrapper({ containerStyle: containerStyle2, style: style2, type, component }) {
  const { nodeId, handleType, nodesConnectable, width, height, connectionStatus } = useStore2(selector$2, shallow$1);
  const isValid = !!(nodeId && handleType && width && nodesConnectable);
  if (!isValid) {
    return null;
  }
  return import_react2.default.createElement(
    "svg",
    { style: containerStyle2, width, height, className: "react-flow__edges react-flow__connectionline react-flow__container" },
    import_react2.default.createElement(
      "g",
      { className: cc(["react-flow__connection", connectionStatus]) },
      import_react2.default.createElement(ConnectionLine, { nodeId, handleType, style: style2, type, CustomComponent: component, connectionStatus })
    )
  );
}
function useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {
  const typesKeysRef = (0, import_react2.useRef)(null);
  const store = useStoreApi();
  const typesParsed = (0, import_react2.useMemo)(() => {
    if (true) {
      const typeKeys = Object.keys(nodeOrEdgeTypes);
      if (shallow$1(typesKeysRef.current, typeKeys)) {
        store.getState().onError?.("002", errorMessages["error002"]());
      }
      typesKeysRef.current = typeKeys;
    }
    return createTypes(nodeOrEdgeTypes);
  }, [nodeOrEdgeTypes]);
  return typesParsed;
}
var GraphView = ({ nodeTypes, edgeTypes, onMove, onMoveStart, onMoveEnd, onInit, onNodeClick, onEdgeClick, onNodeDoubleClick, onEdgeDoubleClick, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionLineType, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, selectionKeyCode, selectionOnDrag, selectionMode, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, deleteKeyCode, onlyRenderVisibleElements, elementsSelectable, selectNodesOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, defaultMarkerColor, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, edgeUpdaterRadius, onEdgeUpdateStart, onEdgeUpdateEnd, noDragClassName, noWheelClassName, noPanClassName, elevateEdgesOnSelect, disableKeyboardA11y, nodeOrigin, nodeExtent, rfId }) => {
  const nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);
  const edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);
  useOnInitHandler(onInit);
  return import_react2.default.createElement(
    FlowRenderer$1,
    { onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneContextMenu, onPaneScroll, deleteKeyCode, selectionKeyCode, selectionOnDrag, selectionMode, onSelectionStart, onSelectionEnd, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, elementsSelectable, onMove, onMoveStart, onMoveEnd, zoomOnScroll, zoomOnPinch, zoomOnDoubleClick, panOnScroll, panOnScrollSpeed, panOnScrollMode, panOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, onSelectionContextMenu, preventScrolling, noDragClassName, noWheelClassName, noPanClassName, disableKeyboardA11y },
    import_react2.default.createElement(
      Viewport,
      null,
      import_react2.default.createElement(
        EdgeRenderer$1,
        { edgeTypes: edgeTypesWrapped, onEdgeClick, onEdgeDoubleClick, onEdgeUpdate, onlyRenderVisibleElements, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeUpdateStart, onEdgeUpdateEnd, edgeUpdaterRadius, defaultMarkerColor, noPanClassName, elevateEdgesOnSelect: !!elevateEdgesOnSelect, disableKeyboardA11y, rfId },
        import_react2.default.createElement(ConnectionLineWrapper, { style: connectionLineStyle, type: connectionLineType, component: connectionLineComponent, containerStyle: connectionLineContainerStyle })
      ),
      import_react2.default.createElement("div", { className: "react-flow__edgelabel-renderer" }),
      import_react2.default.createElement(NodeRenderer$1, { nodeTypes: nodeTypesWrapped, onNodeClick, onNodeDoubleClick, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, selectNodesOnDrag, onlyRenderVisibleElements, noPanClassName, noDragClassName, disableKeyboardA11y, nodeOrigin, nodeExtent, rfId })
    )
  );
};
GraphView.displayName = "GraphView";
var GraphView$1 = (0, import_react2.memo)(GraphView);
var infiniteExtent = [
  [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],
  [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]
];
var initialState = {
  rfId: "1",
  width: 0,
  height: 0,
  transform: [0, 0, 1],
  nodeInternals: /* @__PURE__ */ new Map(),
  edges: [],
  onNodesChange: null,
  onEdgesChange: null,
  hasDefaultNodes: false,
  hasDefaultEdges: false,
  d3Zoom: null,
  d3Selection: null,
  d3ZoomHandler: void 0,
  minZoom: 0.5,
  maxZoom: 2,
  translateExtent: infiniteExtent,
  nodeExtent: infiniteExtent,
  nodesSelectionActive: false,
  userSelectionActive: false,
  userSelectionRect: null,
  connectionNodeId: null,
  connectionHandleId: null,
  connectionHandleType: "source",
  connectionPosition: { x: 0, y: 0 },
  connectionStatus: null,
  connectionMode: ConnectionMode.Strict,
  domNode: null,
  paneDragging: false,
  noPanClassName: "nopan",
  nodeOrigin: [0, 0],
  nodeDragThreshold: 0,
  snapGrid: [15, 15],
  snapToGrid: false,
  nodesDraggable: true,
  nodesConnectable: true,
  nodesFocusable: true,
  edgesFocusable: true,
  edgesUpdatable: true,
  elementsSelectable: true,
  elevateNodesOnSelect: true,
  fitViewOnInit: false,
  fitViewOnInitDone: false,
  fitViewOnInitOptions: void 0,
  multiSelectionActive: false,
  connectionStartHandle: null,
  connectionEndHandle: null,
  connectionClickStartHandle: null,
  connectOnClick: true,
  ariaLiveMessage: "",
  autoPanOnConnect: true,
  autoPanOnNodeDrag: true,
  connectionRadius: 20,
  onError: devWarn,
  isValidConnection: void 0
};
var createRFStore = () => createWithEqualityFn((set3, get3) => ({
  ...initialState,
  setNodes: (nodes) => {
    const { nodeInternals, nodeOrigin, elevateNodesOnSelect } = get3();
    set3({ nodeInternals: createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) });
  },
  getNodes: () => {
    return Array.from(get3().nodeInternals.values());
  },
  setEdges: (edges) => {
    const { defaultEdgeOptions = {} } = get3();
    set3({ edges: edges.map((e) => ({ ...defaultEdgeOptions, ...e })) });
  },
  setDefaultNodesAndEdges: (nodes, edges) => {
    const hasDefaultNodes = typeof nodes !== "undefined";
    const hasDefaultEdges = typeof edges !== "undefined";
    const nodeInternals = hasDefaultNodes ? createNodeInternals(nodes, /* @__PURE__ */ new Map(), get3().nodeOrigin, get3().elevateNodesOnSelect) : /* @__PURE__ */ new Map();
    const nextEdges = hasDefaultEdges ? edges : [];
    set3({ nodeInternals, edges: nextEdges, hasDefaultNodes, hasDefaultEdges });
  },
  updateNodeDimensions: (updates) => {
    const { onNodesChange, nodeInternals, fitViewOnInit, fitViewOnInitDone, fitViewOnInitOptions, domNode, nodeOrigin } = get3();
    const viewportNode = domNode?.querySelector(".react-flow__viewport");
    if (!viewportNode) {
      return;
    }
    const style2 = window.getComputedStyle(viewportNode);
    const { m22: zoom } = new window.DOMMatrixReadOnly(style2.transform);
    const changes = updates.reduce((res, update) => {
      const node = nodeInternals.get(update.id);
      if (node) {
        const dimensions = getDimensions(update.nodeElement);
        const doUpdate = !!(dimensions.width && dimensions.height && (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));
        if (doUpdate) {
          nodeInternals.set(node.id, {
            ...node,
            [internalsSymbol]: {
              ...node[internalsSymbol],
              handleBounds: {
                source: getHandleBounds(".source", update.nodeElement, zoom, nodeOrigin),
                target: getHandleBounds(".target", update.nodeElement, zoom, nodeOrigin)
              }
            },
            ...dimensions
          });
          res.push({
            id: node.id,
            type: "dimensions",
            dimensions
          });
        }
      }
      return res;
    }, []);
    updateAbsoluteNodePositions(nodeInternals, nodeOrigin);
    const nextFitViewOnInitDone = fitViewOnInitDone || fitViewOnInit && !fitViewOnInitDone && fitView(get3, { initial: true, ...fitViewOnInitOptions });
    set3({ nodeInternals: new Map(nodeInternals), fitViewOnInitDone: nextFitViewOnInitDone });
    if (changes?.length > 0) {
      onNodesChange?.(changes);
    }
  },
  updateNodePositions: (nodeDragItems, positionChanged = true, dragging = false) => {
    const { triggerNodeChanges } = get3();
    const changes = nodeDragItems.map((node) => {
      const change = {
        id: node.id,
        type: "position",
        dragging
      };
      if (positionChanged) {
        change.positionAbsolute = node.positionAbsolute;
        change.position = node.position;
      }
      return change;
    });
    triggerNodeChanges(changes);
  },
  triggerNodeChanges: (changes) => {
    const { onNodesChange, nodeInternals, hasDefaultNodes, nodeOrigin, getNodes, elevateNodesOnSelect } = get3();
    if (changes?.length) {
      if (hasDefaultNodes) {
        const nodes = applyNodeChanges(changes, getNodes());
        const nextNodeInternals = createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect);
        set3({ nodeInternals: nextNodeInternals });
      }
      onNodesChange?.(changes);
    }
  },
  addSelectedNodes: (selectedNodeIds) => {
    const { multiSelectionActive, edges, getNodes } = get3();
    let changedNodes;
    let changedEdges = null;
    if (multiSelectionActive) {
      changedNodes = selectedNodeIds.map((nodeId) => createSelectionChange(nodeId, true));
    } else {
      changedNodes = getSelectionChanges(getNodes(), selectedNodeIds);
      changedEdges = getSelectionChanges(edges, []);
    }
    updateNodesAndEdgesSelections({
      changedNodes,
      changedEdges,
      get: get3,
      set: set3
    });
  },
  addSelectedEdges: (selectedEdgeIds) => {
    const { multiSelectionActive, edges, getNodes } = get3();
    let changedEdges;
    let changedNodes = null;
    if (multiSelectionActive) {
      changedEdges = selectedEdgeIds.map((edgeId) => createSelectionChange(edgeId, true));
    } else {
      changedEdges = getSelectionChanges(edges, selectedEdgeIds);
      changedNodes = getSelectionChanges(getNodes(), []);
    }
    updateNodesAndEdgesSelections({
      changedNodes,
      changedEdges,
      get: get3,
      set: set3
    });
  },
  unselectNodesAndEdges: ({ nodes, edges } = {}) => {
    const { edges: storeEdges, getNodes } = get3();
    const nodesToUnselect = nodes ? nodes : getNodes();
    const edgesToUnselect = edges ? edges : storeEdges;
    const changedNodes = nodesToUnselect.map((n) => {
      n.selected = false;
      return createSelectionChange(n.id, false);
    });
    const changedEdges = edgesToUnselect.map((edge) => createSelectionChange(edge.id, false));
    updateNodesAndEdgesSelections({
      changedNodes,
      changedEdges,
      get: get3,
      set: set3
    });
  },
  setMinZoom: (minZoom) => {
    const { d3Zoom, maxZoom } = get3();
    d3Zoom?.scaleExtent([minZoom, maxZoom]);
    set3({ minZoom });
  },
  setMaxZoom: (maxZoom) => {
    const { d3Zoom, minZoom } = get3();
    d3Zoom?.scaleExtent([minZoom, maxZoom]);
    set3({ maxZoom });
  },
  setTranslateExtent: (translateExtent) => {
    get3().d3Zoom?.translateExtent(translateExtent);
    set3({ translateExtent });
  },
  resetSelectedElements: () => {
    const { edges, getNodes } = get3();
    const nodes = getNodes();
    const nodesToUnselect = nodes.filter((e) => e.selected).map((n) => createSelectionChange(n.id, false));
    const edgesToUnselect = edges.filter((e) => e.selected).map((e) => createSelectionChange(e.id, false));
    updateNodesAndEdgesSelections({
      changedNodes: nodesToUnselect,
      changedEdges: edgesToUnselect,
      get: get3,
      set: set3
    });
  },
  setNodeExtent: (nodeExtent) => {
    const { nodeInternals } = get3();
    nodeInternals.forEach((node) => {
      node.positionAbsolute = clampPosition(node.position, nodeExtent);
    });
    set3({
      nodeExtent,
      nodeInternals: new Map(nodeInternals)
    });
  },
  panBy: (delta) => {
    const { transform: transform2, width, height, d3Zoom, d3Selection, translateExtent } = get3();
    if (!d3Zoom || !d3Selection || !delta.x && !delta.y) {
      return false;
    }
    const nextTransform = identity2.translate(transform2[0] + delta.x, transform2[1] + delta.y).scale(transform2[2]);
    const extent = [
      [0, 0],
      [width, height]
    ];
    const constrainedTransform = d3Zoom?.constrain()(nextTransform, extent, translateExtent);
    d3Zoom.transform(d3Selection, constrainedTransform);
    const transformChanged = transform2[0] !== constrainedTransform.x || transform2[1] !== constrainedTransform.y || transform2[2] !== constrainedTransform.k;
    return transformChanged;
  },
  cancelConnection: () => set3({
    connectionNodeId: initialState.connectionNodeId,
    connectionHandleId: initialState.connectionHandleId,
    connectionHandleType: initialState.connectionHandleType,
    connectionStatus: initialState.connectionStatus,
    connectionStartHandle: initialState.connectionStartHandle,
    connectionEndHandle: initialState.connectionEndHandle
  }),
  reset: () => set3({ ...initialState })
}), Object.is);
var ReactFlowProvider = ({ children: children2 }) => {
  const storeRef = (0, import_react2.useRef)(null);
  if (!storeRef.current) {
    storeRef.current = createRFStore();
  }
  return import_react2.default.createElement(Provider$1, { value: storeRef.current }, children2);
};
ReactFlowProvider.displayName = "ReactFlowProvider";
var Wrapper = ({ children: children2 }) => {
  const isWrapped = (0, import_react2.useContext)(StoreContext);
  if (isWrapped) {
    return import_react2.default.createElement(import_react2.default.Fragment, null, children2);
  }
  return import_react2.default.createElement(ReactFlowProvider, null, children2);
};
Wrapper.displayName = "ReactFlowWrapper";
var defaultNodeTypes = {
  input: InputNode$1,
  default: DefaultNode$1,
  output: OutputNode$1,
  group: GroupNode
};
var defaultEdgeTypes = {
  default: BezierEdge,
  straight: StraightEdge,
  step: StepEdge,
  smoothstep: SmoothStepEdge,
  simplebezier: SimpleBezierEdge
};
var initNodeOrigin = [0, 0];
var initSnapGrid = [15, 15];
var initDefaultViewport = { x: 0, y: 0, zoom: 1 };
var wrapperStyle = {
  width: "100%",
  height: "100%",
  overflow: "hidden",
  position: "relative",
  zIndex: 0
};
var ReactFlow = (0, import_react2.forwardRef)(({ nodes, edges, defaultNodes, defaultEdges, className, nodeTypes = defaultNodeTypes, edgeTypes = defaultEdgeTypes, onNodeClick, onEdgeClick, onInit, onMove, onMoveStart, onMoveEnd, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onNodeDoubleClick, onNodeDragStart, onNodeDrag, onNodeDragStop, onNodesDelete, onEdgesDelete, onSelectionChange, onSelectionDragStart, onSelectionDrag, onSelectionDragStop, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionMode = ConnectionMode.Strict, connectionLineType = ConnectionLineType.Bezier, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, deleteKeyCode = "Backspace", selectionKeyCode = "Shift", selectionOnDrag = false, selectionMode = SelectionMode.Full, panActivationKeyCode = "Space", multiSelectionKeyCode = isMacOs() ? "Meta" : "Control", zoomActivationKeyCode = isMacOs() ? "Meta" : "Control", snapToGrid = false, snapGrid = initSnapGrid, onlyRenderVisibleElements = false, selectNodesOnDrag = true, nodesDraggable, nodesConnectable, nodesFocusable, nodeOrigin = initNodeOrigin, edgesFocusable, edgesUpdatable, elementsSelectable, defaultViewport = initDefaultViewport, minZoom = 0.5, maxZoom = 2, translateExtent = infiniteExtent, preventScrolling = true, nodeExtent, defaultMarkerColor = "#b1b1b7", zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, panOnDrag = true, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, children: children2, onEdgeUpdate, onEdgeContextMenu, onEdgeDoubleClick, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeUpdateStart, onEdgeUpdateEnd, edgeUpdaterRadius = 10, onNodesChange, onEdgesChange, noDragClassName = "nodrag", noWheelClassName = "nowheel", noPanClassName = "nopan", fitView: fitView2 = false, fitViewOptions, connectOnClick = true, attributionPosition, proOptions, defaultEdgeOptions, elevateNodesOnSelect = true, elevateEdgesOnSelect = false, disableKeyboardA11y = false, autoPanOnConnect = true, autoPanOnNodeDrag = true, connectionRadius = 20, isValidConnection, onError, style: style2, id: id2, nodeDragThreshold, ...rest }, ref) => {
  const rfId = id2 || "1";
  return import_react2.default.createElement(
    "div",
    { ...rest, style: { ...style2, ...wrapperStyle }, ref, className: cc(["react-flow", className]), "data-testid": "rf__wrapper", id: id2 },
    import_react2.default.createElement(
      Wrapper,
      null,
      import_react2.default.createElement(GraphView$1, { onInit, onMove, onMoveStart, onMoveEnd, onNodeClick, onEdgeClick, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onNodeDoubleClick, nodeTypes, edgeTypes, connectionLineType, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, selectionKeyCode, selectionOnDrag, selectionMode, deleteKeyCode, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, onlyRenderVisibleElements, selectNodesOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, zoomOnScroll, zoomOnPinch, zoomOnDoubleClick, panOnScroll, panOnScrollSpeed, panOnScrollMode, panOnDrag, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, onSelectionContextMenu, onSelectionStart, onSelectionEnd, onEdgeUpdate, onEdgeContextMenu, onEdgeDoubleClick, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeUpdateStart, onEdgeUpdateEnd, edgeUpdaterRadius, defaultMarkerColor, noDragClassName, noWheelClassName, noPanClassName, elevateEdgesOnSelect, rfId, disableKeyboardA11y, nodeOrigin, nodeExtent }),
      import_react2.default.createElement(StoreUpdater, { nodes, edges, defaultNodes, defaultEdges, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, nodesDraggable, nodesConnectable, nodesFocusable, edgesFocusable, edgesUpdatable, elementsSelectable, elevateNodesOnSelect, minZoom, maxZoom, nodeExtent, onNodesChange, onEdgesChange, snapToGrid, snapGrid, connectionMode, translateExtent, connectOnClick, defaultEdgeOptions, fitView: fitView2, fitViewOptions, onNodesDelete, onEdgesDelete, onNodeDragStart, onNodeDrag, onNodeDragStop, onSelectionDrag, onSelectionDragStart, onSelectionDragStop, noPanClassName, nodeOrigin, rfId, autoPanOnConnect, autoPanOnNodeDrag, onError, connectionRadius, isValidConnection, nodeDragThreshold }),
      import_react2.default.createElement(Wrapper$1, { onSelectionChange }),
      children2,
      import_react2.default.createElement(Attribution, { proOptions, position: attributionPosition }),
      import_react2.default.createElement(A11yDescriptions, { rfId, disableKeyboardA11y })
    )
  );
});
ReactFlow.displayName = "ReactFlow";
var selector$1 = (s) => s.domNode?.querySelector(".react-flow__edgelabel-renderer");
function EdgeLabelRenderer({ children: children2 }) {
  const edgeLabelRenderer = useStore2(selector$1);
  if (!edgeLabelRenderer) {
    return null;
  }
  return (0, import_react_dom.createPortal)(children2, edgeLabelRenderer);
}
function createUseItemsState(applyChanges2) {
  return (initialItems) => {
    const [items, setItems] = (0, import_react2.useState)(initialItems);
    const onItemsChange = (0, import_react2.useCallback)((changes) => setItems((items2) => applyChanges2(changes, items2)), []);
    return [items, setItems, onItemsChange];
  };
}
var useNodesState = createUseItemsState(applyNodeChanges);
var useEdgesState = createUseItemsState(applyEdgeChanges);

// node_modules/@reactflow/node-toolbar/dist/esm/index.mjs
var import_react3 = __toESM(require_react(), 1);
var import_react_dom2 = __toESM(require_react_dom(), 1);

// node_modules/d3-hierarchy/src/hierarchy/count.js
function count(node) {
  var sum = 0, children2 = node.children, i = children2 && children2.length;
  if (!i)
    sum = 1;
  else
    while (--i >= 0)
      sum += children2[i].value;
  node.value = sum;
}
function count_default() {
  return this.eachAfter(count);
}

// node_modules/d3-hierarchy/src/hierarchy/each.js
function each_default2(callback, that) {
  let index = -1;
  for (const node of this) {
    callback.call(that, node, ++index, this);
  }
  return this;
}

// node_modules/d3-hierarchy/src/hierarchy/eachBefore.js
function eachBefore_default(callback, that) {
  var node = this, nodes = [node], children2, i, index = -1;
  while (node = nodes.pop()) {
    callback.call(that, node, ++index, this);
    if (children2 = node.children) {
      for (i = children2.length - 1; i >= 0; --i) {
        nodes.push(children2[i]);
      }
    }
  }
  return this;
}

// node_modules/d3-hierarchy/src/hierarchy/eachAfter.js
function eachAfter_default(callback, that) {
  var node = this, nodes = [node], next = [], children2, i, n, index = -1;
  while (node = nodes.pop()) {
    next.push(node);
    if (children2 = node.children) {
      for (i = 0, n = children2.length; i < n; ++i) {
        nodes.push(children2[i]);
      }
    }
  }
  while (node = next.pop()) {
    callback.call(that, node, ++index, this);
  }
  return this;
}

// node_modules/d3-hierarchy/src/hierarchy/find.js
function find_default(callback, that) {
  let index = -1;
  for (const node of this) {
    if (callback.call(that, node, ++index, this)) {
      return node;
    }
  }
}

// node_modules/d3-hierarchy/src/hierarchy/sum.js
function sum_default(value) {
  return this.eachAfter(function(node) {
    var sum = +value(node.data) || 0, children2 = node.children, i = children2 && children2.length;
    while (--i >= 0)
      sum += children2[i].value;
    node.value = sum;
  });
}

// node_modules/d3-hierarchy/src/hierarchy/sort.js
function sort_default2(compare) {
  return this.eachBefore(function(node) {
    if (node.children) {
      node.children.sort(compare);
    }
  });
}

// node_modules/d3-hierarchy/src/hierarchy/path.js
function path_default(end) {
  var start2 = this, ancestor = leastCommonAncestor(start2, end), nodes = [start2];
  while (start2 !== ancestor) {
    start2 = start2.parent;
    nodes.push(start2);
  }
  var k = nodes.length;
  while (end !== ancestor) {
    nodes.splice(k, 0, end);
    end = end.parent;
  }
  return nodes;
}
function leastCommonAncestor(a, b) {
  if (a === b)
    return a;
  var aNodes = a.ancestors(), bNodes = b.ancestors(), c = null;
  a = aNodes.pop();
  b = bNodes.pop();
  while (a === b) {
    c = a;
    a = aNodes.pop();
    b = bNodes.pop();
  }
  return c;
}

// node_modules/d3-hierarchy/src/hierarchy/ancestors.js
function ancestors_default() {
  var node = this, nodes = [node];
  while (node = node.parent) {
    nodes.push(node);
  }
  return nodes;
}

// node_modules/d3-hierarchy/src/hierarchy/descendants.js
function descendants_default() {
  return Array.from(this);
}

// node_modules/d3-hierarchy/src/hierarchy/leaves.js
function leaves_default() {
  var leaves = [];
  this.eachBefore(function(node) {
    if (!node.children) {
      leaves.push(node);
    }
  });
  return leaves;
}

// node_modules/d3-hierarchy/src/hierarchy/links.js
function links_default() {
  var root2 = this, links = [];
  root2.each(function(node) {
    if (node !== root2) {
      links.push({ source: node.parent, target: node });
    }
  });
  return links;
}

// node_modules/d3-hierarchy/src/hierarchy/iterator.js
function* iterator_default2() {
  var node = this, current, next = [node], children2, i, n;
  do {
    current = next.reverse(), next = [];
    while (node = current.pop()) {
      yield node;
      if (children2 = node.children) {
        for (i = 0, n = children2.length; i < n; ++i) {
          next.push(children2[i]);
        }
      }
    }
  } while (next.length);
}

// node_modules/d3-hierarchy/src/hierarchy/index.js
function hierarchy(data, children2) {
  if (data instanceof Map) {
    data = [void 0, data];
    if (children2 === void 0)
      children2 = mapChildren;
  } else if (children2 === void 0) {
    children2 = objectChildren;
  }
  var root2 = new Node(data), node, nodes = [root2], child, childs, i, n;
  while (node = nodes.pop()) {
    if ((childs = children2(node.data)) && (n = (childs = Array.from(childs)).length)) {
      node.children = childs;
      for (i = n - 1; i >= 0; --i) {
        nodes.push(child = childs[i] = new Node(childs[i]));
        child.parent = node;
        child.depth = node.depth + 1;
      }
    }
  }
  return root2.eachBefore(computeHeight);
}
function node_copy() {
  return hierarchy(this).eachBefore(copyData);
}
function objectChildren(d) {
  return d.children;
}
function mapChildren(d) {
  return Array.isArray(d) ? d[1] : null;
}
function copyData(node) {
  if (node.data.value !== void 0)
    node.value = node.data.value;
  node.data = node.data.data;
}
function computeHeight(node) {
  var height = 0;
  do
    node.height = height;
  while ((node = node.parent) && node.height < ++height);
}
function Node(data) {
  this.data = data;
  this.depth = this.height = 0;
  this.parent = null;
}
Node.prototype = hierarchy.prototype = {
  constructor: Node,
  count: count_default,
  each: each_default2,
  eachAfter: eachAfter_default,
  eachBefore: eachBefore_default,
  find: find_default,
  sum: sum_default,
  sort: sort_default2,
  path: path_default,
  ancestors: ancestors_default,
  descendants: descendants_default,
  leaves: leaves_default,
  links: links_default,
  copy: node_copy,
  [Symbol.iterator]: iterator_default2
};

// node_modules/d3-hierarchy/src/accessors.js
function optional(f) {
  return f == null ? null : required(f);
}
function required(f) {
  if (typeof f !== "function")
    throw new Error();
  return f;
}

// node_modules/d3-hierarchy/src/stratify.js
var preroot = { depth: -1 };
var ambiguous = {};
var imputed = {};
function defaultId(d) {
  return d.id;
}
function defaultParentId(d) {
  return d.parentId;
}
function stratify_default() {
  var id2 = defaultId, parentId = defaultParentId, path;
  function stratify(data) {
    var nodes = Array.from(data), currentId = id2, currentParentId = parentId, n, d, i, root2, parent, node, nodeId, nodeKey, nodeByKey = /* @__PURE__ */ new Map();
    if (path != null) {
      const I = nodes.map((d2, i2) => normalize(path(d2, i2, data)));
      const P = I.map(parentof);
      const S = new Set(I).add("");
      for (const i2 of P) {
        if (!S.has(i2)) {
          S.add(i2);
          I.push(i2);
          P.push(parentof(i2));
          nodes.push(imputed);
        }
      }
      currentId = (_, i2) => I[i2];
      currentParentId = (_, i2) => P[i2];
    }
    for (i = 0, n = nodes.length; i < n; ++i) {
      d = nodes[i], node = nodes[i] = new Node(d);
      if ((nodeId = currentId(d, i, data)) != null && (nodeId += "")) {
        nodeKey = node.id = nodeId;
        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);
      }
      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += "")) {
        node.parent = nodeId;
      }
    }
    for (i = 0; i < n; ++i) {
      node = nodes[i];
      if (nodeId = node.parent) {
        parent = nodeByKey.get(nodeId);
        if (!parent)
          throw new Error("missing: " + nodeId);
        if (parent === ambiguous)
          throw new Error("ambiguous: " + nodeId);
        if (parent.children)
          parent.children.push(node);
        else
          parent.children = [node];
        node.parent = parent;
      } else {
        if (root2)
          throw new Error("multiple roots");
        root2 = node;
      }
    }
    if (!root2)
      throw new Error("no root");
    if (path != null) {
      while (root2.data === imputed && root2.children.length === 1) {
        root2 = root2.children[0], --n;
      }
      for (let i2 = nodes.length - 1; i2 >= 0; --i2) {
        node = nodes[i2];
        if (node.data !== imputed)
          break;
        node.data = null;
      }
    }
    root2.parent = preroot;
    root2.eachBefore(function(node2) {
      node2.depth = node2.parent.depth + 1;
      --n;
    }).eachBefore(computeHeight);
    root2.parent = null;
    if (n > 0)
      throw new Error("cycle");
    return root2;
  }
  stratify.id = function(x) {
    return arguments.length ? (id2 = optional(x), stratify) : id2;
  };
  stratify.parentId = function(x) {
    return arguments.length ? (parentId = optional(x), stratify) : parentId;
  };
  stratify.path = function(x) {
    return arguments.length ? (path = optional(x), stratify) : path;
  };
  return stratify;
}
function normalize(path) {
  path = `${path}`;
  let i = path.length;
  if (slash(path, i - 1) && !slash(path, i - 2))
    path = path.slice(0, -1);
  return path[0] === "/" ? path : `/${path}`;
}
function parentof(path) {
  let i = path.length;
  if (i < 2)
    return "";
  while (--i > 1)
    if (slash(path, i))
      break;
  return path.slice(0, i);
}
function slash(path, i) {
  if (path[i] === "/") {
    let k = 0;
    while (i > 0 && path[--i] === "\\")
      ++k;
    if ((k & 1) === 0)
      return true;
  }
  return false;
}

// node_modules/d3-hierarchy/src/tree.js
function defaultSeparation(a, b) {
  return a.parent === b.parent ? 1 : 2;
}
function nextLeft(v) {
  var children2 = v.children;
  return children2 ? children2[0] : v.t;
}
function nextRight(v) {
  var children2 = v.children;
  return children2 ? children2[children2.length - 1] : v.t;
}
function moveSubtree(wm, wp, shift) {
  var change = shift / (wp.i - wm.i);
  wp.c -= change;
  wp.s += shift;
  wm.c += change;
  wp.z += shift;
  wp.m += shift;
}
function executeShifts(v) {
  var shift = 0, change = 0, children2 = v.children, i = children2.length, w;
  while (--i >= 0) {
    w = children2[i];
    w.z += shift;
    w.m += shift;
    shift += w.s + (change += w.c);
  }
}
function nextAncestor(vim, v, ancestor) {
  return vim.a.parent === v.parent ? vim.a : ancestor;
}
function TreeNode(node, i) {
  this._ = node;
  this.parent = null;
  this.children = null;
  this.A = null;
  this.a = this;
  this.z = 0;
  this.m = 0;
  this.c = 0;
  this.s = 0;
  this.t = null;
  this.i = i;
}
TreeNode.prototype = Object.create(Node.prototype);
function treeRoot(root2) {
  var tree = new TreeNode(root2, 0), node, nodes = [tree], child, children2, i, n;
  while (node = nodes.pop()) {
    if (children2 = node._.children) {
      node.children = new Array(n = children2.length);
      for (i = n - 1; i >= 0; --i) {
        nodes.push(child = node.children[i] = new TreeNode(children2[i], i));
        child.parent = node;
      }
    }
  }
  (tree.parent = new TreeNode(null, 0)).children = [tree];
  return tree;
}
function tree_default() {
  var separation = defaultSeparation, dx = 1, dy = 1, nodeSize = null;
  function tree(root2) {
    var t = treeRoot(root2);
    t.eachAfter(firstWalk), t.parent.m = -t.z;
    t.eachBefore(secondWalk);
    if (nodeSize)
      root2.eachBefore(sizeNode);
    else {
      var left = root2, right = root2, bottom = root2;
      root2.eachBefore(function(node) {
        if (node.x < left.x)
          left = node;
        if (node.x > right.x)
          right = node;
        if (node.depth > bottom.depth)
          bottom = node;
      });
      var s = left === right ? 1 : separation(left, right) / 2, tx = s - left.x, kx = dx / (right.x + s + tx), ky = dy / (bottom.depth || 1);
      root2.eachBefore(function(node) {
        node.x = (node.x + tx) * kx;
        node.y = node.depth * ky;
      });
    }
    return root2;
  }
  function firstWalk(v) {
    var children2 = v.children, siblings = v.parent.children, w = v.i ? siblings[v.i - 1] : null;
    if (children2) {
      executeShifts(v);
      var midpoint = (children2[0].z + children2[children2.length - 1].z) / 2;
      if (w) {
        v.z = w.z + separation(v._, w._);
        v.m = v.z - midpoint;
      } else {
        v.z = midpoint;
      }
    } else if (w) {
      v.z = w.z + separation(v._, w._);
    }
    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);
  }
  function secondWalk(v) {
    v._.x = v.z + v.parent.m;
    v.m += v.parent.m;
  }
  function apportion(v, w, ancestor) {
    if (w) {
      var vip = v, vop = v, vim = w, vom = vip.parent.children[0], sip = vip.m, sop = vop.m, sim = vim.m, som = vom.m, shift;
      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {
        vom = nextLeft(vom);
        vop = nextRight(vop);
        vop.a = v;
        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);
        if (shift > 0) {
          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);
          sip += shift;
          sop += shift;
        }
        sim += vim.m;
        sip += vip.m;
        som += vom.m;
        sop += vop.m;
      }
      if (vim && !nextRight(vop)) {
        vop.t = vim;
        vop.m += sim - sop;
      }
      if (vip && !nextLeft(vom)) {
        vom.t = vip;
        vom.m += sip - som;
        ancestor = v;
      }
    }
    return ancestor;
  }
  function sizeNode(node) {
    node.x *= dx;
    node.y = node.depth * dy;
  }
  tree.separation = function(x) {
    return arguments.length ? (separation = x, tree) : separation;
  };
  tree.size = function(x) {
    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : nodeSize ? null : [dx, dy];
  };
  tree.nodeSize = function(x) {
    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : nodeSize ? [dx, dy] : null;
  };
  return tree;
}

// js/workflow-diagram/constants.ts
var FIT_DURATION = 180;
var FIT_PADDING = 0.3;
var NODE_WIDTH = 180;
var NODE_HEIGHT = 40;

// js/workflow-diagram/layout.ts
var layout = tree_default().nodeSize([200, 200]).separation(() => 2);
var calculateLayout = async (model2, update, flow, duration = 500) => {
  const { nodes, edges } = model2;
  const hierarchy2 = stratify_default().id((d) => d.id).parentId((d) => edges.find((e) => e.target === d.id)?.source)(nodes);
  const root2 = layout(hierarchy2);
  const newNodes = root2.descendants().map((d) => ({
    ...d.data,
    position: { x: d.x, y: d.y },
    // Ensure nodes have a width/height so that we can later do a fit to bounds
    width: NODE_WIDTH,
    height: NODE_HEIGHT
  }));
  const newModel = { nodes: newNodes, edges };
  const finalPositions = newNodes.reduce((obj, next) => {
    obj[next.id] = next.position;
    return obj;
  }, {});
  const hasOldPositions = nodes.find((n) => n.position);
  if (hasOldPositions && duration) {
    await animate(model2, newModel, update, flow, duration);
  } else {
    update(newModel);
  }
  return finalPositions;
};
var layout_default = calculateLayout;
var animate = (from, to, setModel, flowInstance, duration = 500) => {
  return new Promise((resolve) => {
    const transitions = to.nodes.map((node) => {
      let animateFrom = from.nodes.find(({ id: id2 }) => id2 === node.id);
      if (!animateFrom || !animateFrom.position) {
        const edge = from.edges.find(({ target }) => target === node.id);
        animateFrom = from.nodes.find(({ id: id2 }) => id2 === edge.source);
      }
      return {
        id: node.id,
        from: animateFrom.position || { x: 0, y: 0 },
        to: node.position,
        node
      };
    });
    let isFirst = true;
    const t = timer((elapsed) => {
      const s = elapsed / duration;
      const currNodes = transitions.map(({ node, from: from2, to: to2 }) => ({
        ...node,
        position: {
          // simple linear interpolation
          x: from2.x + (to2.x - from2.x) * s,
          y: from2.y + (to2.y - from2.y) * s
        }
      }));
      setModel({ edges: to.edges, nodes: currNodes });
      if (isFirst) {
        const bounds = getRectOfNodes(to.nodes);
        flowInstance.fitBounds(bounds, { duration, padding: FIT_PADDING });
        isFirst = false;
      }
      if (elapsed > duration) {
        const finalNodes = transitions.map(({ node, to: to2 }) => ({
          ...node,
          position: {
            x: to2.x,
            y: to2.y
          }
        }));
        setModel({ edges: to.edges, nodes: finalNodes });
        t.stop();
        resolve();
      }
    });
  });
};

// js/workflow-diagram/nodes/Trigger.tsx
var import_react7 = __toESM(require_react());

// js/workflow-diagram/components/trigger-icons.tsx
var import_react4 = __toESM(require_react());
var lockClosedIcon = /* @__PURE__ */ import_react4.default.createElement("svg", { width: "38", height: "38", viewBox: "0 0 38 38", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, /* @__PURE__ */ import_react4.default.createElement("g", { filter: "url(#filter0_dd_365_7433)" }, /* @__PURE__ */ import_react4.default.createElement("circle", { cx: "19", cy: "15", r: "14", fill: "white" }), /* @__PURE__ */ import_react4.default.createElement("circle", { cx: "19", cy: "15", r: "13.5", stroke: "white" })), /* @__PURE__ */ import_react4.default.createElement("circle", { cx: "19", cy: "15", r: "10.5", fill: "white", stroke: "#71757E" }), /* @__PURE__ */ import_react4.default.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M19.2858 9.6875C17.767 9.6875 16.5358 10.7648 16.5358 12.0938V13.4688C15.6679 13.4688 14.9644 14.0844 14.9644 14.8438V17.9375C14.9644 18.6969 15.6679 19.3125 16.5358 19.3125H22.0358C22.9037 19.3125 23.6072 18.6969 23.6072 17.9375V14.8438C23.6072 14.0844 22.9037 13.4688 22.0358 13.4688V12.0938C22.0358 10.7648 20.8046 9.6875 19.2858 9.6875ZM21.2501 13.4688V12.0938C21.2501 11.1445 20.3706 10.375 19.2858 10.375C18.2009 10.375 17.3215 11.1445 17.3215 12.0938V13.4688H21.2501Z", fill: "#71757E" }), /* @__PURE__ */ import_react4.default.createElement("defs", null, /* @__PURE__ */ import_react4.default.createElement("filter", { id: "filter0_dd_365_7433", x: "0", y: "0", width: "38", height: "38", filterUnits: "userSpaceOnUse", colorInterpolationFilters: "sRGB" }, /* @__PURE__ */ import_react4.default.createElement("feFlood", { floodOpacity: "0", result: "BackgroundImageFix" }), /* @__PURE__ */ import_react4.default.createElement("feColorMatrix", { in: "SourceAlpha", type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0", result: "hardAlpha" }), /* @__PURE__ */ import_react4.default.createElement("feMorphology", { radius: "1", operator: "erode", in: "SourceAlpha", result: "effect1_dropShadow_365_7433" }), /* @__PURE__ */ import_react4.default.createElement("feOffset", { dy: "4" }), /* @__PURE__ */ import_react4.default.createElement("feGaussianBlur", { stdDeviation: "3" }), /* @__PURE__ */ import_react4.default.createElement("feComposite", { in2: "hardAlpha", operator: "out" }), /* @__PURE__ */ import_react4.default.createElement("feColorMatrix", { type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" }), /* @__PURE__ */ import_react4.default.createElement("feBlend", { mode: "normal", in2: "BackgroundImageFix", result: "effect1_dropShadow_365_7433" }), /* @__PURE__ */ import_react4.default.createElement("feColorMatrix", { in: "SourceAlpha", type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0", result: "hardAlpha" }), /* @__PURE__ */ import_react4.default.createElement("feMorphology", { radius: "1", operator: "erode", in: "SourceAlpha", result: "effect2_dropShadow_365_7433" }), /* @__PURE__ */ import_react4.default.createElement("feOffset", { dy: "2" }), /* @__PURE__ */ import_react4.default.createElement("feGaussianBlur", { stdDeviation: "2" }), /* @__PURE__ */ import_react4.default.createElement("feComposite", { in2: "hardAlpha", operator: "out" }), /* @__PURE__ */ import_react4.default.createElement("feColorMatrix", { type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0" }), /* @__PURE__ */ import_react4.default.createElement("feBlend", { mode: "normal", in2: "effect1_dropShadow_365_7433", result: "effect2_dropShadow_365_7433" }), /* @__PURE__ */ import_react4.default.createElement("feBlend", { mode: "normal", in: "SourceGraphic", in2: "effect2_dropShadow_365_7433", result: "shape" }))));

// js/workflow-diagram/nodes/Trigger.tsx
var import_cronstrue = __toESM(require_cronstrue());

// js/workflow-diagram/nodes/Node.tsx
var import_react6 = __toESM(require_react());

// js/workflow-diagram/components/Shape.tsx
var import_react5 = __toESM(require_react());
var Circle = ({ width, height, styles, strokeWidth }) => /* @__PURE__ */ import_react5.default.createElement(
  "ellipse",
  {
    cx: strokeWidth + width / 2,
    cy: strokeWidth + height / 2,
    rx: width / 2,
    ry: height / 2,
    strokeWidth,
    ...styles
  }
);
var Rect = ({ width, height, styles, strokeWidth }) => /* @__PURE__ */ import_react5.default.createElement(
  "rect",
  {
    x: strokeWidth,
    y: strokeWidth,
    rx: 16,
    width,
    height,
    strokeWidth,
    ...styles
  }
);
var Shape = ({ shape, width, height, strokeWidth, styles }) => {
  if (shape === "circle") {
    return /* @__PURE__ */ import_react5.default.createElement(
      Circle,
      {
        width,
        height,
        styles,
        strokeWidth
      }
    );
  } else {
    return /* @__PURE__ */ import_react5.default.createElement(
      Rect,
      {
        width,
        height,
        styles,
        strokeWidth
      }
    );
  }
};
var Shape_default = Shape;

// js/workflow-diagram/styles.ts
var EDGE_COLOR = "#b1b1b7";
var EDGE_COLOR_DISABLED = "#E1E1E1";
var EDGE_COLOR_SELECTED = "#4f46e5";
var EDGE_COLOR_SELECTED_DISABLED = "#bdbaf3";
var ERROR_COLOR = "#ef4444";
var labelStyles = (selected, data) => {
  const { condition_type, enabled } = data;
  const primaryColor = (selected2, enabled2) => {
    if (enabled2)
      return selected2 ? EDGE_COLOR_SELECTED : EDGE_COLOR;
    return selected2 ? EDGE_COLOR_SELECTED_DISABLED : EDGE_COLOR_DISABLED;
  };
  const backgroundColor = enabled ? "white" : "#F6F6F6";
  if (condition_type === "js_expression") {
    return {
      padding: "0 4px",
      height: "32px",
      border: `solid 2px ${primaryColor(selected, enabled)}`,
      borderRadius: 4,
      display: "inline-block",
      fontSize: 14,
      lineHeight: "26px",
      textAlign: "center",
      fontWeight: 500,
      color: primaryColor(selected, enabled),
      backgroundColor
    };
  } else {
    return {
      width: "32px",
      height: "32px",
      border: `solid 2px ${primaryColor(selected, enabled)}`,
      borderRadius: 16,
      fontSize: 18,
      textAlign: "center",
      fontWeight: 700,
      color: primaryColor(selected, enabled),
      backgroundColor
    };
  }
};
var styleItem = (item) => {
  let edge = item;
  if (edge.target && edge.source) {
    return styleEdge(edge);
  }
  return styleNode(item);
};
var styleNode = (node) => {
  const { data } = node;
  if (data?.enabled == false) {
    node.style = {
      opacity: 0.5
    };
  }
  return node;
};
var styleEdge = (edge) => {
  edge.style = {
    strokeWidth: "2",
    stroke: edge.selected ? EDGE_COLOR_SELECTED : EDGE_COLOR
  };
  if (edge.data?.placeholder) {
    edge.style.strokeDasharray = "4, 4";
    edge.style.strokeWidth = "1.5px";
  }
  if (!edge.data?.enabled) {
    edge.style.strokeDasharray = "4, 4";
    edge.style.strokeWidth = "1.5px";
    edge.style.opacity = 0.5;
  }
  if (edge.markerEnd) {
    edge.markerEnd = {
      ...edge.markerEnd,
      width: 15,
      color: edge.selected ? EDGE_COLOR_SELECTED : EDGE_COLOR
    };
  }
  return edge;
};
var nodeIconStyles = (selected, hasErrors2) => {
  const size = 100;
  const primaryColor = selected ? EDGE_COLOR_SELECTED : EDGE_COLOR;
  return {
    width: size,
    height: size,
    anchorx: size / 2,
    strokeWidth: 2,
    style: {
      stroke: hasErrors2 ? ERROR_COLOR : primaryColor,
      fill: "white"
    }
  };
};
var nodeLabelStyles = (selected) => {
  const primaryColor = selected ? EDGE_COLOR_SELECTED : EDGE_COLOR;
  return {
    color: primaryColor,
    display: "flex",
    alignItems: "center",
    justifyContent: "center"
  };
};
var sortOrderForSvg = (a, b) => {
  if (a.data.enabled > b.data.enabled) {
    return 1;
  }
  if (a.data.enabled < b.data.enabled) {
    return -1;
  }
  return a.selected - b.selected;
};

// js/workflow-diagram/nodes/Node.tsx
function errorsMessage(errors) {
  const messages = Object.entries(errors).map(([key, errorArray]) => {
    return `${key} ${errorArray.join(", ")}`;
  });
  return messages.join(", ");
}
var hasErrors = (errors) => {
  if (!errors)
    return false;
  return Object.values(errors).some((errorArray) => errorArray.length > 0);
};
var Label = ({ children: children2, hasErrors: hasErrors2 = false }) => {
  const textColorClass = hasErrors2 ? "text-red-500" : "";
  if (children2 && children2.length) {
    return /* @__PURE__ */ import_react6.default.createElement(
      "p",
      {
        className: `line-clamp-2 align-left text-m max-w-[275px] text-ellipsis overflow-hidden ${textColorClass}`
      },
      children2
    );
  }
  return null;
};
var ErrorMessage = ({ message }) => {
  if (message && message.length) {
    return /* @__PURE__ */ import_react6.default.createElement("p", { className: "line-clamp-2 align-left text-xs text-red-500 flex items-center" }, /* @__PURE__ */ import_react6.default.createElement(ExclamationCircleIcon_default, { className: "mr-1 w-5" }), message);
  }
  return null;
};
var SubLabel = ({ children: children2 }) => {
  if (children2 && children2.length) {
    return /* @__PURE__ */ import_react6.default.createElement("p", { className: "line-clamp-2 align-left text-sm text-slate-500" }, children2);
  }
  return null;
};
var Node3 = ({
  // standard  react flow stuff
  isConnectable,
  selected,
  targetPosition,
  sourcePosition,
  // custom stuff
  toolbar,
  shape,
  label,
  // main label which appears to the right
  sublabel,
  // A smaller label to the right
  primaryIcon,
  // displayed inside the SVG shape
  secondaryIcon,
  errors
}) => {
  const { width, height, anchorx, strokeWidth, style: style2 } = nodeIconStyles(
    selected,
    hasErrors(errors)
  );
  return /* @__PURE__ */ import_react6.default.createElement("div", { className: "group" }, /* @__PURE__ */ import_react6.default.createElement("div", { className: "flex flex-row cursor-pointer" }, /* @__PURE__ */ import_react6.default.createElement("div", null, targetPosition && /* @__PURE__ */ import_react6.default.createElement(
    Handle$1,
    {
      type: "target",
      isConnectable,
      position: targetPosition,
      style: {
        visibility: "hidden",
        height: 0,
        top: 0,
        left: strokeWidth + anchorx
      }
    }
  ), /* @__PURE__ */ import_react6.default.createElement("svg", { style: { maxWidth: "110px", maxHeight: "110px" } }, /* @__PURE__ */ import_react6.default.createElement(
    Shape_default,
    {
      shape,
      width,
      height,
      strokeWidth,
      styles: style2
    }
  )), primaryIcon && /* @__PURE__ */ import_react6.default.createElement(
    "div",
    {
      style: {
        position: "absolute",
        // Position is half of the difference of the actual width, offset for stroke
        left: 0.175 * width + strokeWidth,
        top: 0.175 * height + strokeWidth,
        height: `${0.65 * height}px`,
        width: `${0.65 * width}px`,
        ...nodeLabelStyles(selected)
      }
    },
    typeof primaryIcon === "string" ? /* @__PURE__ */ import_react6.default.createElement(
      "div",
      {
        className: "font-bold",
        style: {
          overflow: "hidden",
          textOverflow: "ellipsis",
          whiteSpace: "nowrap"
        }
      },
      primaryIcon
    ) : primaryIcon
  ), secondaryIcon && /* @__PURE__ */ import_react6.default.createElement(
    "div",
    {
      style: {
        position: "absolute",
        left: "2%",
        // You can adjust these values for precise positioning
        top: "2%",
        height: `${0.3 * height}px`,
        // Adjusting size for secondary icon
        width: `${0.3 * width}px`,
        ...nodeLabelStyles(selected)
      }
    },
    typeof secondaryIcon === "string" ? /* @__PURE__ */ import_react6.default.createElement(
      "div",
      {
        className: "font-bold",
        style: {
          overflow: "hidden",
          textOverflow: "ellipsis",
          whiteSpace: "nowrap"
        }
      },
      secondaryIcon
    ) : secondaryIcon
  )), sourcePosition && /* @__PURE__ */ import_react6.default.createElement(
    Handle$1,
    {
      type: "source",
      isConnectable,
      position: sourcePosition,
      style: {
        visibility: "hidden",
        height: 0,
        top: height,
        left: strokeWidth + anchorx
      }
    }
  ), /* @__PURE__ */ import_react6.default.createElement("div", { className: "flex flex-col flex-1 justify-center ml-2" }, /* @__PURE__ */ import_react6.default.createElement(Label, { hasErrors: hasErrors(errors) }, label), hasErrors(errors) && /* @__PURE__ */ import_react6.default.createElement(
    ErrorMessage,
    {
      message: errorsMessage(errors) || "An error occurred"
    }
  ), /* @__PURE__ */ import_react6.default.createElement(SubLabel, null, sublabel))), toolbar && /* @__PURE__ */ import_react6.default.createElement(
    "div",
    {
      style: {
        width: `${width}px`,
        marginLeft: "2px",
        marginTop: "-14px"
      },
      className: "flex flex-col items-center\n                    opacity-0  group-hover:opacity-100\n                    transition duration-150 ease-in-out"
    },
    toolbar()
  ));
};
Node3.displayName = "Node";
var Node_default = (0, import_react6.memo)(Node3);

// js/workflow-diagram/nodes/Trigger.tsx
var TriggerNode = ({
  sourcePosition = Position.Bottom,
  ...props
}) => {
  const { label, sublabel, tooltip, primaryIcon, secondaryIcon } = getTriggerMeta(
    props.data
  );
  return /* @__PURE__ */ import_react7.default.createElement(
    Node_default,
    {
      ...props,
      shape: "circle",
      label,
      sublabel,
      tooltip,
      primaryIcon,
      secondaryIcon,
      sourcePosition,
      interactive: props.data.trigger.type === "webhook",
      toolbar: false
    }
  );
};
TriggerNode.displayName = "TriggerWorkflowNode";
var Trigger_default = (0, import_react7.memo)(TriggerNode);
function getTriggerMeta(trigger) {
  switch (trigger.type) {
    case "webhook":
      return {
        label: "Webhook trigger",
        sublabel: `On each request received`,
        tooltip: "Click to copy webhook URL",
        primaryIcon: /* @__PURE__ */ import_react7.default.createElement(GlobeAltIcon_default, null),
        secondaryIcon: trigger.has_auth_method ? lockClosedIcon : null
      };
    case "cron":
      try {
        return {
          label: "Cron trigger",
          sublabel: import_cronstrue.default.toString(trigger.cron_expression),
          primaryIcon: /* @__PURE__ */ import_react7.default.createElement(ClockIcon_default, null),
          secondaryIcon: null
        };
      } catch (_error) {
      }
  }
  return { label: "", sublabel: "" };
}

// js/workflow-diagram/nodes/Job.tsx
var import_react10 = __toESM(require_react());

// js/workflow-diagram/components/PlusButton.tsx
var import_react8 = __toESM(require_react());
function PlusButton() {
  return /* @__PURE__ */ import_react8.default.createElement(
    "button",
    {
      name: "add-node",
      className: "transition duration-150 ease-in-out pointer-events-auto rounded-full\n               bg-indigo-600 py-1 px-4 text-[0.8125rem] font-semibold leading-5 text-white hover:bg-indigo-500"
    },
    /* @__PURE__ */ import_react8.default.createElement(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 24 24",
        fill: "currentColor",
        className: "w-4 h-4"
      },
      /* @__PURE__ */ import_react8.default.createElement(
        "path",
        {
          fillRule: "evenodd",
          d: "M12 5.25a.75.75 0 01.75.75v5.25H18a.75.75 0 010 1.5h-5.25V18a.75.75 0 01-1.5 0v-5.25H6a.75.75 0 010-1.5h5.25V6a.75.75 0 01.75-.75z",
          clipRule: "evenodd"
        }
      )
    )
  );
}
var PlusButton_default = PlusButton;

// js/workflow-diagram/util/get-adaptor-name.ts
var get_adaptor_name_default = (specifier) => {
  if (specifier) {
    const [prefix, name] = specifier.match(/@openfn.language-(.+)@/);
    return name || "unknown";
  }
  return "";
};

// js/workflow-diagram/useAdaptorIcons.ts
var import_react9 = __toESM(require_react());
var deffered;
var useAdaptorIcons = () => {
  const [data, setData] = (0, import_react9.useState)({});
  (0, import_react9.useEffect)(() => {
    if (!deffered) {
      deffered = fetch("/images/adaptors/adaptor_icons.json").then((response) => response.json()).catch((err) => {
        console.error("Error fetching Adaptor Icons manifest:", err);
      });
    }
    deffered.then((d) => {
      setData(d);
    });
  }, []);
  return data;
};
var useAdaptorIcons_default = useAdaptorIcons;

// js/workflow-diagram/nodes/Job.tsx
var JobNode = ({
  targetPosition = Position.Top,
  sourcePosition = Position.Bottom,
  ...props
}) => {
  const toolbar = () => props.data?.allowPlaceholder && /* @__PURE__ */ import_react10.default.createElement(PlusButton_default, null);
  const adaptorIconsData = useAdaptorIcons_default();
  const adaptor = get_adaptor_name_default(props.data?.adaptor);
  const icon = getAdaptorIcon(adaptor, adaptorIconsData);
  return /* @__PURE__ */ import_react10.default.createElement(
    Node_default,
    {
      ...props,
      label: props.data?.name,
      primaryIcon: icon,
      sublabel: adaptor,
      targetPosition,
      sourcePosition,
      allowSource: true,
      toolbar,
      errors: props.data?.errors
    }
  );
};
JobNode.displayName = "JobNode";
function getAdaptorIcon(adaptor, adaptorIconsData) {
  try {
    if (adaptorIconsData && adaptor in adaptorIconsData && adaptorIconsData[adaptor]?.square) {
      const srcPath = adaptorIconsData[adaptor].square;
      return /* @__PURE__ */ import_react10.default.createElement("img", { src: srcPath, alt: adaptor });
    } else {
      return adaptor;
    }
  } catch (e) {
    return adaptor;
  }
}
var Job_default = (0, import_react10.memo)(JobNode);

// js/workflow-diagram/nodes/PlaceholderJob.tsx
var import_react11 = __toESM(require_react());
var iconBaseStyle = "mx-1";
var iconNormalStyle = iconBaseStyle + " text-primary-500 hover:text-primary-900";
var iconErrorStyle = iconBaseStyle + " text-red-500 hover:text-red-600";
var dispatch2 = (el, eventName, data) => {
  const e = new CustomEvent(eventName, {
    bubbles: true,
    detail: data
  });
  el.dispatchEvent(e);
};
var PlaceholderJobNode = ({ id: id2, selected }) => {
  const textRef = (0, import_react11.useRef)();
  const [validationResult, setValidationResult] = (0, import_react11.useState)({
    isValid: true,
    message: ""
  });
  const handleKeyDown = (evt) => {
    if (evt.code === "Escape") {
      handleCancel();
      return;
    }
    if (evt.target.value.trim() === "") {
      setValidationResult({
        isValid: false,
        message: "Name cannot be empty."
      });
      return;
    }
    if (evt.code === "Enter") {
      validationResult.isValid && handleCommit();
    }
  };
  const handleChange = (evt) => {
    setValidationResult(validateName(evt.target.value));
  };
  const validateName = (name) => {
    if (name.length > 100) {
      return {
        isValid: false,
        message: "Name should not exceed 100 characters."
      };
    }
    const regex = /^[a-zA-Z0-9_\- ]*$/;
    if (!regex.test(name)) {
      return {
        isValid: false,
        message: "Name can only contain alphanumeric characters, underscores, dashes, and spaces."
      };
    }
    return {
      isValid: true,
      message: "Valid name."
    };
  };
  const handleCommit = (0, import_react11.useCallback)(
    (evt) => {
      if (textRef.current) {
        dispatch2(textRef.current, "commit-placeholder", {
          id: id2,
          name: textRef.current.value
        });
      }
      evt?.stopPropagation();
    },
    [textRef]
  );
  const handleCancel = (0, import_react11.useCallback)(
    (evt) => {
      if (textRef.current) {
        dispatch2(textRef.current, "cancel-placeholder", { id: id2 });
      }
      evt?.stopPropagation();
    },
    [textRef]
  );
  return /* @__PURE__ */ import_react11.default.createElement(
    "div",
    {
      className: [
        "bg-transparent",
        "cursor-pointer",
        "h-full",
        "p-1",
        "rounded-md",
        "shadow-sm",
        "text-center",
        "text-xs",
        "border-dashed",
        "border-2",
        validationResult.isValid ? "border-indigo-500" : "border-red-500 text-red-500",
        selected ? "border-opacity-70" : "border-opacity-30"
      ].join(" "),
      style: {
        width: `${NODE_WIDTH}px`,
        height: `${NODE_HEIGHT}px`,
        // TODO for now, just curdely align this placeholder so that it sits in the right position
        // We'll later change the placeholder to look more consistent
        // (or otherwise come back and do this nicely)
        marginLeft: "-35px"
        // magic number
      }
    },
    /* @__PURE__ */ import_react11.default.createElement(
      Handle$1,
      {
        type: "target",
        position: Position.Top,
        isConnectable: true,
        style: {
          visibility: "hidden",
          border: "none",
          height: 0,
          left: "52px"
          // half node width + stroke
        }
      }
    ),
    /* @__PURE__ */ import_react11.default.createElement(
      "div",
      {
        className: ["h-full", "text-center", "items-center"].filter(Boolean).join(" ")
      },
      /* @__PURE__ */ import_react11.default.createElement(
        "div",
        {
          className: [
            "flex",
            "flex-row",
            "justify-center",
            "h-full",
            "text-center"
          ].filter(Boolean).join(" ")
        },
        /* @__PURE__ */ import_react11.default.createElement(
          XMarkIcon_default,
          {
            className: validationResult.isValid ? `${iconNormalStyle}` : `${iconErrorStyle}`,
            title: "Cancel creation of this job",
            onClick: handleCancel
          }
        ),
        /* @__PURE__ */ import_react11.default.createElement(
          "input",
          {
            type: "text",
            ref: textRef,
            autoFocus: true,
            "data-placeholder": id2,
            className: [
              "line-clamp-2",
              "align-middle",
              "focus:outline-none",
              "focus:ring-0",
              "border-none",
              "bg-transparent",
              "text-center",
              "text-xs"
            ].join(" "),
            onKeyDown: handleKeyDown,
            onChange: handleChange
          }
        ),
        validationResult.isValid ? /* @__PURE__ */ import_react11.default.createElement(
          CheckCircleIcon_default,
          {
            className: iconNormalStyle,
            title: "Create this job",
            onClick: handleCommit
          }
        ) : /* @__PURE__ */ import_react11.default.createElement(
          InformationCircleIcon_default,
          {
            className: iconErrorStyle,
            title: validationResult.message
          }
        )
      )
    )
  );
};
PlaceholderJobNode.displayName = "PlaceholderJobNode";
var PlaceholderJob_default = (0, import_react11.memo)(PlaceholderJobNode);

// js/workflow-diagram/nodes/index.ts
var nodes_default2 = {
  job: Job_default,
  trigger: Trigger_default,
  placeholder: PlaceholderJob_default
};

// js/workflow-diagram/edges/Edge.tsx
var import_react12 = __toESM(require_react());
var CustomEdge = (props) => {
  const { sourceX, sourceY, targetX, targetY, selected } = props;
  const { label, ...stepEdgeProps } = props;
  const labelX = (sourceX + targetX) / 2;
  const labelY = (sourceY + targetY) / 2;
  return /* @__PURE__ */ import_react12.default.createElement(import_react12.default.Fragment, null, /* @__PURE__ */ import_react12.default.createElement(SmoothStepEdge, { ...stepEdgeProps }), label && /* @__PURE__ */ import_react12.default.createElement(EdgeLabelRenderer, null, /* @__PURE__ */ import_react12.default.createElement(
    "div",
    {
      style: {
        position: "absolute",
        transform: `translate(-50%, -50%) translate(${labelX}px,${labelY}px)`,
        background: "white",
        pointerEvents: "all",
        ...labelStyles(selected, stepEdgeProps.data)
      },
      className: "nodrag nopan cursor-pointer"
    },
    label
  )));
};
var Edge_default = CustomEdge;

// js/workflow-diagram/edges/index.ts
var edges_default = {
  step: Edge_default
};

// js/workflow-diagram/usePlaceholders.ts
var import_react13 = __toESM(require_react());

// js/workflow-diagram/util/to-workflow.ts
var model = (model2) => {
  const workflow = {
    // What about the id? Do we need it? Did we lose it?
    triggers: [],
    jobs: [],
    edges: []
  };
  model2.nodes.forEach((node) => {
    const wfNode = {
      id: node.id,
      name: node.data?.name,
      body: node.data?.body,
      adaptor: node.data?.adaptor
      // TODO workflow id?
    };
    if (node.type === "trigger") {
      workflow.triggers.push(wfNode);
    } else {
      workflow.jobs.push(wfNode);
    }
  });
  model2.edges.forEach((edge) => {
    const source = model2.nodes.find(({ id: id2 }) => id2 === edge.source);
    const wfEdge = {
      id: edge.id,
      target_job_id: edge.target
    };
    if (source && source.type === "trigger") {
      wfEdge.source_trigger_id = edge.source;
    } else {
      wfEdge.source_job_id = edge.source;
    }
    if (edge.data?.condition_type) {
      wfEdge.condition_type = edge.data.condition_type;
    }
    workflow.edges.push(wfEdge);
  });
  return workflow;
};
var to_workflow_default = model;

// js/workflow-diagram/usePlaceholders.ts
var create2 = (parentNode) => {
  const newModel = {
    nodes: [],
    edges: []
  };
  const targetId = crypto.randomUUID();
  newModel.nodes.push({
    id: targetId,
    type: "placeholder",
    position: {
      // Offset the position of the placeholder to be more pleasing during animation
      x: parentNode.position.x,
      y: parentNode.position.y + 100
    },
    data: {
      body: DEFAULT_TEXT,
      adaptor: "@openfn/language-common@latest"
    }
  });
  newModel.edges.push(
    styleEdge({
      id: crypto.randomUUID(),
      type: "step",
      source: parentNode.id,
      target: targetId,
      data: { condition_type: "on_job_success", placeholder: true }
    })
  );
  return newModel;
};
var usePlaceholders_default = (ref, store, requestSelectionChange) => {
  const [placeholders, setPlaceholders] = (0, import_react13.useState)({
    nodes: [],
    edges: []
  });
  const addToStore = useStore(store, (state) => state.add);
  const add = (0, import_react13.useCallback)((parentNode) => {
    const updated = create2(parentNode);
    setPlaceholders(updated);
    requestSelectionChange(updated.nodes[0].id);
  }, []);
  const commit = (0, import_react13.useCallback)(
    (evt) => {
      const { id: id2, name } = evt.detail;
      setPlaceholders({ nodes: [], edges: [] });
      placeholders.nodes[0].data.name = name;
      addToStore(to_workflow_default(placeholders));
      requestSelectionChange(id2);
    },
    [addToStore, placeholders]
  );
  const cancel = (0, import_react13.useCallback)((_evt) => {
    setPlaceholders({ nodes: [], edges: [] });
  }, []);
  (0, import_react13.useEffect)(() => {
    if (ref) {
      ref.addEventListener("commit-placeholder", commit);
      ref.addEventListener("cancel-placeholder", cancel);
      return () => {
        if (ref) {
          ref.removeEventListener("commit-placeholder", commit);
          ref.removeEventListener("cancel-placeholder", cancel);
        }
      };
    }
  }, [commit, cancel, ref]);
  return { placeholders, add, cancel };
};

// js/workflow-diagram/util/from-workflow.ts
function getEdgeLabel(edge) {
  let label = "( )";
  switch (edge.condition_type) {
    case "on_job_success":
      label = "\u2713";
      break;
    case "on_job_failure":
      label = "X";
      break;
    case "always":
      label = "\u221E";
      break;
    case "js_expression":
      const condition_label = edge.condition_label;
      if (condition_label) {
        if (condition_label.length > 16) {
          label = condition_label.slice(0, 16) + "...";
        } else {
          label = condition_label;
        }
      }
      break;
  }
  return label;
}
var fromWorkflow = (workflow, positions, placeholders = { nodes: [], edges: [] }, selectedId) => {
  const allowPlaceholder = placeholders.nodes.length === 0;
  const process2 = (items, collection, type) => {
    items.forEach((item) => {
      const model2 = {
        id: item.id,
        data: {
          ...item
        }
      };
      if (item.id === selectedId) {
        model2.selected = true;
      } else {
        model2.selected = false;
      }
      if (/(job|trigger)/.test(type)) {
        const node = item;
        model2.type = type;
        if (positions && positions[node.id]) {
          model2.position = positions[node.id];
        }
        model2.data.allowPlaceholder = allowPlaceholder;
        if (type === "trigger") {
          model2.data.trigger = {
            type: node.type,
            enabled: node.enabled
          };
        }
        styleNode(model2);
      } else {
        const edge = item;
        model2.source = edge.source_trigger_id || edge.source_job_id;
        model2.target = edge.target_job_id;
        model2.type = "step";
        model2.label = getEdgeLabel(edge);
        model2.markerEnd = {
          type: "arrowclosed",
          width: 32,
          height: 32
        };
        model2.data = { condition_type: edge.condition_type, enabled: edge.enabled };
        const source = nodes.find((x) => x.id == model2.source);
        if (source.type == "trigger") {
          model2.data.enabled = source?.data.enabled;
        }
        styleEdge(model2);
      }
      collection.push(model2);
    });
  };
  const nodes = [
    ...placeholders.nodes.map((n) => {
      if (selectedId == n.id) {
        n.selected = true;
      }
      return styleNode(n);
    })
  ];
  const edges = [...placeholders.edges.map((e) => styleEdge(e))];
  process2(workflow.jobs, nodes, "job");
  process2(workflow.triggers, nodes, "trigger");
  process2(workflow.edges, edges, "edge");
  const sortedEdges = edges.sort(sortOrderForSvg);
  return { nodes, edges: sortedEdges };
};
var from_workflow_default = fromWorkflow;

// js/workflow-diagram/util/throttle.ts
var throttle_default = (fn, duration = 100) => {
  let callAgain = false;
  let timeout2;
  const run = () => {
    if (timeout2) {
      callAgain = true;
    } else {
      callAgain = false;
      timeout2 = setTimeout(() => {
        timeout2 = void 0;
        if (callAgain) {
          run();
        }
      }, duration);
      fn();
    }
  };
  run.cancel = () => {
    clearTimeout(timeout2);
  };
  return run;
};

// js/workflow-diagram/util/update-selection.ts
var update_selection_default = (model2, newSelection) => {
  const updatedModel = {
    nodes: model2.nodes.map(updateItem),
    edges: model2.edges.map(updateItem)
  };
  function updateItem(item) {
    return styleItem({
      ...item,
      selected: item.id === newSelection
    });
    return item;
  }
  const sortedModel = {
    ...updatedModel,
    edges: updatedModel.edges.sort(sortOrderForSvg)
  };
  return sortedModel;
};

// js/workflow-diagram/util/should-layout.ts
var should_layout_default = (edges, lastHash) => {
  const id2 = edges.map((e) => `${e.source}-${e.target}`).sort().join("--");
  if (id2 !== lastHash) {
    return id2;
  }
};

// js/workflow-diagram/WorkflowDiagram.tsx
var WorkflowDiagram_default = import_react14.default.forwardRef(
  (props, ref) => {
    const { selection: selection2, onSelectionChange, store } = props;
    const [model2, setModel] = (0, import_react14.useState)({ nodes: [], edges: [] });
    const updateSelection = (0, import_react14.useCallback)(
      (id2) => {
        id2 = id2 || null;
        chartCache.current.lastSelection = id2;
        onSelectionChange(id2);
      },
      [onSelectionChange, selection2]
    );
    const {
      placeholders,
      add: addPlaceholder,
      cancel: cancelPlaceholder
    } = usePlaceholders_default(ref, store, updateSelection);
    const workflow = useStore(
      store,
      (state) => ({
        jobs: state.jobs,
        triggers: state.triggers,
        edges: state.edges
      }),
      shallow$1
    );
    const chartCache = (0, import_react14.useRef)({
      positions: {},
      // This will set the initial selection into the cache
      lastSelection: selection2,
      lastLayout: void 0
    });
    const [flow, setFlow] = (0, import_react14.useState)();
    (0, import_react14.useEffect)(() => {
      const { positions } = chartCache.current;
      const newModel = from_workflow_default(
        workflow,
        positions,
        placeholders,
        // Re-render the model based on whatever was last selected
        // This handles first load and new node safely
        chartCache.current.lastSelection
      );
      if (flow && newModel.nodes.length) {
        const layoutId = should_layout_default(
          newModel.edges,
          chartCache.current.lastLayout
        );
        if (layoutId) {
          chartCache.current.lastLayout = layoutId;
          layout_default(newModel, setModel, flow, 300).then((positions2) => {
            chartCache.current.positions = positions2;
          });
        } else {
          newModel.nodes.forEach((n) => {
            if (!n.position) {
              n.position = { x: 0, y: 0 };
            }
          });
          setModel(newModel);
        }
      } else {
        chartCache.current.positions = {};
      }
    }, [workflow, flow, placeholders]);
    (0, import_react14.useEffect)(() => {
      const updatedModel = update_selection_default(model2, selection2);
      setModel(updatedModel);
    }, [selection2]);
    const onNodesChange = (0, import_react14.useCallback)(
      (changes) => {
        const newNodes = applyNodeChanges(changes, model2.nodes);
        setModel({ nodes: newNodes, edges: model2.edges });
      },
      [setModel, model2]
    );
    const handleNodeClick2 = (0, import_react14.useCallback)(
      (event, node) => {
        if (event.target.closest("[name=add-node]")) {
          addPlaceholder(node);
        } else {
          if (node.type != "placeholder")
            cancelPlaceholder();
          updateSelection(node.id);
        }
      },
      [updateSelection]
    );
    const handleEdgeClick = (0, import_react14.useCallback)(
      (_event, edge) => {
        cancelPlaceholder();
        updateSelection(edge.id);
      },
      [updateSelection]
    );
    const handleBackgroundClick = (0, import_react14.useCallback)(
      (event) => {
        if (event.target.classList?.contains("react-flow__pane")) {
          cancelPlaceholder();
          updateSelection(null);
        }
      },
      [updateSelection]
    );
    (0, import_react14.useEffect)(() => {
      if (flow && ref) {
        let isFirstCallback = true;
        const throttledResize = throttle_default(() => {
          flow.fitView({ duration: FIT_DURATION, padding: FIT_PADDING });
        }, FIT_DURATION * 2);
        const resizeOb = new ResizeObserver(function(entries) {
          if (!isFirstCallback) {
            throttledResize();
          }
          isFirstCallback = false;
        });
        resizeOb.observe(ref);
        return () => {
          throttledResize.cancel();
          resizeOb.unobserve(ref);
        };
      }
    }, [flow, ref]);
    return /* @__PURE__ */ import_react14.default.createElement(ReactFlowProvider, null, /* @__PURE__ */ import_react14.default.createElement(
      ReactFlow,
      {
        proOptions: { account: "paid-pro", hideAttribution: true },
        nodes: model2.nodes,
        edges: model2.edges,
        onNodesChange,
        nodesDraggable: false,
        nodeTypes: nodes_default2,
        edgeTypes: edges_default,
        onClick: handleBackgroundClick,
        onNodeClick: handleNodeClick2,
        onEdgeClick: handleEdgeClick,
        onInit: setFlow,
        deleteKeyCode: null,
        fitView: true,
        fitViewOptions: { padding: FIT_PADDING }
      }
    ));
  }
);

// js/workflow-editor/component.tsx
function mount(el, workflowStore, onSelectionChange) {
  const componentRoot = (0, import_client.createRoot)(el);
  const initialSelection = new URL(window.location.href).searchParams.get("s");
  render(initialSelection);
  function render(selection2) {
    componentRoot.render(
      /* @__PURE__ */ import_react15.default.createElement(
        WorkflowDiagram_default,
        {
          ref: el,
          selection: selection2 || null,
          store: workflowStore,
          onSelectionChange
        }
      )
    );
  }
  function unmount() {
    return componentRoot.unmount();
  }
  return { unmount, render };
}
export {
  mount
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9jcm9uc3RydWUvZGlzdC9jcm9uc3RydWUuanMiLCAiLi4vLi4vLi4vYXNzZXRzL2pzL3dvcmtmbG93LWVkaXRvci9jb21wb25lbnQudHN4IiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL1dvcmtmbG93RGlhZ3JhbS50c3giLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9AcmVhY3RmbG93L2NvcmUvZGlzdC9lc20vaW5kZXgubWpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvY2xhc3NjYXQvaW5kZXguanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS90cmFkaXRpb25hbC5tanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9zaGFsbG93Lm1qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWRpc3BhdGNoL3NyYy9kaXNwYXRjaC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlcy5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9jcmVhdG9yLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rvci5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NlbGVjdC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvYXJyYXkuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yQWxsLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0QWxsLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9tYXRjaGVyLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGQuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3RDaGlsZHJlbi5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2ZpbHRlci5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NwYXJzZS5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2VudGVyLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9jb25zdGFudC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdGEuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9leGl0LmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vam9pbi5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL21lcmdlLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vb3JkZXIuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zb3J0LmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2FsbC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL25vZGVzLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vbm9kZS5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NpemUuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lbXB0eS5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2VhY2guanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9hdHRyLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy93aW5kb3cuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zdHlsZS5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3Byb3BlcnR5LmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2xhc3NlZC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3RleHQuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9odG1sLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmFpc2UuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9sb3dlci5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2FwcGVuZC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2luc2VydC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3JlbW92ZS5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Nsb25lLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZGF0dW0uanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9vbi5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Rpc3BhdGNoLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vaXRlcmF0b3IuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbmRleC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0LmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zb3VyY2VFdmVudC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvcG9pbnRlci5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWRyYWcvc3JjL25vZXZlbnQuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1kcmFnL3NyYy9ub2RyYWcuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1kcmFnL3NyYy9jb25zdGFudC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWRyYWcvc3JjL2V2ZW50LmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtZHJhZy9zcmMvZHJhZy5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWNvbG9yL3NyYy9kZWZpbmUuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1jb2xvci9zcmMvY29sb3IuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvYmFzaXMuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvYmFzaXNDbG9zZWQuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29uc3RhbnQuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29sb3IuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvcmdiLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL251bWJlci5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9zdHJpbmcuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2RlY29tcG9zZS5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy90cmFuc2Zvcm0vcGFyc2UuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2luZGV4LmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3pvb20uanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZXIuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZW91dC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc2NoZWR1bGUuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9pbnRlcnJ1cHQuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vaW50ZXJydXB0LmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90d2Vlbi5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vaW50ZXJwb2xhdGUuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2F0dHIuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2F0dHJUd2Vlbi5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZGVsYXkuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2R1cmF0aW9uLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9lYXNlLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9lYXNlVmFyeWluZy5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZmlsdGVyLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9tZXJnZS5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vb24uanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3JlbW92ZS5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc2VsZWN0LmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zZWxlY3RBbGwuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdGlvbi5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGUuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3N0eWxlVHdlZW4uanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RleHQuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RleHRUd2Vlbi5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdHJhbnNpdGlvbi5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZW5kLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9pbmRleC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWVhc2Uvc3JjL2N1YmljLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL3RyYW5zaXRpb24uanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vaW5kZXguanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy16b29tL3NyYy9jb25zdGFudC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL2V2ZW50LmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtem9vbS9zcmMvdHJhbnNmb3JtLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtem9vbS9zcmMvbm9ldmVudC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL3pvb20uanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9AcmVhY3RmbG93L25vZGUtdG9vbGJhci9kaXN0L2VzbS9pbmRleC5tanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2hpZXJhcmNoeS9jb3VudC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvaGllcmFyY2h5L2VhY2guanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2hpZXJhcmNoeS9lYWNoQmVmb3JlLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvZWFjaEFmdGVyLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvZmluZC5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvaGllcmFyY2h5L3N1bS5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvaGllcmFyY2h5L3NvcnQuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2hpZXJhcmNoeS9wYXRoLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvYW5jZXN0b3JzLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvZGVzY2VuZGFudHMuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2hpZXJhcmNoeS9sZWF2ZXMuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2hpZXJhcmNoeS9saW5rcy5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvaGllcmFyY2h5L2l0ZXJhdG9yLmpzIiwgIi4uLy4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvaW5kZXguanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2FjY2Vzc29ycy5qcyIsICIuLi8uLi8uLi9hc3NldHMvbm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvc3RyYXRpZnkuanMiLCAiLi4vLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL3RyZWUuanMiLCAiLi4vLi4vLi4vYXNzZXRzL2pzL3dvcmtmbG93LWRpYWdyYW0vY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL2xheW91dC50cyIsICIuLi8uLi8uLi9hc3NldHMvanMvd29ya2Zsb3ctZGlhZ3JhbS9ub2Rlcy9UcmlnZ2VyLnRzeCIsICIuLi8uLi8uLi9hc3NldHMvanMvd29ya2Zsb3ctZGlhZ3JhbS9jb21wb25lbnRzL3RyaWdnZXItaWNvbnMudHN4IiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL25vZGVzL05vZGUudHN4IiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL2NvbXBvbmVudHMvU2hhcGUudHN4IiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL3N0eWxlcy50cyIsICIuLi8uLi8uLi9hc3NldHMvanMvd29ya2Zsb3ctZGlhZ3JhbS9ub2Rlcy9Kb2IudHN4IiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL2NvbXBvbmVudHMvUGx1c0J1dHRvbi50c3giLCAiLi4vLi4vLi4vYXNzZXRzL2pzL3dvcmtmbG93LWRpYWdyYW0vdXRpbC9nZXQtYWRhcHRvci1uYW1lLnRzIiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL3VzZUFkYXB0b3JJY29ucy50cyIsICIuLi8uLi8uLi9hc3NldHMvanMvd29ya2Zsb3ctZGlhZ3JhbS9ub2Rlcy9QbGFjZWhvbGRlckpvYi50c3giLCAiLi4vLi4vLi4vYXNzZXRzL2pzL3dvcmtmbG93LWRpYWdyYW0vbm9kZXMvaW5kZXgudHMiLCAiLi4vLi4vLi4vYXNzZXRzL2pzL3dvcmtmbG93LWRpYWdyYW0vZWRnZXMvRWRnZS50c3giLCAiLi4vLi4vLi4vYXNzZXRzL2pzL3dvcmtmbG93LWRpYWdyYW0vZWRnZXMvaW5kZXgudHMiLCAiLi4vLi4vLi4vYXNzZXRzL2pzL3dvcmtmbG93LWRpYWdyYW0vdXNlUGxhY2Vob2xkZXJzLnRzIiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL3V0aWwvdG8td29ya2Zsb3cudHMiLCAiLi4vLi4vLi4vYXNzZXRzL2pzL3dvcmtmbG93LWRpYWdyYW0vdXRpbC9mcm9tLXdvcmtmbG93LnRzIiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL3V0aWwvdGhyb3R0bGUudHMiLCAiLi4vLi4vLi4vYXNzZXRzL2pzL3dvcmtmbG93LWRpYWdyYW0vdXRpbC91cGRhdGUtc2VsZWN0aW9uLnRzIiwgIi4uLy4uLy4uL2Fzc2V0cy9qcy93b3JrZmxvdy1kaWFncmFtL3V0aWwvc2hvdWxkLWxheW91dC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJjcm9uc3RydWVcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiY3JvbnN0cnVlXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImNyb25zdHJ1ZVwiXSA9IGZhY3RvcnkoKTtcbn0pKGdsb2JhbFRoaXMsICgpID0+IHtcbnJldHVybiAvKioqKioqLyAoKCkgPT4geyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdFwidXNlIHN0cmljdFwiO1xuLyoqKioqKi8gXHR2YXIgX193ZWJwYWNrX21vZHVsZXNfXyA9ICh7XG5cbi8qKiovIDc5NDpcbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pID0+IHtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7IHZhbHVlOiB0cnVlIH0pKTtcbmV4cG9ydHMuQ3JvblBhcnNlciA9IHZvaWQgMDtcbnZhciByYW5nZVZhbGlkYXRvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODYpO1xudmFyIENyb25QYXJzZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENyb25QYXJzZXIoZXhwcmVzc2lvbiwgZGF5T2ZXZWVrU3RhcnRJbmRleFplcm8sIG1vbnRoU3RhcnRJbmRleFplcm8pIHtcbiAgICAgICAgaWYgKGRheU9mV2Vla1N0YXJ0SW5kZXhaZXJvID09PSB2b2lkIDApIHsgZGF5T2ZXZWVrU3RhcnRJbmRleFplcm8gPSB0cnVlOyB9XG4gICAgICAgIGlmIChtb250aFN0YXJ0SW5kZXhaZXJvID09PSB2b2lkIDApIHsgbW9udGhTdGFydEluZGV4WmVybyA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XG4gICAgICAgIHRoaXMuZGF5T2ZXZWVrU3RhcnRJbmRleFplcm8gPSBkYXlPZldlZWtTdGFydEluZGV4WmVybztcbiAgICAgICAgdGhpcy5tb250aFN0YXJ0SW5kZXhaZXJvID0gbW9udGhTdGFydEluZGV4WmVybztcbiAgICB9XG4gICAgQ3JvblBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSB0aGlzLmV4dHJhY3RQYXJ0cyh0aGlzLmV4cHJlc3Npb24pO1xuICAgICAgICB0aGlzLm5vcm1hbGl6ZShwYXJzZWQpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlKHBhcnNlZCk7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfTtcbiAgICBDcm9uUGFyc2VyLnByb3RvdHlwZS5leHRyYWN0UGFydHMgPSBmdW5jdGlvbiAoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAoIXRoaXMuZXhwcmVzc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwcmVzc2lvbiBpcyBlbXB0eVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyc2VkID0gZXhwcmVzc2lvbi50cmltKCkuc3BsaXQoL1sgXSsvKTtcbiAgICAgICAgaWYgKHBhcnNlZC5sZW5ndGggPCA1KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHByZXNzaW9uIGhhcyBvbmx5IFwiLmNvbmNhdChwYXJzZWQubGVuZ3RoLCBcIiBwYXJ0XCIpLmNvbmNhdChwYXJzZWQubGVuZ3RoID09IDEgPyBcIlwiIDogXCJzXCIsIFwiLiBBdCBsZWFzdCA1IHBhcnRzIGFyZSByZXF1aXJlZC5cIikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcnNlZC5sZW5ndGggPT0gNSkge1xuICAgICAgICAgICAgcGFyc2VkLnVuc2hpZnQoXCJcIik7XG4gICAgICAgICAgICBwYXJzZWQucHVzaChcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJzZWQubGVuZ3RoID09IDYpIHtcbiAgICAgICAgICAgIHZhciBpc1llYXJXaXRoTm9TZWNvbmRzUGFydCA9IC9cXGR7NH0kLy50ZXN0KHBhcnNlZFs1XSkgfHwgcGFyc2VkWzRdID09IFwiP1wiIHx8IHBhcnNlZFsyXSA9PSBcIj9cIjtcbiAgICAgICAgICAgIGlmIChpc1llYXJXaXRoTm9TZWNvbmRzUGFydCkge1xuICAgICAgICAgICAgICAgIHBhcnNlZC51bnNoaWZ0KFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkLnB1c2goXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyc2VkLmxlbmd0aCA+IDcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cHJlc3Npb24gaGFzIFwiLmNvbmNhdChwYXJzZWQubGVuZ3RoLCBcIiBwYXJ0czsgdG9vIG1hbnkhXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgIH07XG4gICAgQ3JvblBhcnNlci5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gKGV4cHJlc3Npb25QYXJ0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBleHByZXNzaW9uUGFydHNbM10gPSBleHByZXNzaW9uUGFydHNbM10ucmVwbGFjZShcIj9cIiwgXCIqXCIpO1xuICAgICAgICBleHByZXNzaW9uUGFydHNbNV0gPSBleHByZXNzaW9uUGFydHNbNV0ucmVwbGFjZShcIj9cIiwgXCIqXCIpO1xuICAgICAgICBleHByZXNzaW9uUGFydHNbMl0gPSBleHByZXNzaW9uUGFydHNbMl0ucmVwbGFjZShcIj9cIiwgXCIqXCIpO1xuICAgICAgICBpZiAoZXhwcmVzc2lvblBhcnRzWzBdLmluZGV4T2YoXCIwL1wiKSA9PSAwKSB7XG4gICAgICAgICAgICBleHByZXNzaW9uUGFydHNbMF0gPSBleHByZXNzaW9uUGFydHNbMF0ucmVwbGFjZShcIjAvXCIsIFwiKi9cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cHJlc3Npb25QYXJ0c1sxXS5pbmRleE9mKFwiMC9cIikgPT0gMCkge1xuICAgICAgICAgICAgZXhwcmVzc2lvblBhcnRzWzFdID0gZXhwcmVzc2lvblBhcnRzWzFdLnJlcGxhY2UoXCIwL1wiLCBcIiovXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHByZXNzaW9uUGFydHNbMl0uaW5kZXhPZihcIjAvXCIpID09IDApIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25QYXJ0c1syXSA9IGV4cHJlc3Npb25QYXJ0c1syXS5yZXBsYWNlKFwiMC9cIiwgXCIqL1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwcmVzc2lvblBhcnRzWzNdLmluZGV4T2YoXCIxL1wiKSA9PSAwKSB7XG4gICAgICAgICAgICBleHByZXNzaW9uUGFydHNbM10gPSBleHByZXNzaW9uUGFydHNbM10ucmVwbGFjZShcIjEvXCIsIFwiKi9cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cHJlc3Npb25QYXJ0c1s0XS5pbmRleE9mKFwiMS9cIikgPT0gMCkge1xuICAgICAgICAgICAgZXhwcmVzc2lvblBhcnRzWzRdID0gZXhwcmVzc2lvblBhcnRzWzRdLnJlcGxhY2UoXCIxL1wiLCBcIiovXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHByZXNzaW9uUGFydHNbNl0uaW5kZXhPZihcIjEvXCIpID09IDApIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25QYXJ0c1s2XSA9IGV4cHJlc3Npb25QYXJ0c1s2XS5yZXBsYWNlKFwiMS9cIiwgXCIqL1wiKTtcbiAgICAgICAgfVxuICAgICAgICBleHByZXNzaW9uUGFydHNbNV0gPSBleHByZXNzaW9uUGFydHNbNV0ucmVwbGFjZSgvKF5cXGQpfChbXiMvXFxzXVxcZCkvZywgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHZhciBkb3dEaWdpdHMgPSB0LnJlcGxhY2UoL1xcRC8sIFwiXCIpO1xuICAgICAgICAgICAgdmFyIGRvd0RpZ2l0c0FkanVzdGVkID0gZG93RGlnaXRzO1xuICAgICAgICAgICAgaWYgKF90aGlzLmRheU9mV2Vla1N0YXJ0SW5kZXhaZXJvKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvd0RpZ2l0cyA9PSBcIjdcIikge1xuICAgICAgICAgICAgICAgICAgICBkb3dEaWdpdHNBZGp1c3RlZCA9IFwiMFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvd0RpZ2l0c0FkanVzdGVkID0gKHBhcnNlSW50KGRvd0RpZ2l0cykgLSAxKS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQucmVwbGFjZShkb3dEaWdpdHMsIGRvd0RpZ2l0c0FkanVzdGVkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChleHByZXNzaW9uUGFydHNbNV0gPT0gXCJMXCIpIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25QYXJ0c1s1XSA9IFwiNlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHByZXNzaW9uUGFydHNbM10gPT0gXCI/XCIpIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25QYXJ0c1szXSA9IFwiKlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHByZXNzaW9uUGFydHNbM10uaW5kZXhPZihcIldcIikgPiAtMSAmJlxuICAgICAgICAgICAgKGV4cHJlc3Npb25QYXJ0c1szXS5pbmRleE9mKFwiLFwiKSA+IC0xIHx8IGV4cHJlc3Npb25QYXJ0c1szXS5pbmRleE9mKFwiLVwiKSA+IC0xKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlICdXJyBjaGFyYWN0ZXIgY2FuIGJlIHNwZWNpZmllZCBvbmx5IHdoZW4gdGhlIGRheS1vZi1tb250aCBpcyBhIHNpbmdsZSBkYXksIG5vdCBhIHJhbmdlIG9yIGxpc3Qgb2YgZGF5cy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRheXMgPSB7XG4gICAgICAgICAgICBTVU46IDAsXG4gICAgICAgICAgICBNT046IDEsXG4gICAgICAgICAgICBUVUU6IDIsXG4gICAgICAgICAgICBXRUQ6IDMsXG4gICAgICAgICAgICBUSFU6IDQsXG4gICAgICAgICAgICBGUkk6IDUsXG4gICAgICAgICAgICBTQVQ6IDYsXG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGRheSBpbiBkYXlzKSB7XG4gICAgICAgICAgICBleHByZXNzaW9uUGFydHNbNV0gPSBleHByZXNzaW9uUGFydHNbNV0ucmVwbGFjZShuZXcgUmVnRXhwKGRheSwgXCJnaVwiKSwgZGF5c1tkYXldLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cHJlc3Npb25QYXJ0c1s0XSA9IGV4cHJlc3Npb25QYXJ0c1s0XS5yZXBsYWNlKC8oXlxcZHsxLDJ9KXwoW14jL1xcc11cXGR7MSwyfSkvZywgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHZhciBkb3dEaWdpdHMgPSB0LnJlcGxhY2UoL1xcRC8sIFwiXCIpO1xuICAgICAgICAgICAgdmFyIGRvd0RpZ2l0c0FkanVzdGVkID0gZG93RGlnaXRzO1xuICAgICAgICAgICAgaWYgKF90aGlzLm1vbnRoU3RhcnRJbmRleFplcm8pIHtcbiAgICAgICAgICAgICAgICBkb3dEaWdpdHNBZGp1c3RlZCA9IChwYXJzZUludChkb3dEaWdpdHMpICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0LnJlcGxhY2UoZG93RGlnaXRzLCBkb3dEaWdpdHNBZGp1c3RlZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbW9udGhzID0ge1xuICAgICAgICAgICAgSkFOOiAxLFxuICAgICAgICAgICAgRkVCOiAyLFxuICAgICAgICAgICAgTUFSOiAzLFxuICAgICAgICAgICAgQVBSOiA0LFxuICAgICAgICAgICAgTUFZOiA1LFxuICAgICAgICAgICAgSlVOOiA2LFxuICAgICAgICAgICAgSlVMOiA3LFxuICAgICAgICAgICAgQVVHOiA4LFxuICAgICAgICAgICAgU0VQOiA5LFxuICAgICAgICAgICAgT0NUOiAxMCxcbiAgICAgICAgICAgIE5PVjogMTEsXG4gICAgICAgICAgICBERUM6IDEyLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBtb250aCBpbiBtb250aHMpIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25QYXJ0c1s0XSA9IGV4cHJlc3Npb25QYXJ0c1s0XS5yZXBsYWNlKG5ldyBSZWdFeHAobW9udGgsIFwiZ2lcIiksIG1vbnRoc1ttb250aF0udG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cHJlc3Npb25QYXJ0c1swXSA9PSBcIjBcIikge1xuICAgICAgICAgICAgZXhwcmVzc2lvblBhcnRzWzBdID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9cXCp8XFwtfFxcLHxcXC8vLnRlc3QoZXhwcmVzc2lvblBhcnRzWzJdKSAmJlxuICAgICAgICAgICAgKC9cXCp8XFwvLy50ZXN0KGV4cHJlc3Npb25QYXJ0c1sxXSkgfHwgL1xcKnxcXC8vLnRlc3QoZXhwcmVzc2lvblBhcnRzWzBdKSkpIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25QYXJ0c1syXSArPSBcIi1cIi5jb25jYXQoZXhwcmVzc2lvblBhcnRzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cHJlc3Npb25QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGV4cHJlc3Npb25QYXJ0c1tpXS5pbmRleE9mKFwiLFwiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIGV4cHJlc3Npb25QYXJ0c1tpXSA9XG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb25QYXJ0c1tpXVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiLFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBzdHIgIT09IFwiXCI7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbihcIixcIikgfHwgXCIqXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXhwcmVzc2lvblBhcnRzW2ldID09IFwiKi8xXCIpIHtcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uUGFydHNbaV0gPSBcIipcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHByZXNzaW9uUGFydHNbaV0uaW5kZXhPZihcIi9cIikgPiAtMSAmJiAhL15cXCp8XFwtfFxcLC8udGVzdChleHByZXNzaW9uUGFydHNbaV0pKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXBSYW5nZVRocm91Z2ggPSBudWxsO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwUmFuZ2VUaHJvdWdoID0gXCIxMlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBSYW5nZVRocm91Z2ggPSBcIjZcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwUmFuZ2VUaHJvdWdoID0gXCI5OTk5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBSYW5nZVRocm91Z2ggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdGVwUmFuZ2VUaHJvdWdoICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGV4cHJlc3Npb25QYXJ0c1tpXS5zcGxpdChcIi9cIik7XG4gICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb25QYXJ0c1tpXSA9IFwiXCIuY29uY2F0KHBhcnRzWzBdLCBcIi1cIikuY29uY2F0KHN0ZXBSYW5nZVRocm91Z2gsIFwiL1wiKS5jb25jYXQocGFydHNbMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3JvblBhcnNlci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiAocGFyc2VkKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm9JbnZhbGlkQ2hhcmFjdGVycyhcIkRPV1wiLCBwYXJzZWRbNV0pO1xuICAgICAgICB0aGlzLmFzc2VydE5vSW52YWxpZENoYXJhY3RlcnMoXCJET01cIiwgcGFyc2VkWzNdKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJhbmdlKHBhcnNlZCk7XG4gICAgfTtcbiAgICBDcm9uUGFyc2VyLnByb3RvdHlwZS52YWxpZGF0ZVJhbmdlID0gZnVuY3Rpb24gKHBhcnNlZCkge1xuICAgICAgICByYW5nZVZhbGlkYXRvcl8xLmRlZmF1bHQuc2Vjb25kUmFuZ2UocGFyc2VkWzBdKTtcbiAgICAgICAgcmFuZ2VWYWxpZGF0b3JfMS5kZWZhdWx0Lm1pbnV0ZVJhbmdlKHBhcnNlZFsxXSk7XG4gICAgICAgIHJhbmdlVmFsaWRhdG9yXzEuZGVmYXVsdC5ob3VyUmFuZ2UocGFyc2VkWzJdKTtcbiAgICAgICAgcmFuZ2VWYWxpZGF0b3JfMS5kZWZhdWx0LmRheU9mTW9udGhSYW5nZShwYXJzZWRbM10pO1xuICAgICAgICByYW5nZVZhbGlkYXRvcl8xLmRlZmF1bHQubW9udGhSYW5nZShwYXJzZWRbNF0sIHRoaXMubW9udGhTdGFydEluZGV4WmVybyk7XG4gICAgICAgIHJhbmdlVmFsaWRhdG9yXzEuZGVmYXVsdC5kYXlPZldlZWtSYW5nZShwYXJzZWRbNV0sIHRoaXMuZGF5T2ZXZWVrU3RhcnRJbmRleFplcm8pO1xuICAgIH07XG4gICAgQ3JvblBhcnNlci5wcm90b3R5cGUuYXNzZXJ0Tm9JbnZhbGlkQ2hhcmFjdGVycyA9IGZ1bmN0aW9uIChwYXJ0RGVzY3JpcHRpb24sIGV4cHJlc3Npb24pIHtcbiAgICAgICAgdmFyIGludmFsaWRDaGFycyA9IGV4cHJlc3Npb24ubWF0Y2goL1tBLUtNLVZYLVpdKy9naSk7XG4gICAgICAgIGlmIChpbnZhbGlkQ2hhcnMgJiYgaW52YWxpZENoYXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHBhcnREZXNjcmlwdGlvbiwgXCIgcGFydCBjb250YWlucyBpbnZhbGlkIHZhbHVlczogJ1wiKS5jb25jYXQoaW52YWxpZENoYXJzLnRvU3RyaW5nKCksIFwiJ1wiKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDcm9uUGFyc2VyO1xufSgpKTtcbmV4cG9ydHMuQ3JvblBhcnNlciA9IENyb25QYXJzZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDcyODpcbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pID0+IHtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7IHZhbHVlOiB0cnVlIH0pKTtcbmV4cG9ydHMuRXhwcmVzc2lvbkRlc2NyaXB0b3IgPSB2b2lkIDA7XG52YXIgc3RyaW5nVXRpbGl0aWVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxMCk7XG52YXIgY3JvblBhcnNlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OTQpO1xudmFyIEV4cHJlc3Npb25EZXNjcmlwdG9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFeHByZXNzaW9uRGVzY3JpcHRvcihleHByZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvblBhcnRzID0gbmV3IEFycmF5KDUpO1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5sb2NhbGUgJiYgRXhwcmVzc2lvbkRlc2NyaXB0b3IuZGVmYXVsdExvY2FsZSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmxvY2FsZSA9IEV4cHJlc3Npb25EZXNjcmlwdG9yLmRlZmF1bHRMb2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFFeHByZXNzaW9uRGVzY3JpcHRvci5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdKSB7XG4gICAgICAgICAgICB2YXIgZmFsbEJhY2tMb2NhbGUgPSBPYmplY3Qua2V5cyhFeHByZXNzaW9uRGVzY3JpcHRvci5sb2NhbGVzKVswXTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkxvY2FsZSAnXCIuY29uY2F0KHRoaXMub3B0aW9ucy5sb2NhbGUsIFwiJyBjb3VsZCBub3QgYmUgZm91bmQ7IGZhbGxpbmcgYmFjayB0byAnXCIpLmNvbmNhdChmYWxsQmFja0xvY2FsZSwgXCInLlwiKSk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubG9jYWxlID0gZmFsbEJhY2tMb2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pMThuID0gRXhwcmVzc2lvbkRlc2NyaXB0b3IubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXTtcbiAgICAgICAgaWYgKG9wdGlvbnMudXNlMjRIb3VyVGltZUZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcHRpb25zLnVzZTI0SG91clRpbWVGb3JtYXQgPSB0aGlzLmkxOG4udXNlMjRIb3VyVGltZUZvcm1hdEJ5RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEV4cHJlc3Npb25EZXNjcmlwdG9yLnRvU3RyaW5nID0gZnVuY3Rpb24gKGV4cHJlc3Npb24sIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBfYyA9IF9iLnRocm93RXhjZXB0aW9uT25QYXJzZUVycm9yLCB0aHJvd0V4Y2VwdGlvbk9uUGFyc2VFcnJvciA9IF9jID09PSB2b2lkIDAgPyB0cnVlIDogX2MsIF9kID0gX2IudmVyYm9zZSwgdmVyYm9zZSA9IF9kID09PSB2b2lkIDAgPyBmYWxzZSA6IF9kLCBfZSA9IF9iLmRheU9mV2Vla1N0YXJ0SW5kZXhaZXJvLCBkYXlPZldlZWtTdGFydEluZGV4WmVybyA9IF9lID09PSB2b2lkIDAgPyB0cnVlIDogX2UsIF9mID0gX2IubW9udGhTdGFydEluZGV4WmVybywgbW9udGhTdGFydEluZGV4WmVybyA9IF9mID09PSB2b2lkIDAgPyBmYWxzZSA6IF9mLCB1c2UyNEhvdXJUaW1lRm9ybWF0ID0gX2IudXNlMjRIb3VyVGltZUZvcm1hdCwgX2cgPSBfYi5sb2NhbGUsIGxvY2FsZSA9IF9nID09PSB2b2lkIDAgPyBudWxsIDogX2csIF9oID0gX2IudHpPZmZzZXQsIHR6T2Zmc2V0ID0gX2ggPT09IHZvaWQgMCA/IDAgOiBfaDtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICB0aHJvd0V4Y2VwdGlvbk9uUGFyc2VFcnJvcjogdGhyb3dFeGNlcHRpb25PblBhcnNlRXJyb3IsXG4gICAgICAgICAgICB2ZXJib3NlOiB2ZXJib3NlLFxuICAgICAgICAgICAgZGF5T2ZXZWVrU3RhcnRJbmRleFplcm86IGRheU9mV2Vla1N0YXJ0SW5kZXhaZXJvLFxuICAgICAgICAgICAgbW9udGhTdGFydEluZGV4WmVybzogbW9udGhTdGFydEluZGV4WmVybyxcbiAgICAgICAgICAgIHVzZTI0SG91clRpbWVGb3JtYXQ6IHVzZTI0SG91clRpbWVGb3JtYXQsXG4gICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICAgIHR6T2Zmc2V0OiB0ek9mZnNldFxuICAgICAgICB9O1xuICAgICAgICB2YXIgZGVzY3JpcHRlciA9IG5ldyBFeHByZXNzaW9uRGVzY3JpcHRvcihleHByZXNzaW9uLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0ZXIuZ2V0RnVsbERlc2NyaXB0aW9uKCk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uRGVzY3JpcHRvci5pbml0aWFsaXplID0gZnVuY3Rpb24gKGxvY2FsZXNMb2FkZXIsIGRlZmF1bHRMb2NhbGUpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRMb2NhbGUgPT09IHZvaWQgMCkgeyBkZWZhdWx0TG9jYWxlID0gXCJlblwiOyB9XG4gICAgICAgIEV4cHJlc3Npb25EZXNjcmlwdG9yLnNwZWNpYWxDaGFyYWN0ZXJzID0gW1wiL1wiLCBcIi1cIiwgXCIsXCIsIFwiKlwiXTtcbiAgICAgICAgRXhwcmVzc2lvbkRlc2NyaXB0b3IuZGVmYXVsdExvY2FsZSA9IGRlZmF1bHRMb2NhbGU7XG4gICAgICAgIGxvY2FsZXNMb2FkZXIubG9hZChFeHByZXNzaW9uRGVzY3JpcHRvci5sb2NhbGVzKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25EZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRGdWxsRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IGNyb25QYXJzZXJfMS5Dcm9uUGFyc2VyKHRoaXMuZXhwcmVzc2lvbiwgdGhpcy5vcHRpb25zLmRheU9mV2Vla1N0YXJ0SW5kZXhaZXJvLCB0aGlzLm9wdGlvbnMubW9udGhTdGFydEluZGV4WmVybyk7XG4gICAgICAgICAgICB0aGlzLmV4cHJlc3Npb25QYXJ0cyA9IHBhcnNlci5wYXJzZSgpO1xuICAgICAgICAgICAgdmFyIHRpbWVTZWdtZW50ID0gdGhpcy5nZXRUaW1lT2ZEYXlEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdmFyIGRheU9mTW9udGhEZXNjID0gdGhpcy5nZXREYXlPZk1vbnRoRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHZhciBtb250aERlc2MgPSB0aGlzLmdldE1vbnRoRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHZhciBkYXlPZldlZWtEZXNjID0gdGhpcy5nZXREYXlPZldlZWtEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdmFyIHllYXJEZXNjID0gdGhpcy5nZXRZZWFyRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uICs9IHRpbWVTZWdtZW50ICsgZGF5T2ZNb250aERlc2MgKyBkYXlPZldlZWtEZXNjICsgbW9udGhEZXNjICsgeWVhckRlc2M7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IHRoaXMudHJhbnNmb3JtVmVyYm9zaXR5KGRlc2NyaXB0aW9uLCAhIXRoaXMub3B0aW9ucy52ZXJib3NlKTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24uY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyBkZXNjcmlwdGlvbi5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy50aHJvd0V4Y2VwdGlvbk9uUGFyc2VFcnJvcikge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gdGhpcy5pMThuLmFuRXJyb3JPY2N1cmVkV2hlbkdlbmVyYXRpbmdUaGVFeHByZXNzaW9uRCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJcIi5jb25jYXQoZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25EZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRUaW1lT2ZEYXlEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlY29uZHNFeHByZXNzaW9uID0gdGhpcy5leHByZXNzaW9uUGFydHNbMF07XG4gICAgICAgIHZhciBtaW51dGVFeHByZXNzaW9uID0gdGhpcy5leHByZXNzaW9uUGFydHNbMV07XG4gICAgICAgIHZhciBob3VyRXhwcmVzc2lvbiA9IHRoaXMuZXhwcmVzc2lvblBhcnRzWzJdO1xuICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBcIlwiO1xuICAgICAgICBpZiAoIXN0cmluZ1V0aWxpdGllc18xLlN0cmluZ1V0aWxpdGllcy5jb250YWluc0FueShtaW51dGVFeHByZXNzaW9uLCBFeHByZXNzaW9uRGVzY3JpcHRvci5zcGVjaWFsQ2hhcmFjdGVycykgJiZcbiAgICAgICAgICAgICFzdHJpbmdVdGlsaXRpZXNfMS5TdHJpbmdVdGlsaXRpZXMuY29udGFpbnNBbnkoaG91ckV4cHJlc3Npb24sIEV4cHJlc3Npb25EZXNjcmlwdG9yLnNwZWNpYWxDaGFyYWN0ZXJzKSAmJlxuICAgICAgICAgICAgIXN0cmluZ1V0aWxpdGllc18xLlN0cmluZ1V0aWxpdGllcy5jb250YWluc0FueShzZWNvbmRzRXhwcmVzc2lvbiwgRXhwcmVzc2lvbkRlc2NyaXB0b3Iuc3BlY2lhbENoYXJhY3RlcnMpKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiArPSB0aGlzLmkxOG4uYXRTcGFjZSgpICsgdGhpcy5mb3JtYXRUaW1lKGhvdXJFeHByZXNzaW9uLCBtaW51dGVFeHByZXNzaW9uLCBzZWNvbmRzRXhwcmVzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXNlY29uZHNFeHByZXNzaW9uICYmXG4gICAgICAgICAgICBtaW51dGVFeHByZXNzaW9uLmluZGV4T2YoXCItXCIpID4gLTEgJiZcbiAgICAgICAgICAgICEobWludXRlRXhwcmVzc2lvbi5pbmRleE9mKFwiLFwiKSA+IC0xKSAmJlxuICAgICAgICAgICAgIShtaW51dGVFeHByZXNzaW9uLmluZGV4T2YoXCIvXCIpID4gLTEpICYmXG4gICAgICAgICAgICAhc3RyaW5nVXRpbGl0aWVzXzEuU3RyaW5nVXRpbGl0aWVzLmNvbnRhaW5zQW55KGhvdXJFeHByZXNzaW9uLCBFeHByZXNzaW9uRGVzY3JpcHRvci5zcGVjaWFsQ2hhcmFjdGVycykpIHtcbiAgICAgICAgICAgIHZhciBtaW51dGVQYXJ0cyA9IG1pbnV0ZUV4cHJlc3Npb24uc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gKz0gc3RyaW5nVXRpbGl0aWVzXzEuU3RyaW5nVXRpbGl0aWVzLmZvcm1hdCh0aGlzLmkxOG4uZXZlcnlNaW51dGVCZXR3ZWVuWDBBbmRYMSgpLCB0aGlzLmZvcm1hdFRpbWUoaG91ckV4cHJlc3Npb24sIG1pbnV0ZVBhcnRzWzBdLCBcIlwiKSwgdGhpcy5mb3JtYXRUaW1lKGhvdXJFeHByZXNzaW9uLCBtaW51dGVQYXJ0c1sxXSwgXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFzZWNvbmRzRXhwcmVzc2lvbiAmJlxuICAgICAgICAgICAgaG91ckV4cHJlc3Npb24uaW5kZXhPZihcIixcIikgPiAtMSAmJlxuICAgICAgICAgICAgaG91ckV4cHJlc3Npb24uaW5kZXhPZihcIi1cIikgPT0gLTEgJiZcbiAgICAgICAgICAgIGhvdXJFeHByZXNzaW9uLmluZGV4T2YoXCIvXCIpID09IC0xICYmXG4gICAgICAgICAgICAhc3RyaW5nVXRpbGl0aWVzXzEuU3RyaW5nVXRpbGl0aWVzLmNvbnRhaW5zQW55KG1pbnV0ZUV4cHJlc3Npb24sIEV4cHJlc3Npb25EZXNjcmlwdG9yLnNwZWNpYWxDaGFyYWN0ZXJzKSkge1xuICAgICAgICAgICAgdmFyIGhvdXJQYXJ0cyA9IGhvdXJFeHByZXNzaW9uLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uICs9IHRoaXMuaTE4bi5hdCgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3VyUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiArPSBcIiBcIjtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiArPSB0aGlzLmZvcm1hdFRpbWUoaG91clBhcnRzW2ldLCBtaW51dGVFeHByZXNzaW9uLCBcIlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA8IGhvdXJQYXJ0cy5sZW5ndGggLSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uICs9IFwiLFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBob3VyUGFydHMubGVuZ3RoIC0gMikge1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiArPSB0aGlzLmkxOG4uc3BhY2VBbmQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2Vjb25kc0Rlc2NyaXB0aW9uID0gdGhpcy5nZXRTZWNvbmRzRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHZhciBtaW51dGVzRGVzY3JpcHRpb24gPSB0aGlzLmdldE1pbnV0ZXNEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdmFyIGhvdXJzRGVzY3JpcHRpb24gPSB0aGlzLmdldEhvdXJzRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uICs9IHNlY29uZHNEZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIGlmIChkZXNjcmlwdGlvbiAmJiBtaW51dGVzRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiArPSBcIiwgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiArPSBtaW51dGVzRGVzY3JpcHRpb247XG4gICAgICAgICAgICBpZiAobWludXRlc0Rlc2NyaXB0aW9uID09PSBob3Vyc0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uICYmIGhvdXJzRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiArPSBcIiwgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiArPSBob3Vyc0Rlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25EZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRTZWNvbmRzRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IHRoaXMuZ2V0U2VnbWVudERlc2NyaXB0aW9uKHRoaXMuZXhwcmVzc2lvblBhcnRzWzBdLCB0aGlzLmkxOG4uZXZlcnlTZWNvbmQoKSwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ1V0aWxpdGllc18xLlN0cmluZ1V0aWxpdGllcy5mb3JtYXQoX3RoaXMuaTE4bi5ldmVyeVgwU2Vjb25kcyhzKSwgcyk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaTE4bi5zZWNvbmRzWDBUaHJvdWdoWDFQYXN0VGhlTWludXRlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gcyA9PSBcIjBcIlxuICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgIDogcGFyc2VJbnQocykgPCAyMFxuICAgICAgICAgICAgICAgICAgICA/IF90aGlzLmkxOG4uYXRYMFNlY29uZHNQYXN0VGhlTWludXRlKHMpXG4gICAgICAgICAgICAgICAgICAgIDogX3RoaXMuaTE4bi5hdFgwU2Vjb25kc1Bhc3RUaGVNaW51dGVHdDIwKCkgfHwgX3RoaXMuaTE4bi5hdFgwU2Vjb25kc1Bhc3RUaGVNaW51dGUocyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfTtcbiAgICBFeHByZXNzaW9uRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0TWludXRlc0Rlc2NyaXB0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2Vjb25kc0V4cHJlc3Npb24gPSB0aGlzLmV4cHJlc3Npb25QYXJ0c1swXTtcbiAgICAgICAgdmFyIGhvdXJFeHByZXNzaW9uID0gdGhpcy5leHByZXNzaW9uUGFydHNbMl07XG4gICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IHRoaXMuZ2V0U2VnbWVudERlc2NyaXB0aW9uKHRoaXMuZXhwcmVzc2lvblBhcnRzWzFdLCB0aGlzLmkxOG4uZXZlcnlNaW51dGUoKSwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ1V0aWxpdGllc18xLlN0cmluZ1V0aWxpdGllcy5mb3JtYXQoX3RoaXMuaTE4bi5ldmVyeVgwTWludXRlcyhzKSwgcyk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaTE4bi5taW51dGVzWDBUaHJvdWdoWDFQYXN0VGhlSG91cigpO1xuICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcyA9PSBcIjBcIiAmJiBob3VyRXhwcmVzc2lvbi5pbmRleE9mKFwiL1wiKSA9PSAtMSAmJiBzZWNvbmRzRXhwcmVzc2lvbiA9PSBcIlwiXG4gICAgICAgICAgICAgICAgICAgID8gX3RoaXMuaTE4bi5ldmVyeUhvdXIoKVxuICAgICAgICAgICAgICAgICAgICA6IHBhcnNlSW50KHMpIDwgMjBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gX3RoaXMuaTE4bi5hdFgwTWludXRlc1Bhc3RUaGVIb3VyKHMpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IF90aGlzLmkxOG4uYXRYME1pbnV0ZXNQYXN0VGhlSG91ckd0MjAoKSB8fCBfdGhpcy5pMThuLmF0WDBNaW51dGVzUGFzdFRoZUhvdXIocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pMThuLmF0WDBNaW51dGVzUGFzdFRoZUhvdXIocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfTtcbiAgICBFeHByZXNzaW9uRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0SG91cnNEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGV4cHJlc3Npb24gPSB0aGlzLmV4cHJlc3Npb25QYXJ0c1syXTtcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gdGhpcy5nZXRTZWdtZW50RGVzY3JpcHRpb24oZXhwcmVzc2lvbiwgdGhpcy5pMThuLmV2ZXJ5SG91cigpLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZvcm1hdFRpbWUocywgXCIwXCIsIFwiXCIpO1xuICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ1V0aWxpdGllc18xLlN0cmluZ1V0aWxpdGllcy5mb3JtYXQoX3RoaXMuaTE4bi5ldmVyeVgwSG91cnMocyksIHMpO1xuICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmkxOG4uYmV0d2VlblgwQW5kWDEoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5pMThuLmF0WDAoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkZXNjcmlwdGlvbiAmJiBleHByZXNzaW9uLmluY2x1ZGVzKFwiLVwiKSAmJiB0aGlzLmV4cHJlc3Npb25QYXJ0c1sxXSAhPSBcIjBcIikge1xuICAgICAgICAgICAgdmFyIGF0VGhlSG91ck1hdGNoZXMgPSBBcnJheS5mcm9tKGRlc2NyaXB0aW9uLm1hdGNoQWxsKC86MDAvZykpO1xuICAgICAgICAgICAgaWYgKGF0VGhlSG91ck1hdGNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBsYXN0QXRUaGVIb3VyTWF0Y2hJbmRleCA9IGF0VGhlSG91ck1hdGNoZXNbYXRUaGVIb3VyTWF0Y2hlcy5sZW5ndGggLSAxXS5pbmRleDtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCBsYXN0QXRUaGVIb3VyTWF0Y2hJbmRleCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCI6NTlcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbi5zdWJzdHJpbmcobGFzdEF0VGhlSG91ck1hdGNoSW5kZXggKyAzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfTtcbiAgICBFeHByZXNzaW9uRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RGF5T2ZXZWVrRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkYXlzT2ZXZWVrTmFtZXMgPSB0aGlzLmkxOG4uZGF5c09mVGhlV2VlaygpO1xuICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5leHByZXNzaW9uUGFydHNbNV0gPT0gXCIqXCIpIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gdGhpcy5nZXRTZWdtZW50RGVzY3JpcHRpb24odGhpcy5leHByZXNzaW9uUGFydHNbNV0sIHRoaXMuaTE4bi5jb21tYUV2ZXJ5RGF5KCksIGZ1bmN0aW9uIChzLCBmb3JtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4cCA9IHM7XG4gICAgICAgICAgICAgICAgaWYgKHMuaW5kZXhPZihcIiNcIikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBleHAgPSBzLnN1YnN0cmluZygwLCBzLmluZGV4T2YoXCIjXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocy5pbmRleE9mKFwiTFwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cCA9IGV4cC5yZXBsYWNlKFwiTFwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlZEV4cCA9IHBhcnNlSW50KGV4cCk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMudHpPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXJFeHByZXNzaW9uID0gX3RoaXMuZXhwcmVzc2lvblBhcnRzWzJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaG91ciA9IHBhcnNlSW50KGhvdXJFeHByZXNzaW9uKSArIChfdGhpcy5vcHRpb25zLnR6T2Zmc2V0ID8gX3RoaXMub3B0aW9ucy50ek9mZnNldCA6IDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaG91ciA+PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkRXhwKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaG91ciA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZEV4cC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRFeHAgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRFeHAgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZEV4cCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZEV4cCA9IDY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gX3RoaXMuaTE4bi5kYXlzT2ZUaGVXZWVrSW5DYXNlXG4gICAgICAgICAgICAgICAgICAgID8gX3RoaXMuaTE4bi5kYXlzT2ZUaGVXZWVrSW5DYXNlKGZvcm0pW3BhcnNlZEV4cF1cbiAgICAgICAgICAgICAgICAgICAgOiBkYXlzT2ZXZWVrTmFtZXNbcGFyc2VkRXhwXTtcbiAgICAgICAgICAgICAgICBpZiAocy5pbmRleE9mKFwiI1wiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXlPZldlZWtPZk1vbnRoRGVzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5T2ZXZWVrT2ZNb250aE51bWJlciA9IHMuc3Vic3RyaW5nKHMuaW5kZXhPZihcIiNcIikgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheU9mV2Vla051bWJlciA9IHMuc3Vic3RyaW5nKDAsIHMuaW5kZXhPZihcIiNcIikpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRheU9mV2Vla09mTW9udGhOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZXZWVrT2ZNb250aERlc2NyaXB0aW9uID0gX3RoaXMuaTE4bi5maXJzdChkYXlPZldlZWtOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlPZldlZWtPZk1vbnRoRGVzY3JpcHRpb24gPSBfdGhpcy5pMThuLnNlY29uZChkYXlPZldlZWtOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlPZldlZWtPZk1vbnRoRGVzY3JpcHRpb24gPSBfdGhpcy5pMThuLnRoaXJkKGRheU9mV2Vla051bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheU9mV2Vla09mTW9udGhEZXNjcmlwdGlvbiA9IF90aGlzLmkxOG4uZm91cnRoKGRheU9mV2Vla051bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheU9mV2Vla09mTW9udGhEZXNjcmlwdGlvbiA9IF90aGlzLmkxOG4uZmlmdGgoZGF5T2ZXZWVrTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGRheU9mV2Vla09mTW9udGhEZXNjcmlwdGlvbiArIFwiIFwiICsgZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHMpID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nVXRpbGl0aWVzXzEuU3RyaW5nVXRpbGl0aWVzLmZvcm1hdChfdGhpcy5pMThuLmNvbW1hRXZlcnlYMERheXNPZlRoZVdlZWsocyksIHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJlZ2luRnJvbSA9IHMuc3Vic3RyaW5nKDAsIHMuaW5kZXhPZihcIi1cIikpO1xuICAgICAgICAgICAgICAgIHZhciBkb21TcGVjaWZpZWQgPSBfdGhpcy5leHByZXNzaW9uUGFydHNbM10gIT0gXCIqXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbVNwZWNpZmllZCA/IF90aGlzLmkxOG4uY29tbWFBbmRYMFRocm91Z2hYMShiZWdpbkZyb20pIDogX3RoaXMuaTE4bi5jb21tYVgwVGhyb3VnaFgxKGJlZ2luRnJvbSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChzLmluZGV4T2YoXCIjXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheU9mV2Vla09mTW9udGhOdW1iZXIgPSBzLnN1YnN0cmluZyhzLmluZGV4T2YoXCIjXCIpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IF90aGlzLmkxOG4uY29tbWFPblRoZShkYXlPZldlZWtPZk1vbnRoTnVtYmVyKS50cmltKCkgKyBfdGhpcy5pMThuLnNwYWNlWDBPZlRoZU1vbnRoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMuaW5kZXhPZihcIkxcIikgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQgPSBfdGhpcy5pMThuLmNvbW1hT25UaGVMYXN0WDBPZlRoZU1vbnRoKHMucmVwbGFjZShcIkxcIiwgXCJcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvbVNwZWNpZmllZCA9IF90aGlzLmV4cHJlc3Npb25QYXJ0c1szXSAhPSBcIipcIjtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gZG9tU3BlY2lmaWVkID8gX3RoaXMuaTE4bi5jb21tYUFuZE9uWDAoKSA6IF90aGlzLmkxOG4uY29tbWFPbmx5T25YMChzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25EZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRNb250aERlc2NyaXB0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbW9udGhOYW1lcyA9IHRoaXMuaTE4bi5tb250aHNPZlRoZVllYXIoKTtcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gdGhpcy5nZXRTZWdtZW50RGVzY3JpcHRpb24odGhpcy5leHByZXNzaW9uUGFydHNbNF0sIFwiXCIsIGZ1bmN0aW9uIChzLCBmb3JtKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybSAmJiBfdGhpcy5pMThuLm1vbnRoc09mVGhlWWVhckluQ2FzZVxuICAgICAgICAgICAgICAgID8gX3RoaXMuaTE4bi5tb250aHNPZlRoZVllYXJJbkNhc2UoZm9ybSlbcGFyc2VJbnQocykgLSAxXVxuICAgICAgICAgICAgICAgIDogbW9udGhOYW1lc1twYXJzZUludChzKSAtIDFdO1xuICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgaWYgKHBhcnNlSW50KHMpID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdVdGlsaXRpZXNfMS5TdHJpbmdVdGlsaXRpZXMuZm9ybWF0KF90aGlzLmkxOG4uY29tbWFFdmVyeVgwTW9udGhzKHMpLCBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5pMThuLmNvbW1hTW9udGhYMFRocm91Z2hNb250aFgxKCkgfHwgX3RoaXMuaTE4bi5jb21tYVgwVGhyb3VnaFgxKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaTE4bi5jb21tYU9ubHlJbk1vbnRoWDAgPyBfdGhpcy5pMThuLmNvbW1hT25seUluTW9udGhYMCgpIDogX3RoaXMuaTE4bi5jb21tYU9ubHlJblgwKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfTtcbiAgICBFeHByZXNzaW9uRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RGF5T2ZNb250aERlc2NyaXB0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IHRoaXMuZXhwcmVzc2lvblBhcnRzWzNdO1xuICAgICAgICBzd2l0Y2ggKGV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSB0aGlzLmkxOG4uY29tbWFPblRoZUxhc3REYXlPZlRoZU1vbnRoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiV0xcIjpcbiAgICAgICAgICAgIGNhc2UgXCJMV1wiOlxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gdGhpcy5pMThuLmNvbW1hT25UaGVMYXN0V2Vla2RheU9mVGhlTW9udGgoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdmFyIHdlZWtEYXlOdW1iZXJNYXRjaGVzID0gZXhwcmVzc2lvbi5tYXRjaCgvKFxcZHsxLDJ9Vyl8KFdcXGR7MSwyfSkvKTtcbiAgICAgICAgICAgICAgICBpZiAod2Vla0RheU51bWJlck1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheU51bWJlciA9IHBhcnNlSW50KHdlZWtEYXlOdW1iZXJNYXRjaGVzWzBdLnJlcGxhY2UoXCJXXCIsIFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheVN0cmluZyA9IGRheU51bWJlciA9PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuaTE4bi5maXJzdFdlZWtkYXkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzdHJpbmdVdGlsaXRpZXNfMS5TdHJpbmdVdGlsaXRpZXMuZm9ybWF0KHRoaXMuaTE4bi53ZWVrZGF5TmVhcmVzdERheVgwKCksIGRheU51bWJlci50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBzdHJpbmdVdGlsaXRpZXNfMS5TdHJpbmdVdGlsaXRpZXMuZm9ybWF0KHRoaXMuaTE4bi5jb21tYU9uVGhlWDBPZlRoZU1vbnRoKCksIGRheVN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3REYXlPZmZTZXRNYXRjaGVzID0gZXhwcmVzc2lvbi5tYXRjaCgvTC0oXFxkezEsMn0pLyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0RGF5T2ZmU2V0TWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZlNldERheXMgPSBsYXN0RGF5T2ZmU2V0TWF0Y2hlc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gc3RyaW5nVXRpbGl0aWVzXzEuU3RyaW5nVXRpbGl0aWVzLmZvcm1hdCh0aGlzLmkxOG4uY29tbWFEYXlzQmVmb3JlVGhlTGFzdERheU9mVGhlTW9udGgob2ZmU2V0RGF5cyksIG9mZlNldERheXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZXhwcmVzc2lvbiA9PSBcIipcIiAmJiB0aGlzLmV4cHJlc3Npb25QYXJ0c1s1XSAhPSBcIipcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9IHRoaXMuZ2V0U2VnbWVudERlc2NyaXB0aW9uKGV4cHJlc3Npb24sIHRoaXMuaTE4bi5jb21tYUV2ZXJ5RGF5KCksIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMgPT0gXCJMXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfdGhpcy5pMThuLmxhc3REYXkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF90aGlzLmkxOG4uZGF5WDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc3RyaW5nVXRpbGl0aWVzXzEuU3RyaW5nVXRpbGl0aWVzLmZvcm1hdChfdGhpcy5pMThuLmRheVgwKCksIHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzID09IFwiMVwiID8gX3RoaXMuaTE4bi5jb21tYUV2ZXJ5RGF5KCkgOiBfdGhpcy5pMThuLmNvbW1hRXZlcnlYMERheXMocyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pMThuLmNvbW1hQmV0d2VlbkRheVgwQW5kWDFPZlRoZU1vbnRoKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaTE4bi5jb21tYU9uRGF5WDBPZlRoZU1vbnRoKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25EZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRZZWFyRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IHRoaXMuZ2V0U2VnbWVudERlc2NyaXB0aW9uKHRoaXMuZXhwcmVzc2lvblBhcnRzWzZdLCBcIlwiLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIC9eXFxkKyQvLnRlc3QocykgPyBuZXcgRGF0ZShwYXJzZUludChzKSwgMSkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpIDogcztcbiAgICAgICAgfSwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdVdGlsaXRpZXNfMS5TdHJpbmdVdGlsaXRpZXMuZm9ybWF0KF90aGlzLmkxOG4uY29tbWFFdmVyeVgwWWVhcnMocyksIHMpO1xuICAgICAgICB9LCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmkxOG4uY29tbWFZZWFyWDBUaHJvdWdoWWVhclgxKCkgfHwgX3RoaXMuaTE4bi5jb21tYVgwVGhyb3VnaFgxKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaTE4bi5jb21tYU9ubHlJblllYXJYMCA/IF90aGlzLmkxOG4uY29tbWFPbmx5SW5ZZWFyWDAoKSA6IF90aGlzLmkxOG4uY29tbWFPbmx5SW5YMCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbkRlc2NyaXB0b3IucHJvdG90eXBlLmdldFNlZ21lbnREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIChleHByZXNzaW9uLCBhbGxEZXNjcmlwdGlvbiwgZ2V0U2luZ2xlSXRlbURlc2NyaXB0aW9uLCBnZXRJbmNyZW1lbnREZXNjcmlwdGlvbkZvcm1hdCwgZ2V0UmFuZ2VEZXNjcmlwdGlvbkZvcm1hdCwgZ2V0RGVzY3JpcHRpb25Gb3JtYXQpIHtcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIGRvZXNFeHByZXNzaW9uQ29udGFpbkluY3JlbWVudCA9IGV4cHJlc3Npb24uaW5kZXhPZihcIi9cIikgPiAtMTtcbiAgICAgICAgdmFyIGRvZXNFeHByZXNzaW9uQ29udGFpblJhbmdlID0gZXhwcmVzc2lvbi5pbmRleE9mKFwiLVwiKSA+IC0xO1xuICAgICAgICB2YXIgZG9lc0V4cHJlc3Npb25Db250YWluTXVsdGlwbGVWYWx1ZXMgPSBleHByZXNzaW9uLmluZGV4T2YoXCIsXCIpID4gLTE7XG4gICAgICAgIGlmICghZXhwcmVzc2lvbikge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV4cHJlc3Npb24gPT09IFwiKlwiKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGFsbERlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkb2VzRXhwcmVzc2lvbkNvbnRhaW5JbmNyZW1lbnQgJiYgIWRvZXNFeHByZXNzaW9uQ29udGFpblJhbmdlICYmICFkb2VzRXhwcmVzc2lvbkNvbnRhaW5NdWx0aXBsZVZhbHVlcykge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBzdHJpbmdVdGlsaXRpZXNfMS5TdHJpbmdVdGlsaXRpZXMuZm9ybWF0KGdldERlc2NyaXB0aW9uRm9ybWF0KGV4cHJlc3Npb24pLCBnZXRTaW5nbGVJdGVtRGVzY3JpcHRpb24oZXhwcmVzc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvZXNFeHByZXNzaW9uQ29udGFpbk11bHRpcGxlVmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgc2VnbWVudHMgPSBleHByZXNzaW9uLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbkNvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpID4gMCAmJiBzZWdtZW50cy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uQ29udGVudCArPSBcIixcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBzZWdtZW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbkNvbnRlbnQgKz0gXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwICYmIHNlZ21lbnRzLmxlbmd0aCA+IDEgJiYgKGkgPT0gc2VnbWVudHMubGVuZ3RoIC0gMSB8fCBzZWdtZW50cy5sZW5ndGggPT0gMikpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25Db250ZW50ICs9IFwiXCIuY29uY2F0KHRoaXMuaTE4bi5zcGFjZUFuZCgpLCBcIiBcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWdtZW50c1tpXS5pbmRleE9mKFwiL1wiKSA+IC0xIHx8IHNlZ21lbnRzW2ldLmluZGV4T2YoXCItXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzU2VnbWVudFJhbmdlV2l0aG91dEluY3JlbWVudCA9IHNlZ21lbnRzW2ldLmluZGV4T2YoXCItXCIpID4gLTEgJiYgc2VnbWVudHNbaV0uaW5kZXhPZihcIi9cIikgPT0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RGVzY3JpcHRpb25Db250ZW50ID0gdGhpcy5nZXRTZWdtZW50RGVzY3JpcHRpb24oc2VnbWVudHNbaV0sIGFsbERlc2NyaXB0aW9uLCBnZXRTaW5nbGVJdGVtRGVzY3JpcHRpb24sIGdldEluY3JlbWVudERlc2NyaXB0aW9uRm9ybWF0LCBpc1NlZ21lbnRSYW5nZVdpdGhvdXRJbmNyZW1lbnQgPyB0aGlzLmkxOG4uY29tbWFYMFRocm91Z2hYMSA6IGdldFJhbmdlRGVzY3JpcHRpb25Gb3JtYXQsIGdldERlc2NyaXB0aW9uRm9ybWF0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VnbWVudFJhbmdlV2l0aG91dEluY3JlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERlc2NyaXB0aW9uQ29udGVudCA9IGN1cnJlbnREZXNjcmlwdGlvbkNvbnRlbnQucmVwbGFjZShcIiwgXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uQ29udGVudCArPSBjdXJyZW50RGVzY3JpcHRpb25Db250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghZG9lc0V4cHJlc3Npb25Db250YWluSW5jcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uQ29udGVudCArPSBnZXRTaW5nbGVJdGVtRGVzY3JpcHRpb24oc2VnbWVudHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25Db250ZW50ICs9IHRoaXMuZ2V0U2VnbWVudERlc2NyaXB0aW9uKHNlZ21lbnRzW2ldLCBhbGxEZXNjcmlwdGlvbiwgZ2V0U2luZ2xlSXRlbURlc2NyaXB0aW9uLCBnZXRJbmNyZW1lbnREZXNjcmlwdGlvbkZvcm1hdCwgZ2V0UmFuZ2VEZXNjcmlwdGlvbkZvcm1hdCwgZ2V0RGVzY3JpcHRpb25Gb3JtYXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZG9lc0V4cHJlc3Npb25Db250YWluSW5jcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBzdHJpbmdVdGlsaXRpZXNfMS5TdHJpbmdVdGlsaXRpZXMuZm9ybWF0KGdldERlc2NyaXB0aW9uRm9ybWF0KGV4cHJlc3Npb24pLCBkZXNjcmlwdGlvbkNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbkNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9lc0V4cHJlc3Npb25Db250YWluSW5jcmVtZW50KSB7XG4gICAgICAgICAgICB2YXIgc2VnbWVudHMgPSBleHByZXNzaW9uLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gc3RyaW5nVXRpbGl0aWVzXzEuU3RyaW5nVXRpbGl0aWVzLmZvcm1hdChnZXRJbmNyZW1lbnREZXNjcmlwdGlvbkZvcm1hdChzZWdtZW50c1sxXSksIHNlZ21lbnRzWzFdKTtcbiAgICAgICAgICAgIGlmIChzZWdtZW50c1swXS5pbmRleE9mKFwiLVwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlU2VnbWVudERlc2NyaXB0aW9uID0gdGhpcy5nZW5lcmF0ZVJhbmdlU2VnbWVudERlc2NyaXB0aW9uKHNlZ21lbnRzWzBdLCBnZXRSYW5nZURlc2NyaXB0aW9uRm9ybWF0LCBnZXRTaW5nbGVJdGVtRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZVNlZ21lbnREZXNjcmlwdGlvbi5pbmRleE9mKFwiLCBcIikgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiArPSBcIiwgXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uICs9IHJhbmdlU2VnbWVudERlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VnbWVudHNbMF0uaW5kZXhPZihcIipcIikgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VJdGVtRGVzY3JpcHRpb24gPSBzdHJpbmdVdGlsaXRpZXNfMS5TdHJpbmdVdGlsaXRpZXMuZm9ybWF0KGdldERlc2NyaXB0aW9uRm9ybWF0KHNlZ21lbnRzWzBdKSwgZ2V0U2luZ2xlSXRlbURlc2NyaXB0aW9uKHNlZ21lbnRzWzBdKSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VJdGVtRGVzY3JpcHRpb24gPSByYW5nZUl0ZW1EZXNjcmlwdGlvbi5yZXBsYWNlKFwiLCBcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gKz0gc3RyaW5nVXRpbGl0aWVzXzEuU3RyaW5nVXRpbGl0aWVzLmZvcm1hdCh0aGlzLmkxOG4uY29tbWFTdGFydGluZ1gwKCksIHJhbmdlSXRlbURlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkb2VzRXhwcmVzc2lvbkNvbnRhaW5SYW5nZSkge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSB0aGlzLmdlbmVyYXRlUmFuZ2VTZWdtZW50RGVzY3JpcHRpb24oZXhwcmVzc2lvbiwgZ2V0UmFuZ2VEZXNjcmlwdGlvbkZvcm1hdCwgZ2V0U2luZ2xlSXRlbURlc2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfTtcbiAgICBFeHByZXNzaW9uRGVzY3JpcHRvci5wcm90b3R5cGUuZ2VuZXJhdGVSYW5nZVNlZ21lbnREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIChyYW5nZUV4cHJlc3Npb24sIGdldFJhbmdlRGVzY3JpcHRpb25Gb3JtYXQsIGdldFNpbmdsZUl0ZW1EZXNjcmlwdGlvbikge1xuICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBcIlwiO1xuICAgICAgICB2YXIgcmFuZ2VTZWdtZW50cyA9IHJhbmdlRXhwcmVzc2lvbi5zcGxpdChcIi1cIik7XG4gICAgICAgIHZhciByYW5nZVNlZ21lbnQxRGVzY3JpcHRpb24gPSBnZXRTaW5nbGVJdGVtRGVzY3JpcHRpb24ocmFuZ2VTZWdtZW50c1swXSwgMSk7XG4gICAgICAgIHZhciByYW5nZVNlZ21lbnQyRGVzY3JpcHRpb24gPSBnZXRTaW5nbGVJdGVtRGVzY3JpcHRpb24ocmFuZ2VTZWdtZW50c1sxXSwgMik7XG4gICAgICAgIHZhciByYW5nZURlc2NyaXB0aW9uRm9ybWF0ID0gZ2V0UmFuZ2VEZXNjcmlwdGlvbkZvcm1hdChyYW5nZUV4cHJlc3Npb24pO1xuICAgICAgICBkZXNjcmlwdGlvbiArPSBzdHJpbmdVdGlsaXRpZXNfMS5TdHJpbmdVdGlsaXRpZXMuZm9ybWF0KHJhbmdlRGVzY3JpcHRpb25Gb3JtYXQsIHJhbmdlU2VnbWVudDFEZXNjcmlwdGlvbiwgcmFuZ2VTZWdtZW50MkRlc2NyaXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbkRlc2NyaXB0b3IucHJvdG90eXBlLmZvcm1hdFRpbWUgPSBmdW5jdGlvbiAoaG91ckV4cHJlc3Npb24sIG1pbnV0ZUV4cHJlc3Npb24sIHNlY29uZEV4cHJlc3Npb24pIHtcbiAgICAgICAgdmFyIGhvdXJPZmZzZXQgPSAwO1xuICAgICAgICB2YXIgbWludXRlT2Zmc2V0ID0gMDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50ek9mZnNldCkge1xuICAgICAgICAgICAgaG91ck9mZnNldCA9IHRoaXMub3B0aW9ucy50ek9mZnNldCA+IDAgPyBNYXRoLmZsb29yKHRoaXMub3B0aW9ucy50ek9mZnNldCkgOiBNYXRoLmNlaWwodGhpcy5vcHRpb25zLnR6T2Zmc2V0KTtcbiAgICAgICAgICAgIG1pbnV0ZU9mZnNldCA9IChwYXJzZUZsb2F0KCh0aGlzLm9wdGlvbnMudHpPZmZzZXQgJSAxKS50b0ZpeGVkKDIpKSk7XG4gICAgICAgICAgICBpZiAobWludXRlT2Zmc2V0ICE9IDApIHtcbiAgICAgICAgICAgICAgICBtaW51dGVPZmZzZXQgKj0gNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvdXIgPSBwYXJzZUludChob3VyRXhwcmVzc2lvbikgKyAoaG91ck9mZnNldCk7XG4gICAgICAgIHZhciBtaW51dGUgPSBwYXJzZUludChtaW51dGVFeHByZXNzaW9uKSArIChtaW51dGVPZmZzZXQpO1xuICAgICAgICBpZiAobWludXRlID49IDYwKSB7XG4gICAgICAgICAgICBtaW51dGUgLT0gNjA7XG4gICAgICAgICAgICBob3VyICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWludXRlIDwgMCkge1xuICAgICAgICAgICAgbWludXRlICs9IDYwO1xuICAgICAgICAgICAgaG91ciAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob3VyID49IDI0KSB7XG4gICAgICAgICAgICBob3VyID0gaG91ciAtIDI0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhvdXIgPCAwKSB7XG4gICAgICAgICAgICBob3VyID0gMjQgKyBob3VyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwZXJpb2QgPSBcIlwiO1xuICAgICAgICB2YXIgc2V0UGVyaW9kQmVmb3JlVGltZSA9IGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy51c2UyNEhvdXJUaW1lRm9ybWF0KSB7XG4gICAgICAgICAgICBzZXRQZXJpb2RCZWZvcmVUaW1lID0gISEodGhpcy5pMThuLnNldFBlcmlvZEJlZm9yZVRpbWUgJiYgdGhpcy5pMThuLnNldFBlcmlvZEJlZm9yZVRpbWUoKSk7XG4gICAgICAgICAgICBwZXJpb2QgPSBzZXRQZXJpb2RCZWZvcmVUaW1lID8gXCJcIi5jb25jYXQodGhpcy5nZXRQZXJpb2QoaG91ciksIFwiIFwiKSA6IFwiIFwiLmNvbmNhdCh0aGlzLmdldFBlcmlvZChob3VyKSk7XG4gICAgICAgICAgICBpZiAoaG91ciA+IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciAtPSAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChob3VyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaG91ciA9IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzZWNvbmQgPSBcIlwiO1xuICAgICAgICBpZiAoc2Vjb25kRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgc2Vjb25kID0gXCI6XCIuY29uY2F0KChcIjAwXCIgKyBzZWNvbmRFeHByZXNzaW9uKS5zdWJzdHJpbmcoc2Vjb25kRXhwcmVzc2lvbi5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoc2V0UGVyaW9kQmVmb3JlVGltZSA/IHBlcmlvZCA6IFwiXCIpLmNvbmNhdCgoXCIwMFwiICsgaG91ci50b1N0cmluZygpKS5zdWJzdHJpbmcoaG91ci50b1N0cmluZygpLmxlbmd0aCksIFwiOlwiKS5jb25jYXQoKFwiMDBcIiArIG1pbnV0ZS50b1N0cmluZygpKS5zdWJzdHJpbmcobWludXRlLnRvU3RyaW5nKCkubGVuZ3RoKSkuY29uY2F0KHNlY29uZCkuY29uY2F0KCFzZXRQZXJpb2RCZWZvcmVUaW1lID8gcGVyaW9kIDogXCJcIik7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uRGVzY3JpcHRvci5wcm90b3R5cGUudHJhbnNmb3JtVmVyYm9zaXR5ID0gZnVuY3Rpb24gKGRlc2NyaXB0aW9uLCB1c2VWZXJib3NlRm9ybWF0KSB7XG4gICAgICAgIGlmICghdXNlVmVyYm9zZUZvcm1hdCkge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5yZXBsYWNlKG5ldyBSZWdFeHAoXCIsIFwiLmNvbmNhdCh0aGlzLmkxOG4uZXZlcnlNaW51dGUoKSksIFwiZ1wiKSwgXCJcIik7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnJlcGxhY2UobmV3IFJlZ0V4cChcIiwgXCIuY29uY2F0KHRoaXMuaTE4bi5ldmVyeUhvdXIoKSksIFwiZ1wiKSwgXCJcIik7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnJlcGxhY2UobmV3IFJlZ0V4cCh0aGlzLmkxOG4uY29tbWFFdmVyeURheSgpLCBcImdcIiksIFwiXCIpO1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5yZXBsYWNlKC9cXCwgPyQvLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfTtcbiAgICBFeHByZXNzaW9uRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0UGVyaW9kID0gZnVuY3Rpb24gKGhvdXIpIHtcbiAgICAgICAgcmV0dXJuIGhvdXIgPj0gMTIgPyAodGhpcy5pMThuLnBtICYmIHRoaXMuaTE4bi5wbSgpKSB8fCBcIlBNXCIgOiAodGhpcy5pMThuLmFtICYmIHRoaXMuaTE4bi5hbSgpKSB8fCBcIkFNXCI7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uRGVzY3JpcHRvci5sb2NhbGVzID0ge307XG4gICAgcmV0dXJuIEV4cHJlc3Npb25EZXNjcmlwdG9yO1xufSgpKTtcbmV4cG9ydHMuRXhwcmVzc2lvbkRlc2NyaXB0b3IgPSBFeHByZXNzaW9uRGVzY3JpcHRvcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gMzM2OlxuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgPT4ge1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHsgdmFsdWU6IHRydWUgfSkpO1xuZXhwb3J0cy5lbkxvY2FsZUxvYWRlciA9IHZvaWQgMDtcbnZhciBlbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NTEpO1xudmFyIGVuTG9jYWxlTG9hZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBlbkxvY2FsZUxvYWRlcigpIHtcbiAgICB9XG4gICAgZW5Mb2NhbGVMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoYXZhaWxhYmxlTG9jYWxlcykge1xuICAgICAgICBhdmFpbGFibGVMb2NhbGVzW1wiZW5cIl0gPSBuZXcgZW5fMS5lbigpO1xuICAgIH07XG4gICAgcmV0dXJuIGVuTG9jYWxlTG9hZGVyO1xufSgpKTtcbmV4cG9ydHMuZW5Mb2NhbGVMb2FkZXIgPSBlbkxvY2FsZUxvYWRlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gNzUxOlxuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cykgPT4ge1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHsgdmFsdWU6IHRydWUgfSkpO1xuZXhwb3J0cy5lbiA9IHZvaWQgMDtcbnZhciBlbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZW4oKSB7XG4gICAgfVxuICAgIGVuLnByb3RvdHlwZS5hdFgwU2Vjb25kc1Bhc3RUaGVNaW51dGVHdDIwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5hdFgwTWludXRlc1Bhc3RUaGVIb3VyR3QyMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuY29tbWFNb250aFgwVGhyb3VnaE1vbnRoWDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmNvbW1hWWVhclgwVGhyb3VnaFllYXJYMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUudXNlMjRIb3VyVGltZUZvcm1hdEJ5RGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmFuRXJyb3JPY2N1cmVkV2hlbkdlbmVyYXRpbmdUaGVFeHByZXNzaW9uRCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGdlbmVyYXRpbmcgdGhlIGV4cHJlc3Npb24gZGVzY3JpcHRpb24uICBDaGVjayB0aGUgY3JvbiBleHByZXNzaW9uIHN5bnRheC5cIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5ldmVyeU1pbnV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiZXZlcnkgbWludXRlXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuZXZlcnlIb3VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJldmVyeSBob3VyXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuYXRTcGFjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiQXQgXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuZXZlcnlNaW51dGVCZXR3ZWVuWDBBbmRYMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiRXZlcnkgbWludXRlIGJldHdlZW4gJXMgYW5kICVzXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIkF0XCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuc3BhY2VBbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIiBhbmRcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5ldmVyeVNlY29uZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiZXZlcnkgc2Vjb25kXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuZXZlcnlYMFNlY29uZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcImV2ZXJ5ICVzIHNlY29uZHNcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5zZWNvbmRzWDBUaHJvdWdoWDFQYXN0VGhlTWludXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJzZWNvbmRzICVzIHRocm91Z2ggJXMgcGFzdCB0aGUgbWludXRlXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuYXRYMFNlY29uZHNQYXN0VGhlTWludXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJhdCAlcyBzZWNvbmRzIHBhc3QgdGhlIG1pbnV0ZVwiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmV2ZXJ5WDBNaW51dGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJldmVyeSAlcyBtaW51dGVzXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUubWludXRlc1gwVGhyb3VnaFgxUGFzdFRoZUhvdXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIm1pbnV0ZXMgJXMgdGhyb3VnaCAlcyBwYXN0IHRoZSBob3VyXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuYXRYME1pbnV0ZXNQYXN0VGhlSG91ciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiYXQgJXMgbWludXRlcyBwYXN0IHRoZSBob3VyXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuZXZlcnlYMEhvdXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJldmVyeSAlcyBob3Vyc1wiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmJldHdlZW5YMEFuZFgxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJiZXR3ZWVuICVzIGFuZCAlc1wiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmF0WDAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcImF0ICVzXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuY29tbWFFdmVyeURheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiLCBldmVyeSBkYXlcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5jb21tYUV2ZXJ5WDBEYXlzT2ZUaGVXZWVrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCIsIGV2ZXJ5ICVzIGRheXMgb2YgdGhlIHdlZWtcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5jb21tYVgwVGhyb3VnaFgxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCIsICVzIHRocm91Z2ggJXNcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5jb21tYUFuZFgwVGhyb3VnaFgxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCIsICVzIHRocm91Z2ggJXNcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiZmlyc3RcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5zZWNvbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcInNlY29uZFwiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLnRoaXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJ0aGlyZFwiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmZvdXJ0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiZm91cnRoXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuZmlmdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcImZpZnRoXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuY29tbWFPblRoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiLCBvbiB0aGUgXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuc3BhY2VYME9mVGhlTW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIiAlcyBvZiB0aGUgbW9udGhcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5sYXN0RGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJ0aGUgbGFzdCBkYXlcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5jb21tYU9uVGhlTGFzdFgwT2ZUaGVNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiLCBvbiB0aGUgbGFzdCAlcyBvZiB0aGUgbW9udGhcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5jb21tYU9ubHlPblgwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCIsIG9ubHkgb24gJXNcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5jb21tYUFuZE9uWDAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIiwgYW5kIG9uICVzXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuY29tbWFFdmVyeVgwTW9udGhzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCIsIGV2ZXJ5ICVzIG1vbnRoc1wiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmNvbW1hT25seUluWDAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIiwgb25seSBpbiAlc1wiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmNvbW1hT25UaGVMYXN0RGF5T2ZUaGVNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiLCBvbiB0aGUgbGFzdCBkYXkgb2YgdGhlIG1vbnRoXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuY29tbWFPblRoZUxhc3RXZWVrZGF5T2ZUaGVNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiLCBvbiB0aGUgbGFzdCB3ZWVrZGF5IG9mIHRoZSBtb250aFwiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmNvbW1hRGF5c0JlZm9yZVRoZUxhc3REYXlPZlRoZU1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCIsICVzIGRheXMgYmVmb3JlIHRoZSBsYXN0IGRheSBvZiB0aGUgbW9udGhcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5maXJzdFdlZWtkYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcImZpcnN0IHdlZWtkYXlcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS53ZWVrZGF5TmVhcmVzdERheVgwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJ3ZWVrZGF5IG5lYXJlc3QgZGF5ICVzXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuY29tbWFPblRoZVgwT2ZUaGVNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiLCBvbiB0aGUgJXMgb2YgdGhlIG1vbnRoXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuY29tbWFFdmVyeVgwRGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiLCBldmVyeSAlcyBkYXlzXCI7XG4gICAgfTtcbiAgICBlbi5wcm90b3R5cGUuY29tbWFCZXR3ZWVuRGF5WDBBbmRYMU9mVGhlTW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIiwgYmV0d2VlbiBkYXkgJXMgYW5kICVzIG9mIHRoZSBtb250aFwiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmNvbW1hT25EYXlYME9mVGhlTW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIiwgb24gZGF5ICVzIG9mIHRoZSBtb250aFwiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmNvbW1hRXZlcnlIb3VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCIsIGV2ZXJ5IGhvdXJcIjtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5jb21tYUV2ZXJ5WDBZZWFycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiLCBldmVyeSAlcyB5ZWFyc1wiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmNvbW1hU3RhcnRpbmdYMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiLCBzdGFydGluZyAlc1wiO1xuICAgIH07XG4gICAgZW4ucHJvdG90eXBlLmRheXNPZlRoZVdlZWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXTtcbiAgICB9O1xuICAgIGVuLnByb3RvdHlwZS5tb250aHNPZlRoZVllYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIkphbnVhcnlcIixcbiAgICAgICAgICAgIFwiRmVicnVhcnlcIixcbiAgICAgICAgICAgIFwiTWFyY2hcIixcbiAgICAgICAgICAgIFwiQXByaWxcIixcbiAgICAgICAgICAgIFwiTWF5XCIsXG4gICAgICAgICAgICBcIkp1bmVcIixcbiAgICAgICAgICAgIFwiSnVseVwiLFxuICAgICAgICAgICAgXCJBdWd1c3RcIixcbiAgICAgICAgICAgIFwiU2VwdGVtYmVyXCIsXG4gICAgICAgICAgICBcIk9jdG9iZXJcIixcbiAgICAgICAgICAgIFwiTm92ZW1iZXJcIixcbiAgICAgICAgICAgIFwiRGVjZW1iZXJcIixcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIHJldHVybiBlbjtcbn0oKSk7XG5leHBvcnRzLmVuID0gZW47XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDU4Njpcbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMpID0+IHtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7IHZhbHVlOiB0cnVlIH0pKTtcbmZ1bmN0aW9uIGFzc2VydCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbn1cbnZhciBSYW5nZVZhbGlkYXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmFuZ2VWYWxpZGF0b3IoKSB7XG4gICAgfVxuICAgIFJhbmdlVmFsaWRhdG9yLnNlY29uZFJhbmdlID0gZnVuY3Rpb24gKHBhcnNlKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZS5zcGxpdCgnLCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnNlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChwYXJzZWRbaV0sIDEwKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2Vjb25kID0gcGFyc2VJbnQocGFyc2VkW2ldLCAxMCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHNlY29uZCA+PSAwICYmIHNlY29uZCA8PSA1OSwgJ3NlY29uZHMgcGFydCBtdXN0IGJlID49IDAgYW5kIDw9IDU5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJhbmdlVmFsaWRhdG9yLm1pbnV0ZVJhbmdlID0gZnVuY3Rpb24gKHBhcnNlKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZS5zcGxpdCgnLCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnNlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChwYXJzZWRbaV0sIDEwKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWludXRlID0gcGFyc2VJbnQocGFyc2VkW2ldLCAxMCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KG1pbnV0ZSA+PSAwICYmIG1pbnV0ZSA8PSA1OSwgJ21pbnV0ZXMgcGFydCBtdXN0IGJlID49IDAgYW5kIDw9IDU5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJhbmdlVmFsaWRhdG9yLmhvdXJSYW5nZSA9IGZ1bmN0aW9uIChwYXJzZSkge1xuICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2Uuc3BsaXQoJywnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJzZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQocGFyc2VkW2ldLCAxMCkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhvdXIgPSBwYXJzZUludChwYXJzZWRbaV0sIDEwKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoaG91ciA+PSAwICYmIGhvdXIgPD0gMjMsICdob3VycyBwYXJ0IG11c3QgYmUgPj0gMCBhbmQgPD0gMjMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUmFuZ2VWYWxpZGF0b3IuZGF5T2ZNb250aFJhbmdlID0gZnVuY3Rpb24gKHBhcnNlKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZS5zcGxpdCgnLCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnNlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChwYXJzZWRbaV0sIDEwKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF5T2ZNb250aCA9IHBhcnNlSW50KHBhcnNlZFtpXSwgMTApO1xuICAgICAgICAgICAgICAgIGFzc2VydChkYXlPZk1vbnRoID49IDEgJiYgZGF5T2ZNb250aCA8PSAzMSwgJ0RPTSBwYXJ0IG11c3QgYmUgPj0gMSBhbmQgPD0gMzEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUmFuZ2VWYWxpZGF0b3IubW9udGhSYW5nZSA9IGZ1bmN0aW9uIChwYXJzZSwgbW9udGhTdGFydEluZGV4WmVybykge1xuICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2Uuc3BsaXQoJywnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJzZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQocGFyc2VkW2ldLCAxMCkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gcGFyc2VJbnQocGFyc2VkW2ldLCAxMCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KG1vbnRoID49IDEgJiYgbW9udGggPD0gMTIsIG1vbnRoU3RhcnRJbmRleFplcm8gPyAnbW9udGggcGFydCBtdXN0IGJlID49IDAgYW5kIDw9IDExJyA6ICdtb250aCBwYXJ0IG11c3QgYmUgPj0gMSBhbmQgPD0gMTInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUmFuZ2VWYWxpZGF0b3IuZGF5T2ZXZWVrUmFuZ2UgPSBmdW5jdGlvbiAocGFyc2UsIGRheU9mV2Vla1N0YXJ0SW5kZXhaZXJvKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZS5zcGxpdCgnLCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnNlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChwYXJzZWRbaV0sIDEwKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF5T2ZXZWVrID0gcGFyc2VJbnQocGFyc2VkW2ldLCAxMCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGRheU9mV2VlayA+PSAwICYmIGRheU9mV2VlayA8PSA2LCBkYXlPZldlZWtTdGFydEluZGV4WmVybyA/ICdET1cgcGFydCBtdXN0IGJlID49IDAgYW5kIDw9IDYnIDogJ0RPVyBwYXJ0IG11c3QgYmUgPj0gMSBhbmQgPD0gNycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmFuZ2VWYWxpZGF0b3I7XG59KCkpO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYW5nZVZhbGlkYXRvcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gOTEwOlxuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cykgPT4ge1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHsgdmFsdWU6IHRydWUgfSkpO1xuZXhwb3J0cy5TdHJpbmdVdGlsaXRpZXMgPSB2b2lkIDA7XG52YXIgU3RyaW5nVXRpbGl0aWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJpbmdVdGlsaXRpZXMoKSB7XG4gICAgfVxuICAgIFN0cmluZ1V0aWxpdGllcy5mb3JtYXQgPSBmdW5jdGlvbiAodGVtcGxhdGUpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFsdWVzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoc3Vic3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5zaGlmdCgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0cmluZ1V0aWxpdGllcy5jb250YWluc0FueSA9IGZ1bmN0aW9uICh0ZXh0LCBzZWFyY2hTdHJpbmdzKSB7XG4gICAgICAgIHJldHVybiBzZWFyY2hTdHJpbmdzLnNvbWUoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LmluZGV4T2YoYykgPiAtMTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RyaW5nVXRpbGl0aWVzO1xufSgpKTtcbmV4cG9ydHMuU3RyaW5nVXRpbGl0aWVzID0gU3RyaW5nVXRpbGl0aWVzO1xuXG5cbi8qKiovIH0pXG5cbi8qKioqKiovIFx0fSk7XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcbi8qKioqKiovIFx0XHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi8gXHRcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IHt9O1xuLy8gVGhpcyBlbnRyeSBuZWVkIHRvIGJlIHdyYXBwZWQgaW4gYW4gSUlGRSBiZWNhdXNlIGl0IG5lZWQgdG8gYmUgaXNvbGF0ZWQgYWdhaW5zdCBvdGhlciBtb2R1bGVzIGluIHRoZSBjaHVuay5cbigoKSA9PiB7XG52YXIgZXhwb3J0cyA9IF9fd2VicGFja19leHBvcnRzX187XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHsgdmFsdWU6IHRydWUgfSkpO1xuZXhwb3J0cy50b1N0cmluZyA9IHZvaWQgMDtcbnZhciBleHByZXNzaW9uRGVzY3JpcHRvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjgpO1xudmFyIGVuTG9jYWxlTG9hZGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNik7XG5leHByZXNzaW9uRGVzY3JpcHRvcl8xLkV4cHJlc3Npb25EZXNjcmlwdG9yLmluaXRpYWxpemUobmV3IGVuTG9jYWxlTG9hZGVyXzEuZW5Mb2NhbGVMb2FkZXIoKSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGV4cHJlc3Npb25EZXNjcmlwdG9yXzEuRXhwcmVzc2lvbkRlc2NyaXB0b3I7XG52YXIgdG9TdHJpbmcgPSBleHByZXNzaW9uRGVzY3JpcHRvcl8xLkV4cHJlc3Npb25EZXNjcmlwdG9yLnRvU3RyaW5nO1xuZXhwb3J0cy50b1N0cmluZyA9IHRvU3RyaW5nO1xuXG59KSgpO1xuXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfZXhwb3J0c19fO1xuLyoqKioqKi8gfSkoKVxuO1xufSk7IiwgImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVSb290IH0gZnJvbSAncmVhY3QtZG9tL2NsaWVudCc7XG5pbXBvcnQgeyBjcmVhdGVXb3JrZmxvd1N0b3JlIH0gZnJvbSAnLi9zdG9yZSc7XG5cbmltcG9ydCBXb3JrZmxvd0RpYWdyYW0gZnJvbSAnLi4vd29ya2Zsb3ctZGlhZ3JhbS9Xb3JrZmxvd0RpYWdyYW0nO1xuXG50eXBlIFN0b3JlID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlV29ya2Zsb3dTdG9yZT47XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudChcbiAgZWw6IEhUTUxFbGVtZW50LFxuICB3b3JrZmxvd1N0b3JlOiBTdG9yZSxcbiAgb25TZWxlY3Rpb25DaGFuZ2U6IChpZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZFxuKSB7XG4gIGNvbnN0IGNvbXBvbmVudFJvb3QgPSBjcmVhdGVSb290KGVsKTtcblxuICBjb25zdCBpbml0aWFsU2VsZWN0aW9uID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikuc2VhcmNoUGFyYW1zLmdldCgncycpO1xuICByZW5kZXIoaW5pdGlhbFNlbGVjdGlvbik7XG5cbiAgZnVuY3Rpb24gcmVuZGVyKHNlbGVjdGlvbj86IHN0cmluZyB8IG51bGwpIHtcbiAgICBjb21wb25lbnRSb290LnJlbmRlcihcbiAgICAgIDxXb3JrZmxvd0RpYWdyYW1cbiAgICAgICAgcmVmPXtlbH1cbiAgICAgICAgc2VsZWN0aW9uPXtzZWxlY3Rpb24gfHwgbnVsbH1cbiAgICAgICAgc3RvcmU9e3dvcmtmbG93U3RvcmV9XG4gICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXtvblNlbGVjdGlvbkNoYW5nZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudFJvb3QudW5tb3VudCgpO1xuICB9XG5cbiAgcmV0dXJuIHsgdW5tb3VudCwgcmVuZGVyIH07XG59XG4iLCAiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RGbG93LCB7XG4gIE5vZGVDaGFuZ2UsXG4gIFJlYWN0Rmxvd0luc3RhbmNlLFxuICBSZWFjdEZsb3dQcm92aWRlcixcbiAgYXBwbHlOb2RlQ2hhbmdlcyxcbn0gZnJvbSAncmVhY3RmbG93JztcbmltcG9ydCB7IHVzZVN0b3JlLCBTdG9yZUFwaSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgc2hhbGxvdyB9IGZyb20gJ3p1c3RhbmQvc2hhbGxvdyc7XG5cbmltcG9ydCBsYXlvdXQgZnJvbSAnLi9sYXlvdXQnO1xuaW1wb3J0IG5vZGVUeXBlcyBmcm9tICcuL25vZGVzJztcbmltcG9ydCBlZGdlVHlwZXMgZnJvbSAnLi9lZGdlcyc7XG5pbXBvcnQgdXNlUGxhY2Vob2xkZXJzIGZyb20gJy4vdXNlUGxhY2Vob2xkZXJzJztcbmltcG9ydCBmcm9tV29ya2Zsb3cgZnJvbSAnLi91dGlsL2Zyb20td29ya2Zsb3cnO1xuaW1wb3J0IHRocm90dGxlIGZyb20gJy4vdXRpbC90aHJvdHRsZSc7XG5pbXBvcnQgdXBkYXRlU2VsZWN0aW9uU3R5bGVzIGZyb20gJy4vdXRpbC91cGRhdGUtc2VsZWN0aW9uJztcbmltcG9ydCB7IEZJVF9EVVJBVElPTiwgRklUX1BBRERJTkcgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgc2hvdWxkTGF5b3V0IGZyb20gJy4vdXRpbC9zaG91bGQtbGF5b3V0JztcblxuaW1wb3J0IHR5cGUgeyBXb3JrZmxvd1N0YXRlIH0gZnJvbSAnLi4vd29ya2Zsb3ctZWRpdG9yL3N0b3JlJztcbmltcG9ydCB0eXBlIHsgRmxvdywgUG9zaXRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5cbnR5cGUgV29ya2Zsb3dEaWFncmFtUHJvcHMgPSB7XG4gIHNlbGVjdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgb25TZWxlY3Rpb25DaGFuZ2U6IChpZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgc3RvcmU6IFN0b3JlQXBpPFdvcmtmbG93U3RhdGU+O1xufTtcblxudHlwZSBDaGFydENhY2hlID0ge1xuICBwb3NpdGlvbnM6IFBvc2l0aW9ucztcbiAgbGFzdFNlbGVjdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgbGFzdExheW91dD86IHN0cmluZztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0LmZvcndhcmRSZWY8SFRNTEVsZW1lbnQsIFdvcmtmbG93RGlhZ3JhbVByb3BzPihcbiAgKHByb3BzLCByZWYpID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdGlvbiwgb25TZWxlY3Rpb25DaGFuZ2UsIHN0b3JlIH0gPSBwcm9wcztcblxuICAgIGNvbnN0IFttb2RlbCwgc2V0TW9kZWxdID0gdXNlU3RhdGU8Rmxvdy5Nb2RlbD4oeyBub2RlczogW10sIGVkZ2VzOiBbXSB9KTtcblxuICAgIGNvbnN0IHVwZGF0ZVNlbGVjdGlvbiA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGlkPzogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgICAgICBpZCA9IGlkIHx8IG51bGw7XG5cbiAgICAgICAgY2hhcnRDYWNoZS5jdXJyZW50Lmxhc3RTZWxlY3Rpb24gPSBpZDtcbiAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2UoaWQpO1xuICAgICAgfSxcbiAgICAgIFtvblNlbGVjdGlvbkNoYW5nZSwgc2VsZWN0aW9uXVxuICAgICk7XG5cbiAgICBjb25zdCB7XG4gICAgICBwbGFjZWhvbGRlcnMsXG4gICAgICBhZGQ6IGFkZFBsYWNlaG9sZGVyLFxuICAgICAgY2FuY2VsOiBjYW5jZWxQbGFjZWhvbGRlcixcbiAgICB9ID0gdXNlUGxhY2Vob2xkZXJzKHJlZiwgc3RvcmUsIHVwZGF0ZVNlbGVjdGlvbik7XG5cbiAgICBjb25zdCB3b3JrZmxvdyA9IHVzZVN0b3JlKFxuICAgICAgc3RvcmUhLFxuICAgICAgc3RhdGUgPT4gKHtcbiAgICAgICAgam9iczogc3RhdGUuam9icyxcbiAgICAgICAgdHJpZ2dlcnM6IHN0YXRlLnRyaWdnZXJzLFxuICAgICAgICBlZGdlczogc3RhdGUuZWRnZXMsXG4gICAgICB9KSxcbiAgICAgIHNoYWxsb3dcbiAgICApO1xuXG4gICAgLy8gVHJhY2sgcG9zaXRpb25zIGFuZCBzZWxlY3Rpb24gb24gYSByZWYsIGFzIGEgcGFzc2l2ZSBjYWNoZSwgdG8gcHJldmVudCByZS1yZW5kZXJzXG4gICAgY29uc3QgY2hhcnRDYWNoZSA9IHVzZVJlZjxDaGFydENhY2hlPih7XG4gICAgICBwb3NpdGlvbnM6IHt9LFxuICAgICAgLy8gVGhpcyB3aWxsIHNldCB0aGUgaW5pdGlhbCBzZWxlY3Rpb24gaW50byB0aGUgY2FjaGVcbiAgICAgIGxhc3RTZWxlY3Rpb246IHNlbGVjdGlvbixcbiAgICAgIGxhc3RMYXlvdXQ6IHVuZGVmaW5lZCxcbiAgICB9KTtcblxuICAgIGNvbnN0IFtmbG93LCBzZXRGbG93XSA9IHVzZVN0YXRlPFJlYWN0Rmxvd0luc3RhbmNlPigpO1xuXG4gICAgLy8gUmVzcG9uZCB0byBjaGFuZ2VzIHB1c2hlZCBpbnRvIHRoZSBjb21wb25lbnQgZnJvbSBvdXRzaWRlXG4gICAgLy8gVGhpcyB1c3VhbGx5IG1lYW5zIHRoZSB3b3JrZmxvdyBoYXMgY2hhbmdlZCBvciBpdHMgdGhlIGZpcnN0IGxvYWQsIHNvIHdlIGRvbid0IHdhbnQgdG8gYW5pbWF0ZVxuICAgIC8vIExhdGVyLCBpZiByZXNwb25kaW5nIHRvIGNoYW5nZXMgZnJvbSBvdGhlciB1c2VycyBsaXZlLCB3ZSBtYXkgd2FudCB0byBhbmltYXRlXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IHsgcG9zaXRpb25zIH0gPSBjaGFydENhY2hlLmN1cnJlbnQ7XG4gICAgICBjb25zdCBuZXdNb2RlbCA9IGZyb21Xb3JrZmxvdyhcbiAgICAgICAgd29ya2Zsb3csXG4gICAgICAgIHBvc2l0aW9ucyxcbiAgICAgICAgcGxhY2Vob2xkZXJzLFxuICAgICAgICAvLyBSZS1yZW5kZXIgdGhlIG1vZGVsIGJhc2VkIG9uIHdoYXRldmVyIHdhcyBsYXN0IHNlbGVjdGVkXG4gICAgICAgIC8vIFRoaXMgaGFuZGxlcyBmaXJzdCBsb2FkIGFuZCBuZXcgbm9kZSBzYWZlbHlcbiAgICAgICAgY2hhcnRDYWNoZS5jdXJyZW50Lmxhc3RTZWxlY3Rpb25cbiAgICAgICk7XG4gICAgICBpZiAoZmxvdyAmJiBuZXdNb2RlbC5ub2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbGF5b3V0SWQgPSBzaG91bGRMYXlvdXQoXG4gICAgICAgICAgbmV3TW9kZWwuZWRnZXMsXG4gICAgICAgICAgY2hhcnRDYWNoZS5jdXJyZW50Lmxhc3RMYXlvdXRcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAobGF5b3V0SWQpIHtcbiAgICAgICAgICBjaGFydENhY2hlLmN1cnJlbnQubGFzdExheW91dCA9IGxheW91dElkO1xuICAgICAgICAgIGxheW91dChuZXdNb2RlbCwgc2V0TW9kZWwsIGZsb3csIDMwMCkudGhlbihwb3NpdGlvbnMgPT4ge1xuICAgICAgICAgICAgLy8gTm90ZSB3ZSBkb24ndCB1cGRhdGUgcG9zaXRpb25zIHVudGlsIHRoZSBhbmltYXRpb24gaGFzIGZpbmlzaGVkXG4gICAgICAgICAgICBjaGFydENhY2hlLmN1cnJlbnQucG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIGxheW91dCBpcyBpZCwgZW5zdXJlIG5vZGVzIGhhdmUgcG9zaXRpb25zXG4gICAgICAgICAgLy8gVGhpcyBpcyByZWFsbHkgb25seSBuZWVkZWQgd2hlbiB0aGVyZSdzIGEgc2luZ2xlIHRyaWdnZXIgbm9kZVxuICAgICAgICAgIG5ld01vZGVsLm5vZGVzLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgICBpZiAoIW4ucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgbi5wb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldE1vZGVsKG5ld01vZGVsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhcnRDYWNoZS5jdXJyZW50LnBvc2l0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgIH0sIFt3b3JrZmxvdywgZmxvdywgcGxhY2Vob2xkZXJzXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZE1vZGVsID0gdXBkYXRlU2VsZWN0aW9uU3R5bGVzKG1vZGVsLCBzZWxlY3Rpb24pO1xuICAgICAgc2V0TW9kZWwodXBkYXRlZE1vZGVsKTtcbiAgICB9LCBbc2VsZWN0aW9uXSk7XG5cbiAgICBjb25zdCBvbk5vZGVzQ2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgICAoY2hhbmdlczogTm9kZUNoYW5nZVtdKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld05vZGVzID0gYXBwbHlOb2RlQ2hhbmdlcyhjaGFuZ2VzLCBtb2RlbC5ub2Rlcyk7XG4gICAgICAgIHNldE1vZGVsKHsgbm9kZXM6IG5ld05vZGVzLCBlZGdlczogbW9kZWwuZWRnZXMgfSk7XG4gICAgICB9LFxuICAgICAgW3NldE1vZGVsLCBtb2RlbF1cbiAgICApO1xuXG4gICAgY29uc3QgaGFuZGxlTm9kZUNsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgICAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQsIG5vZGU6IEZsb3cuTm9kZSkgPT4ge1xuICAgICAgICBpZiAoKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdCgnW25hbWU9YWRkLW5vZGVdJykpIHtcbiAgICAgICAgICBhZGRQbGFjZWhvbGRlcihub2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobm9kZS50eXBlICE9ICdwbGFjZWhvbGRlcicpIGNhbmNlbFBsYWNlaG9sZGVyKCk7XG5cbiAgICAgICAgICB1cGRhdGVTZWxlY3Rpb24obm9kZS5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbdXBkYXRlU2VsZWN0aW9uXVxuICAgICk7XG5cbiAgICBjb25zdCBoYW5kbGVFZGdlQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAgIChfZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQsIGVkZ2U6IEZsb3cuRWRnZSkgPT4ge1xuICAgICAgICBjYW5jZWxQbGFjZWhvbGRlcigpO1xuICAgICAgICB1cGRhdGVTZWxlY3Rpb24oZWRnZS5pZCk7XG4gICAgICB9LFxuICAgICAgW3VwZGF0ZVNlbGVjdGlvbl1cbiAgICApO1xuXG4gICAgY29uc3QgaGFuZGxlQmFja2dyb3VuZENsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgICAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3Q/LmNvbnRhaW5zKCdyZWFjdC1mbG93X19wYW5lJykpIHtcbiAgICAgICAgICBjYW5jZWxQbGFjZWhvbGRlcigpO1xuICAgICAgICAgIHVwZGF0ZVNlbGVjdGlvbihudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFt1cGRhdGVTZWxlY3Rpb25dXG4gICAgKTtcblxuICAgIC8vIFRyaWdnZXIgYSBmaXQgd2hlbiB0aGUgcGFyZW50IGRpdiBjaGFuZ2VzIHNpemVcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGZsb3cgJiYgcmVmKSB7XG4gICAgICAgIGxldCBpc0ZpcnN0Q2FsbGJhY2sgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHRocm90dGxlZFJlc2l6ZSA9IHRocm90dGxlKCgpID0+IHtcbiAgICAgICAgICBmbG93LmZpdFZpZXcoeyBkdXJhdGlvbjogRklUX0RVUkFUSU9OLCBwYWRkaW5nOiBGSVRfUEFERElORyB9KTtcbiAgICAgICAgfSwgRklUX0RVUkFUSU9OICogMik7XG5cbiAgICAgICAgY29uc3QgcmVzaXplT2IgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgICAgICBpZiAoIWlzRmlyc3RDYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gRG9uJ3QgZml0IHdoZW4gdGhlIGxpc3RlbmVyIGF0dGFjaGVzIChpdCBjYWxsc2JhY2sgaW1tZWRpYXRlbHkpXG4gICAgICAgICAgICB0aHJvdHRsZWRSZXNpemUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNGaXJzdENhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXNpemVPYi5vYnNlcnZlKHJlZik7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICB0aHJvdHRsZWRSZXNpemUuY2FuY2VsKCk7XG4gICAgICAgICAgcmVzaXplT2IudW5vYnNlcnZlKHJlZik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgW2Zsb3csIHJlZl0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdEZsb3dQcm92aWRlcj5cbiAgICAgICAgPFJlYWN0Rmxvd1xuICAgICAgICAgIHByb09wdGlvbnM9e3sgYWNjb3VudDogJ3BhaWQtcHJvJywgaGlkZUF0dHJpYnV0aW9uOiB0cnVlIH19XG4gICAgICAgICAgbm9kZXM9e21vZGVsLm5vZGVzfVxuICAgICAgICAgIGVkZ2VzPXttb2RlbC5lZGdlc31cbiAgICAgICAgICBvbk5vZGVzQ2hhbmdlPXtvbk5vZGVzQ2hhbmdlfVxuICAgICAgICAgIG5vZGVzRHJhZ2dhYmxlPXtmYWxzZX1cbiAgICAgICAgICBub2RlVHlwZXM9e25vZGVUeXBlc31cbiAgICAgICAgICBlZGdlVHlwZXM9e2VkZ2VUeXBlc31cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVCYWNrZ3JvdW5kQ2xpY2t9XG4gICAgICAgICAgb25Ob2RlQ2xpY2s9e2hhbmRsZU5vZGVDbGlja31cbiAgICAgICAgICBvbkVkZ2VDbGljaz17aGFuZGxlRWRnZUNsaWNrfVxuICAgICAgICAgIG9uSW5pdD17c2V0Rmxvd31cbiAgICAgICAgICBkZWxldGVLZXlDb2RlPXtudWxsfVxuICAgICAgICAgIGZpdFZpZXdcbiAgICAgICAgICBmaXRWaWV3T3B0aW9ucz17eyBwYWRkaW5nOiBGSVRfUEFERElORyB9fVxuICAgICAgICAvPlxuICAgICAgPC9SZWFjdEZsb3dQcm92aWRlcj5cbiAgICApO1xuICB9XG4pO1xuIiwgImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VNZW1vLCBtZW1vLCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIGZvcndhcmRSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNjIGZyb20gJ2NsYXNzY2F0JztcbmltcG9ydCB7IHVzZVN0b3JlV2l0aEVxdWFsaXR5Rm4sIGNyZWF0ZVdpdGhFcXVhbGl0eUZuIH0gZnJvbSAnenVzdGFuZC90cmFkaXRpb25hbCc7XG5pbXBvcnQgeyBzaGFsbG93IH0gZnJvbSAnenVzdGFuZC9zaGFsbG93JztcbmltcG9ydCB7IHpvb21JZGVudGl0eSwgem9vbSB9IGZyb20gJ2QzLXpvb20nO1xuaW1wb3J0IHsgc2VsZWN0LCBwb2ludGVyIH0gZnJvbSAnZDMtc2VsZWN0aW9uJztcbmltcG9ydCB7IGRyYWcgfSBmcm9tICdkMy1kcmFnJztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7XG5cbmNvbnN0IFN0b3JlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCBQcm92aWRlciQxID0gU3RvcmVDb250ZXh0LlByb3ZpZGVyO1xuXG5jb25zdCBlcnJvck1lc3NhZ2VzID0ge1xuICAgIGVycm9yMDAxOiAoKSA9PiAnW1JlYWN0IEZsb3ddOiBTZWVtcyBsaWtlIHlvdSBoYXZlIG5vdCB1c2VkIHp1c3RhbmQgcHJvdmlkZXIgYXMgYW4gYW5jZXN0b3IuIEhlbHA6IGh0dHBzOi8vcmVhY3RmbG93LmRldi9lcnJvciMwMDEnLFxuICAgIGVycm9yMDAyOiAoKSA9PiBcIkl0IGxvb2tzIGxpa2UgeW91J3ZlIGNyZWF0ZWQgYSBuZXcgbm9kZVR5cGVzIG9yIGVkZ2VUeXBlcyBvYmplY3QuIElmIHRoaXMgd2Fzbid0IG9uIHB1cnBvc2UgcGxlYXNlIGRlZmluZSB0aGUgbm9kZVR5cGVzL2VkZ2VUeXBlcyBvdXRzaWRlIG9mIHRoZSBjb21wb25lbnQgb3IgbWVtb2l6ZSB0aGVtLlwiLFxuICAgIGVycm9yMDAzOiAobm9kZVR5cGUpID0+IGBOb2RlIHR5cGUgXCIke25vZGVUeXBlfVwiIG5vdCBmb3VuZC4gVXNpbmcgZmFsbGJhY2sgdHlwZSBcImRlZmF1bHRcIi5gLFxuICAgIGVycm9yMDA0OiAoKSA9PiAnVGhlIFJlYWN0IEZsb3cgcGFyZW50IGNvbnRhaW5lciBuZWVkcyBhIHdpZHRoIGFuZCBhIGhlaWdodCB0byByZW5kZXIgdGhlIGdyYXBoLicsXG4gICAgZXJyb3IwMDU6ICgpID0+ICdPbmx5IGNoaWxkIG5vZGVzIGNhbiB1c2UgYSBwYXJlbnQgZXh0ZW50LicsXG4gICAgZXJyb3IwMDY6ICgpID0+IFwiQ2FuJ3QgY3JlYXRlIGVkZ2UuIEFuIGVkZ2UgbmVlZHMgYSBzb3VyY2UgYW5kIGEgdGFyZ2V0LlwiLFxuICAgIGVycm9yMDA3OiAoaWQpID0+IGBUaGUgb2xkIGVkZ2Ugd2l0aCBpZD0ke2lkfSBkb2VzIG5vdCBleGlzdC5gLFxuICAgIGVycm9yMDA5OiAodHlwZSkgPT4gYE1hcmtlciB0eXBlIFwiJHt0eXBlfVwiIGRvZXNuJ3QgZXhpc3QuYCxcbiAgICBlcnJvcjAwODogKHNvdXJjZUhhbmRsZSwgZWRnZSkgPT4gYENvdWxkbid0IGNyZWF0ZSBlZGdlIGZvciAkeyFzb3VyY2VIYW5kbGUgPyAnc291cmNlJyA6ICd0YXJnZXQnfSBoYW5kbGUgaWQ6IFwiJHshc291cmNlSGFuZGxlID8gZWRnZS5zb3VyY2VIYW5kbGUgOiBlZGdlLnRhcmdldEhhbmRsZX1cIiwgZWRnZSBpZDogJHtlZGdlLmlkfS5gLFxuICAgIGVycm9yMDEwOiAoKSA9PiAnSGFuZGxlOiBObyBub2RlIGlkIGZvdW5kLiBNYWtlIHN1cmUgdG8gb25seSB1c2UgYSBIYW5kbGUgaW5zaWRlIGEgY3VzdG9tIE5vZGUuJyxcbiAgICBlcnJvcjAxMTogKGVkZ2VUeXBlKSA9PiBgRWRnZSB0eXBlIFwiJHtlZGdlVHlwZX1cIiBub3QgZm91bmQuIFVzaW5nIGZhbGxiYWNrIHR5cGUgXCJkZWZhdWx0XCIuYCxcbiAgICBlcnJvcjAxMjogKGlkKSA9PiBgTm9kZSB3aXRoIGlkIFwiJHtpZH1cIiBkb2VzIG5vdCBleGlzdCwgaXQgbWF5IGhhdmUgYmVlbiByZW1vdmVkLiBUaGlzIGNhbiBoYXBwZW4gd2hlbiBhIG5vZGUgaXMgZGVsZXRlZCBiZWZvcmUgdGhlIFwib25Ob2RlQ2xpY2tcIiBoYW5kbGVyIGlzIGNhbGxlZC5gLFxufTtcblxuY29uc3QgenVzdGFuZEVycm9yTWVzc2FnZSA9IGVycm9yTWVzc2FnZXNbJ2Vycm9yMDAxJ10oKTtcbmZ1bmN0aW9uIHVzZVN0b3JlKHNlbGVjdG9yLCBlcXVhbGl0eUZuKSB7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VDb250ZXh0KFN0b3JlQ29udGV4dCk7XG4gICAgaWYgKHN0b3JlID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih6dXN0YW5kRXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHVzZVN0b3JlV2l0aEVxdWFsaXR5Rm4oc3RvcmUsIHNlbGVjdG9yLCBlcXVhbGl0eUZuKTtcbn1cbmNvbnN0IHVzZVN0b3JlQXBpID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0b3JlID0gdXNlQ29udGV4dChTdG9yZUNvbnRleHQpO1xuICAgIGlmIChzdG9yZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoenVzdGFuZEVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgc2V0U3RhdGU6IHN0b3JlLnNldFN0YXRlLFxuICAgICAgICBzdWJzY3JpYmU6IHN0b3JlLnN1YnNjcmliZSxcbiAgICAgICAgZGVzdHJveTogc3RvcmUuZGVzdHJveSxcbiAgICB9KSwgW3N0b3JlXSk7XG59O1xuXG5jb25zdCBzZWxlY3RvciRnID0gKHMpID0+IChzLnVzZXJTZWxlY3Rpb25BY3RpdmUgPyAnbm9uZScgOiAnYWxsJyk7XG5mdW5jdGlvbiBQYW5lbCh7IHBvc2l0aW9uLCBjaGlsZHJlbiwgY2xhc3NOYW1lLCBzdHlsZSwgLi4ucmVzdCB9KSB7XG4gICAgY29uc3QgcG9pbnRlckV2ZW50cyA9IHVzZVN0b3JlKHNlbGVjdG9yJGcpO1xuICAgIGNvbnN0IHBvc2l0aW9uQ2xhc3NlcyA9IGAke3Bvc2l0aW9ufWAuc3BsaXQoJy0nKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNjKFsncmVhY3QtZmxvd19fcGFuZWwnLCBjbGFzc05hbWUsIC4uLnBvc2l0aW9uQ2xhc3Nlc10pLCBzdHlsZTogeyAuLi5zdHlsZSwgcG9pbnRlckV2ZW50cyB9LCAuLi5yZXN0IH0sIGNoaWxkcmVuKSk7XG59XG5cbmZ1bmN0aW9uIEF0dHJpYnV0aW9uKHsgcHJvT3B0aW9ucywgcG9zaXRpb24gPSAnYm90dG9tLXJpZ2h0JyB9KSB7XG4gICAgaWYgKHByb09wdGlvbnM/LmhpZGVBdHRyaWJ1dGlvbikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFBhbmVsLCB7IHBvc2l0aW9uOiBwb3NpdGlvbiwgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2F0dHJpYnV0aW9uXCIsIFwiZGF0YS1tZXNzYWdlXCI6IFwiUGxlYXNlIG9ubHkgaGlkZSB0aGlzIGF0dHJpYnV0aW9uIHdoZW4geW91IGFyZSBzdWJzY3JpYmVkIHRvIFJlYWN0IEZsb3cgUHJvOiBodHRwczovL3Byby5yZWFjdGZsb3cuZGV2XCIgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwgeyBocmVmOiBcImh0dHBzOi8vcmVhY3RmbG93LmRldlwiLCB0YXJnZXQ6IFwiX2JsYW5rXCIsIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsIFwiYXJpYS1sYWJlbFwiOiBcIlJlYWN0IEZsb3cgYXR0cmlidXRpb25cIiB9LCBcIlJlYWN0IEZsb3dcIikpKTtcbn1cblxuY29uc3QgRWRnZVRleHQgPSAoeyB4LCB5LCBsYWJlbCwgbGFiZWxTdHlsZSA9IHt9LCBsYWJlbFNob3dCZyA9IHRydWUsIGxhYmVsQmdTdHlsZSA9IHt9LCBsYWJlbEJnUGFkZGluZyA9IFsyLCA0XSwgbGFiZWxCZ0JvcmRlclJhZGl1cyA9IDIsIGNoaWxkcmVuLCBjbGFzc05hbWUsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IGVkZ2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW2VkZ2VUZXh0QmJveCwgc2V0RWRnZVRleHRCYm94XSA9IHVzZVN0YXRlKHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgICBjb25zdCBlZGdlVGV4dENsYXNzZXMgPSBjYyhbJ3JlYWN0LWZsb3dfX2VkZ2UtdGV4dHdyYXBwZXInLCBjbGFzc05hbWVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZWRnZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0QmJveCA9IGVkZ2VSZWYuY3VycmVudC5nZXRCQm94KCk7XG4gICAgICAgICAgICBzZXRFZGdlVGV4dEJib3goe1xuICAgICAgICAgICAgICAgIHg6IHRleHRCYm94LngsXG4gICAgICAgICAgICAgICAgeTogdGV4dEJib3gueSxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGV4dEJib3gud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0ZXh0QmJveC5oZWlnaHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtsYWJlbF0pO1xuICAgIGlmICh0eXBlb2YgbGFiZWwgPT09ICd1bmRlZmluZWQnIHx8ICFsYWJlbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3ggLSBlZGdlVGV4dEJib3gud2lkdGggLyAyfSAke3kgLSBlZGdlVGV4dEJib3guaGVpZ2h0IC8gMn0pYCwgY2xhc3NOYW1lOiBlZGdlVGV4dENsYXNzZXMsIHZpc2liaWxpdHk6IGVkZ2VUZXh0QmJveC53aWR0aCA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nLCAuLi5yZXN0IH0sXG4gICAgICAgIGxhYmVsU2hvd0JnICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7IHdpZHRoOiBlZGdlVGV4dEJib3gud2lkdGggKyAyICogbGFiZWxCZ1BhZGRpbmdbMF0sIHg6IC1sYWJlbEJnUGFkZGluZ1swXSwgeTogLWxhYmVsQmdQYWRkaW5nWzFdLCBoZWlnaHQ6IGVkZ2VUZXh0QmJveC5oZWlnaHQgKyAyICogbGFiZWxCZ1BhZGRpbmdbMV0sIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlLXRleHRiZ1wiLCBzdHlsZTogbGFiZWxCZ1N0eWxlLCByeDogbGFiZWxCZ0JvcmRlclJhZGl1cywgcnk6IGxhYmVsQmdCb3JkZXJSYWRpdXMgfSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGV4dFwiLCB7IGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlLXRleHRcIiwgeTogZWRnZVRleHRCYm94LmhlaWdodCAvIDIsIGR5OiBcIjAuM2VtXCIsIHJlZjogZWRnZVJlZiwgc3R5bGU6IGxhYmVsU3R5bGUgfSwgbGFiZWwpLFxuICAgICAgICBjaGlsZHJlbikpO1xufTtcbnZhciBFZGdlVGV4dCQxID0gbWVtbyhFZGdlVGV4dCk7XG5cbmNvbnN0IGdldERpbWVuc2lvbnMgPSAobm9kZSkgPT4gKHtcbiAgICB3aWR0aDogbm9kZS5vZmZzZXRXaWR0aCxcbiAgICBoZWlnaHQ6IG5vZGUub2Zmc2V0SGVpZ2h0LFxufSk7XG5jb25zdCBjbGFtcCA9ICh2YWwsIG1pbiA9IDAsIG1heCA9IDEpID0+IE1hdGgubWluKE1hdGgubWF4KHZhbCwgbWluKSwgbWF4KTtcbmNvbnN0IGNsYW1wUG9zaXRpb24gPSAocG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfSwgZXh0ZW50KSA9PiAoe1xuICAgIHg6IGNsYW1wKHBvc2l0aW9uLngsIGV4dGVudFswXVswXSwgZXh0ZW50WzFdWzBdKSxcbiAgICB5OiBjbGFtcChwb3NpdGlvbi55LCBleHRlbnRbMF1bMV0sIGV4dGVudFsxXVsxXSksXG59KTtcbi8vIHJldHVybnMgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVsb2NpdHkgb2YgdGhlIG1vdmVtZW50XG4vLyB3aGVuIHRoZSBtb3VzZSBpcyBjbG9zZSB0byB0aGUgZWRnZSBvZiB0aGUgY2FudmFzXG5jb25zdCBjYWxjQXV0b1BhblZlbG9jaXR5ID0gKHZhbHVlLCBtaW4sIG1heCkgPT4ge1xuICAgIGlmICh2YWx1ZSA8IG1pbikge1xuICAgICAgICByZXR1cm4gY2xhbXAoTWF0aC5hYnModmFsdWUgLSBtaW4pLCAxLCA1MCkgLyA1MDtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgPiBtYXgpIHtcbiAgICAgICAgcmV0dXJuIC1jbGFtcChNYXRoLmFicyh2YWx1ZSAtIG1heCksIDEsIDUwKSAvIDUwO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5jb25zdCBjYWxjQXV0b1BhbiA9IChwb3MsIGJvdW5kcykgPT4ge1xuICAgIGNvbnN0IHhNb3ZlbWVudCA9IGNhbGNBdXRvUGFuVmVsb2NpdHkocG9zLngsIDM1LCBib3VuZHMud2lkdGggLSAzNSkgKiAyMDtcbiAgICBjb25zdCB5TW92ZW1lbnQgPSBjYWxjQXV0b1BhblZlbG9jaXR5KHBvcy55LCAzNSwgYm91bmRzLmhlaWdodCAtIDM1KSAqIDIwO1xuICAgIHJldHVybiBbeE1vdmVtZW50LCB5TW92ZW1lbnRdO1xufTtcbmNvbnN0IGdldEhvc3RGb3JFbGVtZW50ID0gKGVsZW1lbnQpID0+IGVsZW1lbnQuZ2V0Um9vdE5vZGU/LigpIHx8IHdpbmRvdz8uZG9jdW1lbnQ7XG5jb25zdCBnZXRCb3VuZHNPZkJveGVzID0gKGJveDEsIGJveDIpID0+ICh7XG4gICAgeDogTWF0aC5taW4oYm94MS54LCBib3gyLngpLFxuICAgIHk6IE1hdGgubWluKGJveDEueSwgYm94Mi55KSxcbiAgICB4MjogTWF0aC5tYXgoYm94MS54MiwgYm94Mi54MiksXG4gICAgeTI6IE1hdGgubWF4KGJveDEueTIsIGJveDIueTIpLFxufSk7XG5jb25zdCByZWN0VG9Cb3ggPSAoeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0pID0+ICh7XG4gICAgeCxcbiAgICB5LFxuICAgIHgyOiB4ICsgd2lkdGgsXG4gICAgeTI6IHkgKyBoZWlnaHQsXG59KTtcbmNvbnN0IGJveFRvUmVjdCA9ICh7IHgsIHksIHgyLCB5MiB9KSA9PiAoe1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aDogeDIgLSB4LFxuICAgIGhlaWdodDogeTIgLSB5LFxufSk7XG5jb25zdCBub2RlVG9SZWN0ID0gKG5vZGUpID0+ICh7XG4gICAgLi4uKG5vZGUucG9zaXRpb25BYnNvbHV0ZSB8fCB7IHg6IDAsIHk6IDAgfSksXG4gICAgd2lkdGg6IG5vZGUud2lkdGggfHwgMCxcbiAgICBoZWlnaHQ6IG5vZGUuaGVpZ2h0IHx8IDAsXG59KTtcbmNvbnN0IGdldEJvdW5kc09mUmVjdHMgPSAocmVjdDEsIHJlY3QyKSA9PiBib3hUb1JlY3QoZ2V0Qm91bmRzT2ZCb3hlcyhyZWN0VG9Cb3gocmVjdDEpLCByZWN0VG9Cb3gocmVjdDIpKSk7XG5jb25zdCBnZXRPdmVybGFwcGluZ0FyZWEgPSAocmVjdEEsIHJlY3RCKSA9PiB7XG4gICAgY29uc3QgeE92ZXJsYXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihyZWN0QS54ICsgcmVjdEEud2lkdGgsIHJlY3RCLnggKyByZWN0Qi53aWR0aCkgLSBNYXRoLm1heChyZWN0QS54LCByZWN0Qi54KSk7XG4gICAgY29uc3QgeU92ZXJsYXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihyZWN0QS55ICsgcmVjdEEuaGVpZ2h0LCByZWN0Qi55ICsgcmVjdEIuaGVpZ2h0KSAtIE1hdGgubWF4KHJlY3RBLnksIHJlY3RCLnkpKTtcbiAgICByZXR1cm4gTWF0aC5jZWlsKHhPdmVybGFwICogeU92ZXJsYXApO1xufTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5jb25zdCBpc1JlY3RPYmplY3QgPSAob2JqKSA9PiBpc051bWVyaWMob2JqLndpZHRoKSAmJiBpc051bWVyaWMob2JqLmhlaWdodCkgJiYgaXNOdW1lcmljKG9iai54KSAmJiBpc051bWVyaWMob2JqLnkpO1xuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmNvbnN0IGlzTnVtZXJpYyA9IChuKSA9PiAhaXNOYU4obikgJiYgaXNGaW5pdGUobik7XG5jb25zdCBpbnRlcm5hbHNTeW1ib2wgPSBTeW1ib2wuZm9yKCdpbnRlcm5hbHMnKTtcbi8vIHVzZWQgZm9yIGExMXkga2V5IGJvYXJkIGNvbnRyb2xzIGZvciBub2RlcyBhbmQgZWRnZXNcbmNvbnN0IGVsZW1lbnRTZWxlY3Rpb25LZXlzID0gWydFbnRlcicsICcgJywgJ0VzY2FwZSddO1xuY29uc3QgZGV2V2FybiA9IChpZCwgbWVzc2FnZSkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtSZWFjdCBGbG93XTogJHttZXNzYWdlfSBIZWxwOiBodHRwczovL3JlYWN0Zmxvdy5kZXYvZXJyb3IjJHtpZH1gKTtcbiAgICB9XG59O1xuY29uc3QgaXNSZWFjdEtleWJvYXJkRXZlbnQgPSAoZXZlbnQpID0+ICduYXRpdmVFdmVudCcgaW4gZXZlbnQ7XG5mdW5jdGlvbiBpc0lucHV0RE9NTm9kZShldmVudCkge1xuICAgIGNvbnN0IGtiRXZlbnQgPSBpc1JlYWN0S2V5Ym9hcmRFdmVudChldmVudCkgPyBldmVudC5uYXRpdmVFdmVudCA6IGV2ZW50O1xuICAgIC8vIHVzaW5nIGNvbXBvc2VkIHBhdGggZm9yIGhhbmRsaW5nIHNoYWRvdyBkb21cbiAgICBjb25zdCB0YXJnZXQgPSAoa2JFdmVudC5jb21wb3NlZFBhdGg/LigpPy5bMF0gfHwgZXZlbnQudGFyZ2V0KTtcbiAgICBjb25zdCBpc0lucHV0ID0gWydJTlBVVCcsICdTRUxFQ1QnLCAnVEVYVEFSRUEnXS5pbmNsdWRlcyh0YXJnZXQ/Lm5vZGVOYW1lKSB8fCB0YXJnZXQ/Lmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJyk7XG4gICAgLy8gd2hlbiBhbiBpbnB1dCBmaWVsZCBpcyBmb2N1c2VkIHdlIGRvbid0IHdhbnQgdG8gdHJpZ2dlciBkZWxldGlvbiBvciBtb3ZlbWVudCBvZiBub2Rlc1xuICAgIHJldHVybiBpc0lucHV0IHx8ICEhdGFyZ2V0Py5jbG9zZXN0KCcubm9rZXknKTtcbn1cbmNvbnN0IGlzTW91c2VFdmVudCA9IChldmVudCkgPT4gJ2NsaWVudFgnIGluIGV2ZW50O1xuY29uc3QgZ2V0RXZlbnRQb3NpdGlvbiA9IChldmVudCwgYm91bmRzKSA9PiB7XG4gICAgY29uc3QgaXNNb3VzZVRyaWdnZXJlZCA9IGlzTW91c2VFdmVudChldmVudCk7XG4gICAgY29uc3QgZXZ0WCA9IGlzTW91c2VUcmlnZ2VyZWQgPyBldmVudC5jbGllbnRYIDogZXZlbnQudG91Y2hlcz8uWzBdLmNsaWVudFg7XG4gICAgY29uc3QgZXZ0WSA9IGlzTW91c2VUcmlnZ2VyZWQgPyBldmVudC5jbGllbnRZIDogZXZlbnQudG91Y2hlcz8uWzBdLmNsaWVudFk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogZXZ0WCAtIChib3VuZHM/LmxlZnQgPz8gMCksXG4gICAgICAgIHk6IGV2dFkgLSAoYm91bmRzPy50b3AgPz8gMCksXG4gICAgfTtcbn07XG5jb25zdCBpc01hY09zID0gKCkgPT4gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yPy51c2VyQWdlbnQ/LmluZGV4T2YoJ01hYycpID49IDA7XG5cbmNvbnN0IEJhc2VFZGdlID0gKHsgaWQsIHBhdGgsIGxhYmVsWCwgbGFiZWxZLCBsYWJlbCwgbGFiZWxTdHlsZSwgbGFiZWxTaG93QmcsIGxhYmVsQmdTdHlsZSwgbGFiZWxCZ1BhZGRpbmcsIGxhYmVsQmdCb3JkZXJSYWRpdXMsIHN0eWxlLCBtYXJrZXJFbmQsIG1hcmtlclN0YXJ0LCBpbnRlcmFjdGlvbldpZHRoID0gMjAsIH0pID0+IHtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgaWQ6IGlkLCBzdHlsZTogc3R5bGUsIGQ6IHBhdGgsIGZpbGw6IFwibm9uZVwiLCBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fZWRnZS1wYXRoXCIsIG1hcmtlckVuZDogbWFya2VyRW5kLCBtYXJrZXJTdGFydDogbWFya2VyU3RhcnQgfSksXG4gICAgICAgIGludGVyYWN0aW9uV2lkdGggJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogcGF0aCwgZmlsbDogXCJub25lXCIsIHN0cm9rZU9wYWNpdHk6IDAsIHN0cm9rZVdpZHRoOiBpbnRlcmFjdGlvbldpZHRoLCBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fZWRnZS1pbnRlcmFjdGlvblwiIH0pKSxcbiAgICAgICAgbGFiZWwgJiYgaXNOdW1lcmljKGxhYmVsWCkgJiYgaXNOdW1lcmljKGxhYmVsWSkgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChFZGdlVGV4dCQxLCB7IHg6IGxhYmVsWCwgeTogbGFiZWxZLCBsYWJlbDogbGFiZWwsIGxhYmVsU3R5bGU6IGxhYmVsU3R5bGUsIGxhYmVsU2hvd0JnOiBsYWJlbFNob3dCZywgbGFiZWxCZ1N0eWxlOiBsYWJlbEJnU3R5bGUsIGxhYmVsQmdQYWRkaW5nOiBsYWJlbEJnUGFkZGluZywgbGFiZWxCZ0JvcmRlclJhZGl1czogbGFiZWxCZ0JvcmRlclJhZGl1cyB9KSkgOiBudWxsKSk7XG59O1xuQmFzZUVkZ2UuZGlzcGxheU5hbWUgPSAnQmFzZUVkZ2UnO1xuXG5jb25zdCBnZXRNYXJrZXJFbmQgPSAobWFya2VyVHlwZSwgbWFya2VyRW5kSWQpID0+IHtcbiAgICBpZiAodHlwZW9mIG1hcmtlckVuZElkICE9PSAndW5kZWZpbmVkJyAmJiBtYXJrZXJFbmRJZCkge1xuICAgICAgICByZXR1cm4gYHVybCgjJHttYXJrZXJFbmRJZH0pYDtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiBtYXJrZXJUeXBlICE9PSAndW5kZWZpbmVkJyA/IGB1cmwoI3JlYWN0LWZsb3dfXyR7bWFya2VyVHlwZX0pYCA6ICdub25lJztcbn07XG5mdW5jdGlvbiBnZXRNb3VzZUhhbmRsZXIkMShpZCwgZ2V0U3RhdGUsIGhhbmRsZXIpIHtcbiAgICByZXR1cm4gaGFuZGxlciA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gaGFuZGxlclxuICAgICAgICA6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWRnZSA9IGdldFN0YXRlKCkuZWRnZXMuZmluZCgoZSkgPT4gZS5pZCA9PT0gaWQpO1xuICAgICAgICAgICAgaWYgKGVkZ2UpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKGV2ZW50LCB7IC4uLmVkZ2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG59XG4vLyB0aGlzIGlzIHVzZWQgZm9yIHN0cmFpZ2h0IGVkZ2VzIGFuZCBzaW1wbGUgc21vb3Roc3RlcCBlZGdlcyAoTFRSLCBSVEwsIEJUVCwgVFRCKVxuZnVuY3Rpb24gZ2V0RWRnZUNlbnRlcih7IHNvdXJjZVgsIHNvdXJjZVksIHRhcmdldFgsIHRhcmdldFksIH0pIHtcbiAgICBjb25zdCB4T2Zmc2V0ID0gTWF0aC5hYnModGFyZ2V0WCAtIHNvdXJjZVgpIC8gMjtcbiAgICBjb25zdCBjZW50ZXJYID0gdGFyZ2V0WCA8IHNvdXJjZVggPyB0YXJnZXRYICsgeE9mZnNldCA6IHRhcmdldFggLSB4T2Zmc2V0O1xuICAgIGNvbnN0IHlPZmZzZXQgPSBNYXRoLmFicyh0YXJnZXRZIC0gc291cmNlWSkgLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSB0YXJnZXRZIDwgc291cmNlWSA/IHRhcmdldFkgKyB5T2Zmc2V0IDogdGFyZ2V0WSAtIHlPZmZzZXQ7XG4gICAgcmV0dXJuIFtjZW50ZXJYLCBjZW50ZXJZLCB4T2Zmc2V0LCB5T2Zmc2V0XTtcbn1cbmZ1bmN0aW9uIGdldEJlemllckVkZ2VDZW50ZXIoeyBzb3VyY2VYLCBzb3VyY2VZLCB0YXJnZXRYLCB0YXJnZXRZLCBzb3VyY2VDb250cm9sWCwgc291cmNlQ29udHJvbFksIHRhcmdldENvbnRyb2xYLCB0YXJnZXRDb250cm9sWSwgfSkge1xuICAgIC8vIGN1YmljIGJlemllciB0PTAuNSBtaWQgcG9pbnQsIG5vdCB0aGUgYWN0dWFsIG1pZCBwb2ludCwgYnV0IGVhc3kgdG8gY2FsY3VsYXRlXG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjc1MTYxMDEvaG93LXRvLWZpbmQtZGlzdGFuY2UtbWlkLXBvaW50LW9mLWJlemllci1jdXJ2ZVxuICAgIGNvbnN0IGNlbnRlclggPSBzb3VyY2VYICogMC4xMjUgKyBzb3VyY2VDb250cm9sWCAqIDAuMzc1ICsgdGFyZ2V0Q29udHJvbFggKiAwLjM3NSArIHRhcmdldFggKiAwLjEyNTtcbiAgICBjb25zdCBjZW50ZXJZID0gc291cmNlWSAqIDAuMTI1ICsgc291cmNlQ29udHJvbFkgKiAwLjM3NSArIHRhcmdldENvbnRyb2xZICogMC4zNzUgKyB0YXJnZXRZICogMC4xMjU7XG4gICAgY29uc3Qgb2Zmc2V0WCA9IE1hdGguYWJzKGNlbnRlclggLSBzb3VyY2VYKTtcbiAgICBjb25zdCBvZmZzZXRZID0gTWF0aC5hYnMoY2VudGVyWSAtIHNvdXJjZVkpO1xuICAgIHJldHVybiBbY2VudGVyWCwgY2VudGVyWSwgb2Zmc2V0WCwgb2Zmc2V0WV07XG59XG5cbnZhciBDb25uZWN0aW9uTW9kZTtcbihmdW5jdGlvbiAoQ29ubmVjdGlvbk1vZGUpIHtcbiAgICBDb25uZWN0aW9uTW9kZVtcIlN0cmljdFwiXSA9IFwic3RyaWN0XCI7XG4gICAgQ29ubmVjdGlvbk1vZGVbXCJMb29zZVwiXSA9IFwibG9vc2VcIjtcbn0pKENvbm5lY3Rpb25Nb2RlIHx8IChDb25uZWN0aW9uTW9kZSA9IHt9KSk7XG52YXIgUGFuT25TY3JvbGxNb2RlO1xuKGZ1bmN0aW9uIChQYW5PblNjcm9sbE1vZGUpIHtcbiAgICBQYW5PblNjcm9sbE1vZGVbXCJGcmVlXCJdID0gXCJmcmVlXCI7XG4gICAgUGFuT25TY3JvbGxNb2RlW1wiVmVydGljYWxcIl0gPSBcInZlcnRpY2FsXCI7XG4gICAgUGFuT25TY3JvbGxNb2RlW1wiSG9yaXpvbnRhbFwiXSA9IFwiaG9yaXpvbnRhbFwiO1xufSkoUGFuT25TY3JvbGxNb2RlIHx8IChQYW5PblNjcm9sbE1vZGUgPSB7fSkpO1xudmFyIFNlbGVjdGlvbk1vZGU7XG4oZnVuY3Rpb24gKFNlbGVjdGlvbk1vZGUpIHtcbiAgICBTZWxlY3Rpb25Nb2RlW1wiUGFydGlhbFwiXSA9IFwicGFydGlhbFwiO1xuICAgIFNlbGVjdGlvbk1vZGVbXCJGdWxsXCJdID0gXCJmdWxsXCI7XG59KShTZWxlY3Rpb25Nb2RlIHx8IChTZWxlY3Rpb25Nb2RlID0ge30pKTtcblxudmFyIENvbm5lY3Rpb25MaW5lVHlwZTtcbihmdW5jdGlvbiAoQ29ubmVjdGlvbkxpbmVUeXBlKSB7XG4gICAgQ29ubmVjdGlvbkxpbmVUeXBlW1wiQmV6aWVyXCJdID0gXCJkZWZhdWx0XCI7XG4gICAgQ29ubmVjdGlvbkxpbmVUeXBlW1wiU3RyYWlnaHRcIl0gPSBcInN0cmFpZ2h0XCI7XG4gICAgQ29ubmVjdGlvbkxpbmVUeXBlW1wiU3RlcFwiXSA9IFwic3RlcFwiO1xuICAgIENvbm5lY3Rpb25MaW5lVHlwZVtcIlNtb290aFN0ZXBcIl0gPSBcInNtb290aHN0ZXBcIjtcbiAgICBDb25uZWN0aW9uTGluZVR5cGVbXCJTaW1wbGVCZXppZXJcIl0gPSBcInNpbXBsZWJlemllclwiO1xufSkoQ29ubmVjdGlvbkxpbmVUeXBlIHx8IChDb25uZWN0aW9uTGluZVR5cGUgPSB7fSkpO1xudmFyIE1hcmtlclR5cGU7XG4oZnVuY3Rpb24gKE1hcmtlclR5cGUpIHtcbiAgICBNYXJrZXJUeXBlW1wiQXJyb3dcIl0gPSBcImFycm93XCI7XG4gICAgTWFya2VyVHlwZVtcIkFycm93Q2xvc2VkXCJdID0gXCJhcnJvd2Nsb3NlZFwiO1xufSkoTWFya2VyVHlwZSB8fCAoTWFya2VyVHlwZSA9IHt9KSk7XG5cbnZhciBQb3NpdGlvbjtcbihmdW5jdGlvbiAoUG9zaXRpb24pIHtcbiAgICBQb3NpdGlvbltcIkxlZnRcIl0gPSBcImxlZnRcIjtcbiAgICBQb3NpdGlvbltcIlRvcFwiXSA9IFwidG9wXCI7XG4gICAgUG9zaXRpb25bXCJSaWdodFwiXSA9IFwicmlnaHRcIjtcbiAgICBQb3NpdGlvbltcIkJvdHRvbVwiXSA9IFwiYm90dG9tXCI7XG59KShQb3NpdGlvbiB8fCAoUG9zaXRpb24gPSB7fSkpO1xuXG5mdW5jdGlvbiBnZXRDb250cm9sKHsgcG9zLCB4MSwgeTEsIHgyLCB5MiB9KSB7XG4gICAgaWYgKHBvcyA9PT0gUG9zaXRpb24uTGVmdCB8fCBwb3MgPT09IFBvc2l0aW9uLlJpZ2h0KSB7XG4gICAgICAgIHJldHVybiBbMC41ICogKHgxICsgeDIpLCB5MV07XG4gICAgfVxuICAgIHJldHVybiBbeDEsIDAuNSAqICh5MSArIHkyKV07XG59XG5mdW5jdGlvbiBnZXRTaW1wbGVCZXppZXJQYXRoKHsgc291cmNlWCwgc291cmNlWSwgc291cmNlUG9zaXRpb24gPSBQb3NpdGlvbi5Cb3R0b20sIHRhcmdldFgsIHRhcmdldFksIHRhcmdldFBvc2l0aW9uID0gUG9zaXRpb24uVG9wLCB9KSB7XG4gICAgY29uc3QgW3NvdXJjZUNvbnRyb2xYLCBzb3VyY2VDb250cm9sWV0gPSBnZXRDb250cm9sKHtcbiAgICAgICAgcG9zOiBzb3VyY2VQb3NpdGlvbixcbiAgICAgICAgeDE6IHNvdXJjZVgsXG4gICAgICAgIHkxOiBzb3VyY2VZLFxuICAgICAgICB4MjogdGFyZ2V0WCxcbiAgICAgICAgeTI6IHRhcmdldFksXG4gICAgfSk7XG4gICAgY29uc3QgW3RhcmdldENvbnRyb2xYLCB0YXJnZXRDb250cm9sWV0gPSBnZXRDb250cm9sKHtcbiAgICAgICAgcG9zOiB0YXJnZXRQb3NpdGlvbixcbiAgICAgICAgeDE6IHRhcmdldFgsXG4gICAgICAgIHkxOiB0YXJnZXRZLFxuICAgICAgICB4Mjogc291cmNlWCxcbiAgICAgICAgeTI6IHNvdXJjZVksXG4gICAgfSk7XG4gICAgY29uc3QgW2xhYmVsWCwgbGFiZWxZLCBvZmZzZXRYLCBvZmZzZXRZXSA9IGdldEJlemllckVkZ2VDZW50ZXIoe1xuICAgICAgICBzb3VyY2VYLFxuICAgICAgICBzb3VyY2VZLFxuICAgICAgICB0YXJnZXRYLFxuICAgICAgICB0YXJnZXRZLFxuICAgICAgICBzb3VyY2VDb250cm9sWCxcbiAgICAgICAgc291cmNlQ29udHJvbFksXG4gICAgICAgIHRhcmdldENvbnRyb2xYLFxuICAgICAgICB0YXJnZXRDb250cm9sWSxcbiAgICB9KTtcbiAgICByZXR1cm4gW1xuICAgICAgICBgTSR7c291cmNlWH0sJHtzb3VyY2VZfSBDJHtzb3VyY2VDb250cm9sWH0sJHtzb3VyY2VDb250cm9sWX0gJHt0YXJnZXRDb250cm9sWH0sJHt0YXJnZXRDb250cm9sWX0gJHt0YXJnZXRYfSwke3RhcmdldFl9YCxcbiAgICAgICAgbGFiZWxYLFxuICAgICAgICBsYWJlbFksXG4gICAgICAgIG9mZnNldFgsXG4gICAgICAgIG9mZnNldFksXG4gICAgXTtcbn1cbmNvbnN0IFNpbXBsZUJlemllckVkZ2UgPSBtZW1vKCh7IHNvdXJjZVgsIHNvdXJjZVksIHRhcmdldFgsIHRhcmdldFksIHNvdXJjZVBvc2l0aW9uID0gUG9zaXRpb24uQm90dG9tLCB0YXJnZXRQb3NpdGlvbiA9IFBvc2l0aW9uLlRvcCwgbGFiZWwsIGxhYmVsU3R5bGUsIGxhYmVsU2hvd0JnLCBsYWJlbEJnU3R5bGUsIGxhYmVsQmdQYWRkaW5nLCBsYWJlbEJnQm9yZGVyUmFkaXVzLCBzdHlsZSwgbWFya2VyRW5kLCBtYXJrZXJTdGFydCwgaW50ZXJhY3Rpb25XaWR0aCwgfSkgPT4ge1xuICAgIGNvbnN0IFtwYXRoLCBsYWJlbFgsIGxhYmVsWV0gPSBnZXRTaW1wbGVCZXppZXJQYXRoKHtcbiAgICAgICAgc291cmNlWCxcbiAgICAgICAgc291cmNlWSxcbiAgICAgICAgc291cmNlUG9zaXRpb24sXG4gICAgICAgIHRhcmdldFgsXG4gICAgICAgIHRhcmdldFksXG4gICAgICAgIHRhcmdldFBvc2l0aW9uLFxuICAgIH0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChCYXNlRWRnZSwgeyBwYXRoOiBwYXRoLCBsYWJlbFg6IGxhYmVsWCwgbGFiZWxZOiBsYWJlbFksIGxhYmVsOiBsYWJlbCwgbGFiZWxTdHlsZTogbGFiZWxTdHlsZSwgbGFiZWxTaG93Qmc6IGxhYmVsU2hvd0JnLCBsYWJlbEJnU3R5bGU6IGxhYmVsQmdTdHlsZSwgbGFiZWxCZ1BhZGRpbmc6IGxhYmVsQmdQYWRkaW5nLCBsYWJlbEJnQm9yZGVyUmFkaXVzOiBsYWJlbEJnQm9yZGVyUmFkaXVzLCBzdHlsZTogc3R5bGUsIG1hcmtlckVuZDogbWFya2VyRW5kLCBtYXJrZXJTdGFydDogbWFya2VyU3RhcnQsIGludGVyYWN0aW9uV2lkdGg6IGludGVyYWN0aW9uV2lkdGggfSkpO1xufSk7XG5TaW1wbGVCZXppZXJFZGdlLmRpc3BsYXlOYW1lID0gJ1NpbXBsZUJlemllckVkZ2UnO1xuXG5jb25zdCBoYW5kbGVEaXJlY3Rpb25zID0ge1xuICAgIFtQb3NpdGlvbi5MZWZ0XTogeyB4OiAtMSwgeTogMCB9LFxuICAgIFtQb3NpdGlvbi5SaWdodF06IHsgeDogMSwgeTogMCB9LFxuICAgIFtQb3NpdGlvbi5Ub3BdOiB7IHg6IDAsIHk6IC0xIH0sXG4gICAgW1Bvc2l0aW9uLkJvdHRvbV06IHsgeDogMCwgeTogMSB9LFxufTtcbmNvbnN0IGdldERpcmVjdGlvbiA9ICh7IHNvdXJjZSwgc291cmNlUG9zaXRpb24gPSBQb3NpdGlvbi5Cb3R0b20sIHRhcmdldCwgfSkgPT4ge1xuICAgIGlmIChzb3VyY2VQb3NpdGlvbiA9PT0gUG9zaXRpb24uTGVmdCB8fCBzb3VyY2VQb3NpdGlvbiA9PT0gUG9zaXRpb24uUmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS54IDwgdGFyZ2V0LnggPyB7IHg6IDEsIHk6IDAgfSA6IHsgeDogLTEsIHk6IDAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZS55IDwgdGFyZ2V0LnkgPyB7IHg6IDAsIHk6IDEgfSA6IHsgeDogMCwgeTogLTEgfTtcbn07XG5jb25zdCBkaXN0YW5jZSA9IChhLCBiKSA9PiBNYXRoLnNxcnQoTWF0aC5wb3coYi54IC0gYS54LCAyKSArIE1hdGgucG93KGIueSAtIGEueSwgMikpO1xuLy8gaXRoIHRoaXMgZnVuY3Rpb24gd2UgdHJ5IHRvIG1pbWljIGEgb3J0aG9nb25hbCBlZGdlIHJvdXRpbmcgYmVoYXZpb3VyXG4vLyBJdCdzIG5vdCBhcyBnb29kIGFzIGEgcmVhbCBvcnRob2dvbmFsIGVkZ2Ugcm91dGluZyBidXQgaXQncyBmYXN0ZXIgYW5kIGdvb2QgZW5vdWdoIGFzIGEgZGVmYXVsdCBmb3Igc3RlcCBhbmQgc21vb3RoIHN0ZXAgZWRnZXNcbmZ1bmN0aW9uIGdldFBvaW50cyh7IHNvdXJjZSwgc291cmNlUG9zaXRpb24gPSBQb3NpdGlvbi5Cb3R0b20sIHRhcmdldCwgdGFyZ2V0UG9zaXRpb24gPSBQb3NpdGlvbi5Ub3AsIGNlbnRlciwgb2Zmc2V0LCB9KSB7XG4gICAgY29uc3Qgc291cmNlRGlyID0gaGFuZGxlRGlyZWN0aW9uc1tzb3VyY2VQb3NpdGlvbl07XG4gICAgY29uc3QgdGFyZ2V0RGlyID0gaGFuZGxlRGlyZWN0aW9uc1t0YXJnZXRQb3NpdGlvbl07XG4gICAgY29uc3Qgc291cmNlR2FwcGVkID0geyB4OiBzb3VyY2UueCArIHNvdXJjZURpci54ICogb2Zmc2V0LCB5OiBzb3VyY2UueSArIHNvdXJjZURpci55ICogb2Zmc2V0IH07XG4gICAgY29uc3QgdGFyZ2V0R2FwcGVkID0geyB4OiB0YXJnZXQueCArIHRhcmdldERpci54ICogb2Zmc2V0LCB5OiB0YXJnZXQueSArIHRhcmdldERpci55ICogb2Zmc2V0IH07XG4gICAgY29uc3QgZGlyID0gZ2V0RGlyZWN0aW9uKHtcbiAgICAgICAgc291cmNlOiBzb3VyY2VHYXBwZWQsXG4gICAgICAgIHNvdXJjZVBvc2l0aW9uLFxuICAgICAgICB0YXJnZXQ6IHRhcmdldEdhcHBlZCxcbiAgICB9KTtcbiAgICBjb25zdCBkaXJBY2Nlc3NvciA9IGRpci54ICE9PSAwID8gJ3gnIDogJ3knO1xuICAgIGNvbnN0IGN1cnJEaXIgPSBkaXJbZGlyQWNjZXNzb3JdO1xuICAgIGxldCBwb2ludHMgPSBbXTtcbiAgICBsZXQgY2VudGVyWCwgY2VudGVyWTtcbiAgICBjb25zdCBzb3VyY2VHYXBPZmZzZXQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICBjb25zdCB0YXJnZXRHYXBPZmZzZXQgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICBjb25zdCBbZGVmYXVsdENlbnRlclgsIGRlZmF1bHRDZW50ZXJZLCBkZWZhdWx0T2Zmc2V0WCwgZGVmYXVsdE9mZnNldFldID0gZ2V0RWRnZUNlbnRlcih7XG4gICAgICAgIHNvdXJjZVg6IHNvdXJjZS54LFxuICAgICAgICBzb3VyY2VZOiBzb3VyY2UueSxcbiAgICAgICAgdGFyZ2V0WDogdGFyZ2V0LngsXG4gICAgICAgIHRhcmdldFk6IHRhcmdldC55LFxuICAgIH0pO1xuICAgIC8vIG9wcG9zaXRlIGhhbmRsZSBwb3NpdGlvbnMsIGRlZmF1bHQgY2FzZVxuICAgIGlmIChzb3VyY2VEaXJbZGlyQWNjZXNzb3JdICogdGFyZ2V0RGlyW2RpckFjY2Vzc29yXSA9PT0gLTEpIHtcbiAgICAgICAgY2VudGVyWCA9IGNlbnRlci54IHx8IGRlZmF1bHRDZW50ZXJYO1xuICAgICAgICBjZW50ZXJZID0gY2VudGVyLnkgfHwgZGVmYXVsdENlbnRlclk7XG4gICAgICAgIC8vICAgIC0tLT5cbiAgICAgICAgLy8gICAgfFxuICAgICAgICAvLyA+LS0tXG4gICAgICAgIGNvbnN0IHZlcnRpY2FsU3BsaXQgPSBbXG4gICAgICAgICAgICB7IHg6IGNlbnRlclgsIHk6IHNvdXJjZUdhcHBlZC55IH0sXG4gICAgICAgICAgICB7IHg6IGNlbnRlclgsIHk6IHRhcmdldEdhcHBlZC55IH0sXG4gICAgICAgIF07XG4gICAgICAgIC8vICAgIHxcbiAgICAgICAgLy8gIC0tLVxuICAgICAgICAvLyAgfFxuICAgICAgICBjb25zdCBob3Jpem9udGFsU3BsaXQgPSBbXG4gICAgICAgICAgICB7IHg6IHNvdXJjZUdhcHBlZC54LCB5OiBjZW50ZXJZIH0sXG4gICAgICAgICAgICB7IHg6IHRhcmdldEdhcHBlZC54LCB5OiBjZW50ZXJZIH0sXG4gICAgICAgIF07XG4gICAgICAgIGlmIChzb3VyY2VEaXJbZGlyQWNjZXNzb3JdID09PSBjdXJyRGlyKSB7XG4gICAgICAgICAgICBwb2ludHMgPSBkaXJBY2Nlc3NvciA9PT0gJ3gnID8gdmVydGljYWxTcGxpdCA6IGhvcml6b250YWxTcGxpdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50cyA9IGRpckFjY2Vzc29yID09PSAneCcgPyBob3Jpem9udGFsU3BsaXQgOiB2ZXJ0aWNhbFNwbGl0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBzb3VyY2VUYXJnZXQgbWVhbnMgd2UgdGFrZSB4IGZyb20gc291cmNlIGFuZCB5IGZyb20gdGFyZ2V0LCB0YXJnZXRTb3VyY2UgaXMgdGhlIG9wcG9zaXRlXG4gICAgICAgIGNvbnN0IHNvdXJjZVRhcmdldCA9IFt7IHg6IHNvdXJjZUdhcHBlZC54LCB5OiB0YXJnZXRHYXBwZWQueSB9XTtcbiAgICAgICAgY29uc3QgdGFyZ2V0U291cmNlID0gW3sgeDogdGFyZ2V0R2FwcGVkLngsIHk6IHNvdXJjZUdhcHBlZC55IH1dO1xuICAgICAgICAvLyB0aGlzIGhhbmRsZXMgZWRnZXMgd2l0aCBzYW1lIGhhbmRsZSBwb3NpdGlvbnNcbiAgICAgICAgaWYgKGRpckFjY2Vzc29yID09PSAneCcpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHNvdXJjZURpci54ID09PSBjdXJyRGlyID8gdGFyZ2V0U291cmNlIDogc291cmNlVGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRzID0gc291cmNlRGlyLnkgPT09IGN1cnJEaXIgPyBzb3VyY2VUYXJnZXQgOiB0YXJnZXRTb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZVBvc2l0aW9uID09PSB0YXJnZXRQb3NpdGlvbikge1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKHNvdXJjZVtkaXJBY2Nlc3Nvcl0gLSB0YXJnZXRbZGlyQWNjZXNzb3JdKTtcbiAgICAgICAgICAgIC8vIGlmIGFuIGVkZ2UgZ29lcyBmcm9tIHJpZ2h0IHRvIHJpZ2h0IGZvciBleGFtcGxlIChzb3VyY2VQb3NpdGlvbiA9PT0gdGFyZ2V0UG9zaXRpb24pIGFuZCB0aGUgZGlzdGFuY2UgYmV0d2VlbiBzb3VyY2UueCBhbmQgdGFyZ2V0LnggaXMgbGVzcyB0aGFuIHRoZSBvZmZzZXQsIHRoZSBhZGRlZCBwb2ludCBhbmQgdGhlIGdhcHBlZCBzb3VyY2UvdGFyZ2V0IHdpbGwgb3ZlcmxhcC4gVGhpcyBsZWFkcyB0byBhIHdlaXJkIGVkZ2UgcGF0aC4gVG8gYXZvaWQgdGhpcyB3ZSBhZGQgYSBnYXBPZmZzZXQgdG8gdGhlIHNvdXJjZS90YXJnZXRcbiAgICAgICAgICAgIGlmIChkaWZmIDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhcE9mZnNldCA9IE1hdGgubWluKG9mZnNldCAtIDEsIG9mZnNldCAtIGRpZmYpO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VEaXJbZGlyQWNjZXNzb3JdID09PSBjdXJyRGlyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUdhcE9mZnNldFtkaXJBY2Nlc3Nvcl0gPSAoc291cmNlR2FwcGVkW2RpckFjY2Vzc29yXSA+IHNvdXJjZVtkaXJBY2Nlc3Nvcl0gPyAtMSA6IDEpICogZ2FwT2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0R2FwT2Zmc2V0W2RpckFjY2Vzc29yXSA9ICh0YXJnZXRHYXBwZWRbZGlyQWNjZXNzb3JdID4gdGFyZ2V0W2RpckFjY2Vzc29yXSA/IC0xIDogMSkgKiBnYXBPZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZXNlIGFyZSBjb25kaXRpb25zIGZvciBoYW5kbGluZyBtaXhlZCBoYW5kbGUgcG9zaXRpb25zIGxpa2UgUmlnaHQgLT4gQm90dG9tIGZvciBleGFtcGxlXG4gICAgICAgIGlmIChzb3VyY2VQb3NpdGlvbiAhPT0gdGFyZ2V0UG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGRpckFjY2Vzc29yT3Bwb3NpdGUgPSBkaXJBY2Nlc3NvciA9PT0gJ3gnID8gJ3knIDogJ3gnO1xuICAgICAgICAgICAgY29uc3QgaXNTYW1lRGlyID0gc291cmNlRGlyW2RpckFjY2Vzc29yXSA9PT0gdGFyZ2V0RGlyW2RpckFjY2Vzc29yT3Bwb3NpdGVdO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlR3RUYXJnZXRPcHBvID0gc291cmNlR2FwcGVkW2RpckFjY2Vzc29yT3Bwb3NpdGVdID4gdGFyZ2V0R2FwcGVkW2RpckFjY2Vzc29yT3Bwb3NpdGVdO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlTHRUYXJnZXRPcHBvID0gc291cmNlR2FwcGVkW2RpckFjY2Vzc29yT3Bwb3NpdGVdIDwgdGFyZ2V0R2FwcGVkW2RpckFjY2Vzc29yT3Bwb3NpdGVdO1xuICAgICAgICAgICAgY29uc3QgZmxpcFNvdXJjZVRhcmdldCA9IChzb3VyY2VEaXJbZGlyQWNjZXNzb3JdID09PSAxICYmICgoIWlzU2FtZURpciAmJiBzb3VyY2VHdFRhcmdldE9wcG8pIHx8IChpc1NhbWVEaXIgJiYgc291cmNlTHRUYXJnZXRPcHBvKSkpIHx8XG4gICAgICAgICAgICAgICAgKHNvdXJjZURpcltkaXJBY2Nlc3Nvcl0gIT09IDEgJiYgKCghaXNTYW1lRGlyICYmIHNvdXJjZUx0VGFyZ2V0T3BwbykgfHwgKGlzU2FtZURpciAmJiBzb3VyY2VHdFRhcmdldE9wcG8pKSk7XG4gICAgICAgICAgICBpZiAoZmxpcFNvdXJjZVRhcmdldCkge1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IGRpckFjY2Vzc29yID09PSAneCcgPyBzb3VyY2VUYXJnZXQgOiB0YXJnZXRTb3VyY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc291cmNlR2FwUG9pbnQgPSB7IHg6IHNvdXJjZUdhcHBlZC54ICsgc291cmNlR2FwT2Zmc2V0LngsIHk6IHNvdXJjZUdhcHBlZC55ICsgc291cmNlR2FwT2Zmc2V0LnkgfTtcbiAgICAgICAgY29uc3QgdGFyZ2V0R2FwUG9pbnQgPSB7IHg6IHRhcmdldEdhcHBlZC54ICsgdGFyZ2V0R2FwT2Zmc2V0LngsIHk6IHRhcmdldEdhcHBlZC55ICsgdGFyZ2V0R2FwT2Zmc2V0LnkgfTtcbiAgICAgICAgY29uc3QgbWF4WERpc3RhbmNlID0gTWF0aC5tYXgoTWF0aC5hYnMoc291cmNlR2FwUG9pbnQueCAtIHBvaW50c1swXS54KSwgTWF0aC5hYnModGFyZ2V0R2FwUG9pbnQueCAtIHBvaW50c1swXS54KSk7XG4gICAgICAgIGNvbnN0IG1heFlEaXN0YW5jZSA9IE1hdGgubWF4KE1hdGguYWJzKHNvdXJjZUdhcFBvaW50LnkgLSBwb2ludHNbMF0ueSksIE1hdGguYWJzKHRhcmdldEdhcFBvaW50LnkgLSBwb2ludHNbMF0ueSkpO1xuICAgICAgICAvLyB3ZSB3YW50IHRvIHBsYWNlIHRoZSBsYWJlbCBvbiB0aGUgbG9uZ2VzdCBzZWdtZW50IG9mIHRoZSBlZGdlXG4gICAgICAgIGlmIChtYXhYRGlzdGFuY2UgPj0gbWF4WURpc3RhbmNlKSB7XG4gICAgICAgICAgICBjZW50ZXJYID0gKHNvdXJjZUdhcFBvaW50LnggKyB0YXJnZXRHYXBQb2ludC54KSAvIDI7XG4gICAgICAgICAgICBjZW50ZXJZID0gcG9pbnRzWzBdLnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjZW50ZXJYID0gcG9pbnRzWzBdLng7XG4gICAgICAgICAgICBjZW50ZXJZID0gKHNvdXJjZUdhcFBvaW50LnkgKyB0YXJnZXRHYXBQb2ludC55KSAvIDI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGF0aFBvaW50cyA9IFtcbiAgICAgICAgc291cmNlLFxuICAgICAgICB7IHg6IHNvdXJjZUdhcHBlZC54ICsgc291cmNlR2FwT2Zmc2V0LngsIHk6IHNvdXJjZUdhcHBlZC55ICsgc291cmNlR2FwT2Zmc2V0LnkgfSxcbiAgICAgICAgLi4ucG9pbnRzLFxuICAgICAgICB7IHg6IHRhcmdldEdhcHBlZC54ICsgdGFyZ2V0R2FwT2Zmc2V0LngsIHk6IHRhcmdldEdhcHBlZC55ICsgdGFyZ2V0R2FwT2Zmc2V0LnkgfSxcbiAgICAgICAgdGFyZ2V0LFxuICAgIF07XG4gICAgcmV0dXJuIFtwYXRoUG9pbnRzLCBjZW50ZXJYLCBjZW50ZXJZLCBkZWZhdWx0T2Zmc2V0WCwgZGVmYXVsdE9mZnNldFldO1xufVxuZnVuY3Rpb24gZ2V0QmVuZChhLCBiLCBjLCBzaXplKSB7XG4gICAgY29uc3QgYmVuZFNpemUgPSBNYXRoLm1pbihkaXN0YW5jZShhLCBiKSAvIDIsIGRpc3RhbmNlKGIsIGMpIC8gMiwgc2l6ZSk7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBiO1xuICAgIC8vIG5vIGJlbmRcbiAgICBpZiAoKGEueCA9PT0geCAmJiB4ID09PSBjLngpIHx8IChhLnkgPT09IHkgJiYgeSA9PT0gYy55KSkge1xuICAgICAgICByZXR1cm4gYEwke3h9ICR7eX1gO1xuICAgIH1cbiAgICAvLyBmaXJzdCBzZWdtZW50IGlzIGhvcml6b250YWxcbiAgICBpZiAoYS55ID09PSB5KSB7XG4gICAgICAgIGNvbnN0IHhEaXIgPSBhLnggPCBjLnggPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHlEaXIgPSBhLnkgPCBjLnkgPyAxIDogLTE7XG4gICAgICAgIHJldHVybiBgTCAke3ggKyBiZW5kU2l6ZSAqIHhEaXJ9LCR7eX1RICR7eH0sJHt5fSAke3h9LCR7eSArIGJlbmRTaXplICogeURpcn1gO1xuICAgIH1cbiAgICBjb25zdCB4RGlyID0gYS54IDwgYy54ID8gMSA6IC0xO1xuICAgIGNvbnN0IHlEaXIgPSBhLnkgPCBjLnkgPyAtMSA6IDE7XG4gICAgcmV0dXJuIGBMICR7eH0sJHt5ICsgYmVuZFNpemUgKiB5RGlyfVEgJHt4fSwke3l9ICR7eCArIGJlbmRTaXplICogeERpcn0sJHt5fWA7XG59XG5mdW5jdGlvbiBnZXRTbW9vdGhTdGVwUGF0aCh7IHNvdXJjZVgsIHNvdXJjZVksIHNvdXJjZVBvc2l0aW9uID0gUG9zaXRpb24uQm90dG9tLCB0YXJnZXRYLCB0YXJnZXRZLCB0YXJnZXRQb3NpdGlvbiA9IFBvc2l0aW9uLlRvcCwgYm9yZGVyUmFkaXVzID0gNSwgY2VudGVyWCwgY2VudGVyWSwgb2Zmc2V0ID0gMjAsIH0pIHtcbiAgICBjb25zdCBbcG9pbnRzLCBsYWJlbFgsIGxhYmVsWSwgb2Zmc2V0WCwgb2Zmc2V0WV0gPSBnZXRQb2ludHMoe1xuICAgICAgICBzb3VyY2U6IHsgeDogc291cmNlWCwgeTogc291cmNlWSB9LFxuICAgICAgICBzb3VyY2VQb3NpdGlvbixcbiAgICAgICAgdGFyZ2V0OiB7IHg6IHRhcmdldFgsIHk6IHRhcmdldFkgfSxcbiAgICAgICAgdGFyZ2V0UG9zaXRpb24sXG4gICAgICAgIGNlbnRlcjogeyB4OiBjZW50ZXJYLCB5OiBjZW50ZXJZIH0sXG4gICAgICAgIG9mZnNldCxcbiAgICB9KTtcbiAgICBjb25zdCBwYXRoID0gcG9pbnRzLnJlZHVjZSgocmVzLCBwLCBpKSA9PiB7XG4gICAgICAgIGxldCBzZWdtZW50ID0gJyc7XG4gICAgICAgIGlmIChpID4gMCAmJiBpIDwgcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHNlZ21lbnQgPSBnZXRCZW5kKHBvaW50c1tpIC0gMV0sIHAsIHBvaW50c1tpICsgMV0sIGJvcmRlclJhZGl1cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWdtZW50ID0gYCR7aSA9PT0gMCA/ICdNJyA6ICdMJ30ke3AueH0gJHtwLnl9YDtcbiAgICAgICAgfVxuICAgICAgICByZXMgKz0gc2VnbWVudDtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9LCAnJyk7XG4gICAgcmV0dXJuIFtwYXRoLCBsYWJlbFgsIGxhYmVsWSwgb2Zmc2V0WCwgb2Zmc2V0WV07XG59XG5jb25zdCBTbW9vdGhTdGVwRWRnZSA9IG1lbW8oKHsgc291cmNlWCwgc291cmNlWSwgdGFyZ2V0WCwgdGFyZ2V0WSwgbGFiZWwsIGxhYmVsU3R5bGUsIGxhYmVsU2hvd0JnLCBsYWJlbEJnU3R5bGUsIGxhYmVsQmdQYWRkaW5nLCBsYWJlbEJnQm9yZGVyUmFkaXVzLCBzdHlsZSwgc291cmNlUG9zaXRpb24gPSBQb3NpdGlvbi5Cb3R0b20sIHRhcmdldFBvc2l0aW9uID0gUG9zaXRpb24uVG9wLCBtYXJrZXJFbmQsIG1hcmtlclN0YXJ0LCBwYXRoT3B0aW9ucywgaW50ZXJhY3Rpb25XaWR0aCwgfSkgPT4ge1xuICAgIGNvbnN0IFtwYXRoLCBsYWJlbFgsIGxhYmVsWV0gPSBnZXRTbW9vdGhTdGVwUGF0aCh7XG4gICAgICAgIHNvdXJjZVgsXG4gICAgICAgIHNvdXJjZVksXG4gICAgICAgIHNvdXJjZVBvc2l0aW9uLFxuICAgICAgICB0YXJnZXRYLFxuICAgICAgICB0YXJnZXRZLFxuICAgICAgICB0YXJnZXRQb3NpdGlvbixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBwYXRoT3B0aW9ucz8uYm9yZGVyUmFkaXVzLFxuICAgICAgICBvZmZzZXQ6IHBhdGhPcHRpb25zPy5vZmZzZXQsXG4gICAgfSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJhc2VFZGdlLCB7IHBhdGg6IHBhdGgsIGxhYmVsWDogbGFiZWxYLCBsYWJlbFk6IGxhYmVsWSwgbGFiZWw6IGxhYmVsLCBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLCBsYWJlbFNob3dCZzogbGFiZWxTaG93QmcsIGxhYmVsQmdTdHlsZTogbGFiZWxCZ1N0eWxlLCBsYWJlbEJnUGFkZGluZzogbGFiZWxCZ1BhZGRpbmcsIGxhYmVsQmdCb3JkZXJSYWRpdXM6IGxhYmVsQmdCb3JkZXJSYWRpdXMsIHN0eWxlOiBzdHlsZSwgbWFya2VyRW5kOiBtYXJrZXJFbmQsIG1hcmtlclN0YXJ0OiBtYXJrZXJTdGFydCwgaW50ZXJhY3Rpb25XaWR0aDogaW50ZXJhY3Rpb25XaWR0aCB9KSk7XG59KTtcblNtb290aFN0ZXBFZGdlLmRpc3BsYXlOYW1lID0gJ1Ntb290aFN0ZXBFZGdlJztcblxuY29uc3QgU3RlcEVkZ2UgPSBtZW1vKChwcm9wcykgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU21vb3RoU3RlcEVkZ2UsIHsgLi4ucHJvcHMsIHBhdGhPcHRpb25zOiB1c2VNZW1vKCgpID0+ICh7IGJvcmRlclJhZGl1czogMCwgb2Zmc2V0OiBwcm9wcy5wYXRoT3B0aW9ucz8ub2Zmc2V0IH0pLCBbcHJvcHMucGF0aE9wdGlvbnM/Lm9mZnNldF0pIH0pKSk7XG5TdGVwRWRnZS5kaXNwbGF5TmFtZSA9ICdTdGVwRWRnZSc7XG5cbmZ1bmN0aW9uIGdldFN0cmFpZ2h0UGF0aCh7IHNvdXJjZVgsIHNvdXJjZVksIHRhcmdldFgsIHRhcmdldFksIH0pIHtcbiAgICBjb25zdCBbbGFiZWxYLCBsYWJlbFksIG9mZnNldFgsIG9mZnNldFldID0gZ2V0RWRnZUNlbnRlcih7XG4gICAgICAgIHNvdXJjZVgsXG4gICAgICAgIHNvdXJjZVksXG4gICAgICAgIHRhcmdldFgsXG4gICAgICAgIHRhcmdldFksXG4gICAgfSk7XG4gICAgcmV0dXJuIFtgTSAke3NvdXJjZVh9LCR7c291cmNlWX1MICR7dGFyZ2V0WH0sJHt0YXJnZXRZfWAsIGxhYmVsWCwgbGFiZWxZLCBvZmZzZXRYLCBvZmZzZXRZXTtcbn1cbmNvbnN0IFN0cmFpZ2h0RWRnZSA9IG1lbW8oKHsgc291cmNlWCwgc291cmNlWSwgdGFyZ2V0WCwgdGFyZ2V0WSwgbGFiZWwsIGxhYmVsU3R5bGUsIGxhYmVsU2hvd0JnLCBsYWJlbEJnU3R5bGUsIGxhYmVsQmdQYWRkaW5nLCBsYWJlbEJnQm9yZGVyUmFkaXVzLCBzdHlsZSwgbWFya2VyRW5kLCBtYXJrZXJTdGFydCwgaW50ZXJhY3Rpb25XaWR0aCwgfSkgPT4ge1xuICAgIGNvbnN0IFtwYXRoLCBsYWJlbFgsIGxhYmVsWV0gPSBnZXRTdHJhaWdodFBhdGgoeyBzb3VyY2VYLCBzb3VyY2VZLCB0YXJnZXRYLCB0YXJnZXRZIH0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChCYXNlRWRnZSwgeyBwYXRoOiBwYXRoLCBsYWJlbFg6IGxhYmVsWCwgbGFiZWxZOiBsYWJlbFksIGxhYmVsOiBsYWJlbCwgbGFiZWxTdHlsZTogbGFiZWxTdHlsZSwgbGFiZWxTaG93Qmc6IGxhYmVsU2hvd0JnLCBsYWJlbEJnU3R5bGU6IGxhYmVsQmdTdHlsZSwgbGFiZWxCZ1BhZGRpbmc6IGxhYmVsQmdQYWRkaW5nLCBsYWJlbEJnQm9yZGVyUmFkaXVzOiBsYWJlbEJnQm9yZGVyUmFkaXVzLCBzdHlsZTogc3R5bGUsIG1hcmtlckVuZDogbWFya2VyRW5kLCBtYXJrZXJTdGFydDogbWFya2VyU3RhcnQsIGludGVyYWN0aW9uV2lkdGg6IGludGVyYWN0aW9uV2lkdGggfSkpO1xufSk7XG5TdHJhaWdodEVkZ2UuZGlzcGxheU5hbWUgPSAnU3RyYWlnaHRFZGdlJztcblxuZnVuY3Rpb24gY2FsY3VsYXRlQ29udHJvbE9mZnNldChkaXN0YW5jZSwgY3VydmF0dXJlKSB7XG4gICAgaWYgKGRpc3RhbmNlID49IDApIHtcbiAgICAgICAgcmV0dXJuIDAuNSAqIGRpc3RhbmNlO1xuICAgIH1cbiAgICByZXR1cm4gY3VydmF0dXJlICogMjUgKiBNYXRoLnNxcnQoLWRpc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIGdldENvbnRyb2xXaXRoQ3VydmF0dXJlKHsgcG9zLCB4MSwgeTEsIHgyLCB5MiwgYyB9KSB7XG4gICAgc3dpdGNoIChwb3MpIHtcbiAgICAgICAgY2FzZSBQb3NpdGlvbi5MZWZ0OlxuICAgICAgICAgICAgcmV0dXJuIFt4MSAtIGNhbGN1bGF0ZUNvbnRyb2xPZmZzZXQoeDEgLSB4MiwgYyksIHkxXTtcbiAgICAgICAgY2FzZSBQb3NpdGlvbi5SaWdodDpcbiAgICAgICAgICAgIHJldHVybiBbeDEgKyBjYWxjdWxhdGVDb250cm9sT2Zmc2V0KHgyIC0geDEsIGMpLCB5MV07XG4gICAgICAgIGNhc2UgUG9zaXRpb24uVG9wOlxuICAgICAgICAgICAgcmV0dXJuIFt4MSwgeTEgLSBjYWxjdWxhdGVDb250cm9sT2Zmc2V0KHkxIC0geTIsIGMpXTtcbiAgICAgICAgY2FzZSBQb3NpdGlvbi5Cb3R0b206XG4gICAgICAgICAgICByZXR1cm4gW3gxLCB5MSArIGNhbGN1bGF0ZUNvbnRyb2xPZmZzZXQoeTIgLSB5MSwgYyldO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEJlemllclBhdGgoeyBzb3VyY2VYLCBzb3VyY2VZLCBzb3VyY2VQb3NpdGlvbiA9IFBvc2l0aW9uLkJvdHRvbSwgdGFyZ2V0WCwgdGFyZ2V0WSwgdGFyZ2V0UG9zaXRpb24gPSBQb3NpdGlvbi5Ub3AsIGN1cnZhdHVyZSA9IDAuMjUsIH0pIHtcbiAgICBjb25zdCBbc291cmNlQ29udHJvbFgsIHNvdXJjZUNvbnRyb2xZXSA9IGdldENvbnRyb2xXaXRoQ3VydmF0dXJlKHtcbiAgICAgICAgcG9zOiBzb3VyY2VQb3NpdGlvbixcbiAgICAgICAgeDE6IHNvdXJjZVgsXG4gICAgICAgIHkxOiBzb3VyY2VZLFxuICAgICAgICB4MjogdGFyZ2V0WCxcbiAgICAgICAgeTI6IHRhcmdldFksXG4gICAgICAgIGM6IGN1cnZhdHVyZSxcbiAgICB9KTtcbiAgICBjb25zdCBbdGFyZ2V0Q29udHJvbFgsIHRhcmdldENvbnRyb2xZXSA9IGdldENvbnRyb2xXaXRoQ3VydmF0dXJlKHtcbiAgICAgICAgcG9zOiB0YXJnZXRQb3NpdGlvbixcbiAgICAgICAgeDE6IHRhcmdldFgsXG4gICAgICAgIHkxOiB0YXJnZXRZLFxuICAgICAgICB4Mjogc291cmNlWCxcbiAgICAgICAgeTI6IHNvdXJjZVksXG4gICAgICAgIGM6IGN1cnZhdHVyZSxcbiAgICB9KTtcbiAgICBjb25zdCBbbGFiZWxYLCBsYWJlbFksIG9mZnNldFgsIG9mZnNldFldID0gZ2V0QmV6aWVyRWRnZUNlbnRlcih7XG4gICAgICAgIHNvdXJjZVgsXG4gICAgICAgIHNvdXJjZVksXG4gICAgICAgIHRhcmdldFgsXG4gICAgICAgIHRhcmdldFksXG4gICAgICAgIHNvdXJjZUNvbnRyb2xYLFxuICAgICAgICBzb3VyY2VDb250cm9sWSxcbiAgICAgICAgdGFyZ2V0Q29udHJvbFgsXG4gICAgICAgIHRhcmdldENvbnRyb2xZLFxuICAgIH0pO1xuICAgIHJldHVybiBbXG4gICAgICAgIGBNJHtzb3VyY2VYfSwke3NvdXJjZVl9IEMke3NvdXJjZUNvbnRyb2xYfSwke3NvdXJjZUNvbnRyb2xZfSAke3RhcmdldENvbnRyb2xYfSwke3RhcmdldENvbnRyb2xZfSAke3RhcmdldFh9LCR7dGFyZ2V0WX1gLFxuICAgICAgICBsYWJlbFgsXG4gICAgICAgIGxhYmVsWSxcbiAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgb2Zmc2V0WSxcbiAgICBdO1xufVxuY29uc3QgQmV6aWVyRWRnZSA9IG1lbW8oKHsgc291cmNlWCwgc291cmNlWSwgdGFyZ2V0WCwgdGFyZ2V0WSwgc291cmNlUG9zaXRpb24gPSBQb3NpdGlvbi5Cb3R0b20sIHRhcmdldFBvc2l0aW9uID0gUG9zaXRpb24uVG9wLCBsYWJlbCwgbGFiZWxTdHlsZSwgbGFiZWxTaG93QmcsIGxhYmVsQmdTdHlsZSwgbGFiZWxCZ1BhZGRpbmcsIGxhYmVsQmdCb3JkZXJSYWRpdXMsIHN0eWxlLCBtYXJrZXJFbmQsIG1hcmtlclN0YXJ0LCBwYXRoT3B0aW9ucywgaW50ZXJhY3Rpb25XaWR0aCwgfSkgPT4ge1xuICAgIGNvbnN0IFtwYXRoLCBsYWJlbFgsIGxhYmVsWV0gPSBnZXRCZXppZXJQYXRoKHtcbiAgICAgICAgc291cmNlWCxcbiAgICAgICAgc291cmNlWSxcbiAgICAgICAgc291cmNlUG9zaXRpb24sXG4gICAgICAgIHRhcmdldFgsXG4gICAgICAgIHRhcmdldFksXG4gICAgICAgIHRhcmdldFBvc2l0aW9uLFxuICAgICAgICBjdXJ2YXR1cmU6IHBhdGhPcHRpb25zPy5jdXJ2YXR1cmUsXG4gICAgfSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJhc2VFZGdlLCB7IHBhdGg6IHBhdGgsIGxhYmVsWDogbGFiZWxYLCBsYWJlbFk6IGxhYmVsWSwgbGFiZWw6IGxhYmVsLCBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLCBsYWJlbFNob3dCZzogbGFiZWxTaG93QmcsIGxhYmVsQmdTdHlsZTogbGFiZWxCZ1N0eWxlLCBsYWJlbEJnUGFkZGluZzogbGFiZWxCZ1BhZGRpbmcsIGxhYmVsQmdCb3JkZXJSYWRpdXM6IGxhYmVsQmdCb3JkZXJSYWRpdXMsIHN0eWxlOiBzdHlsZSwgbWFya2VyRW5kOiBtYXJrZXJFbmQsIG1hcmtlclN0YXJ0OiBtYXJrZXJTdGFydCwgaW50ZXJhY3Rpb25XaWR0aDogaW50ZXJhY3Rpb25XaWR0aCB9KSk7XG59KTtcbkJlemllckVkZ2UuZGlzcGxheU5hbWUgPSAnQmV6aWVyRWRnZSc7XG5cbmNvbnN0IE5vZGVJZENvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgUHJvdmlkZXIgPSBOb2RlSWRDb250ZXh0LlByb3ZpZGVyO1xuTm9kZUlkQ29udGV4dC5Db25zdW1lcjtcbmNvbnN0IHVzZU5vZGVJZCA9ICgpID0+IHtcbiAgICBjb25zdCBub2RlSWQgPSB1c2VDb250ZXh0KE5vZGVJZENvbnRleHQpO1xuICAgIHJldHVybiBub2RlSWQ7XG59O1xuXG5jb25zdCBpc0VkZ2UgPSAoZWxlbWVudCkgPT4gJ2lkJyBpbiBlbGVtZW50ICYmICdzb3VyY2UnIGluIGVsZW1lbnQgJiYgJ3RhcmdldCcgaW4gZWxlbWVudDtcbmNvbnN0IGlzTm9kZSA9IChlbGVtZW50KSA9PiAnaWQnIGluIGVsZW1lbnQgJiYgISgnc291cmNlJyBpbiBlbGVtZW50KSAmJiAhKCd0YXJnZXQnIGluIGVsZW1lbnQpO1xuY29uc3QgZ2V0T3V0Z29lcnMgPSAobm9kZSwgbm9kZXMsIGVkZ2VzKSA9PiB7XG4gICAgaWYgKCFpc05vZGUobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBvdXRnb2VySWRzID0gZWRnZXMuZmlsdGVyKChlKSA9PiBlLnNvdXJjZSA9PT0gbm9kZS5pZCkubWFwKChlKSA9PiBlLnRhcmdldCk7XG4gICAgcmV0dXJuIG5vZGVzLmZpbHRlcigobikgPT4gb3V0Z29lcklkcy5pbmNsdWRlcyhuLmlkKSk7XG59O1xuY29uc3QgZ2V0SW5jb21lcnMgPSAobm9kZSwgbm9kZXMsIGVkZ2VzKSA9PiB7XG4gICAgaWYgKCFpc05vZGUobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBpbmNvbWVyc0lkcyA9IGVkZ2VzLmZpbHRlcigoZSkgPT4gZS50YXJnZXQgPT09IG5vZGUuaWQpLm1hcCgoZSkgPT4gZS5zb3VyY2UpO1xuICAgIHJldHVybiBub2Rlcy5maWx0ZXIoKG4pID0+IGluY29tZXJzSWRzLmluY2x1ZGVzKG4uaWQpKTtcbn07XG5jb25zdCBnZXRFZGdlSWQgPSAoeyBzb3VyY2UsIHNvdXJjZUhhbmRsZSwgdGFyZ2V0LCB0YXJnZXRIYW5kbGUgfSkgPT4gYHJlYWN0Zmxvd19fZWRnZS0ke3NvdXJjZX0ke3NvdXJjZUhhbmRsZSB8fCAnJ30tJHt0YXJnZXR9JHt0YXJnZXRIYW5kbGUgfHwgJyd9YDtcbmNvbnN0IGdldE1hcmtlcklkID0gKG1hcmtlciwgcmZJZCkgPT4ge1xuICAgIGlmICh0eXBlb2YgbWFya2VyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbWFya2VyID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbWFya2VyO1xuICAgIH1cbiAgICBjb25zdCBpZFByZWZpeCA9IHJmSWQgPyBgJHtyZklkfV9fYCA6ICcnO1xuICAgIHJldHVybiBgJHtpZFByZWZpeH0ke09iamVjdC5rZXlzKG1hcmtlcilcbiAgICAgICAgLnNvcnQoKVxuICAgICAgICAubWFwKChrZXkpID0+IGAke2tleX09JHttYXJrZXJba2V5XX1gKVxuICAgICAgICAuam9pbignJicpfWA7XG59O1xuY29uc3QgY29ubmVjdGlvbkV4aXN0cyA9IChlZGdlLCBlZGdlcykgPT4ge1xuICAgIHJldHVybiBlZGdlcy5zb21lKChlbCkgPT4gZWwuc291cmNlID09PSBlZGdlLnNvdXJjZSAmJlxuICAgICAgICBlbC50YXJnZXQgPT09IGVkZ2UudGFyZ2V0ICYmXG4gICAgICAgIChlbC5zb3VyY2VIYW5kbGUgPT09IGVkZ2Uuc291cmNlSGFuZGxlIHx8ICghZWwuc291cmNlSGFuZGxlICYmICFlZGdlLnNvdXJjZUhhbmRsZSkpICYmXG4gICAgICAgIChlbC50YXJnZXRIYW5kbGUgPT09IGVkZ2UudGFyZ2V0SGFuZGxlIHx8ICghZWwudGFyZ2V0SGFuZGxlICYmICFlZGdlLnRhcmdldEhhbmRsZSkpKTtcbn07XG5jb25zdCBhZGRFZGdlID0gKGVkZ2VQYXJhbXMsIGVkZ2VzKSA9PiB7XG4gICAgaWYgKCFlZGdlUGFyYW1zLnNvdXJjZSB8fCAhZWRnZVBhcmFtcy50YXJnZXQpIHtcbiAgICAgICAgZGV2V2FybignMDA2JywgZXJyb3JNZXNzYWdlc1snZXJyb3IwMDYnXSgpKTtcbiAgICAgICAgcmV0dXJuIGVkZ2VzO1xuICAgIH1cbiAgICBsZXQgZWRnZTtcbiAgICBpZiAoaXNFZGdlKGVkZ2VQYXJhbXMpKSB7XG4gICAgICAgIGVkZ2UgPSB7IC4uLmVkZ2VQYXJhbXMgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVkZ2UgPSB7XG4gICAgICAgICAgICAuLi5lZGdlUGFyYW1zLFxuICAgICAgICAgICAgaWQ6IGdldEVkZ2VJZChlZGdlUGFyYW1zKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGNvbm5lY3Rpb25FeGlzdHMoZWRnZSwgZWRnZXMpKSB7XG4gICAgICAgIHJldHVybiBlZGdlcztcbiAgICB9XG4gICAgcmV0dXJuIGVkZ2VzLmNvbmNhdChlZGdlKTtcbn07XG5jb25zdCB1cGRhdGVFZGdlID0gKG9sZEVkZ2UsIG5ld0Nvbm5lY3Rpb24sIGVkZ2VzLCBvcHRpb25zID0geyBzaG91bGRSZXBsYWNlSWQ6IHRydWUgfSkgPT4ge1xuICAgIGNvbnN0IHsgaWQ6IG9sZEVkZ2VJZCwgLi4ucmVzdCB9ID0gb2xkRWRnZTtcbiAgICBpZiAoIW5ld0Nvbm5lY3Rpb24uc291cmNlIHx8ICFuZXdDb25uZWN0aW9uLnRhcmdldCkge1xuICAgICAgICBkZXZXYXJuKCcwMDYnLCBlcnJvck1lc3NhZ2VzWydlcnJvcjAwNiddKCkpO1xuICAgICAgICByZXR1cm4gZWRnZXM7XG4gICAgfVxuICAgIGNvbnN0IGZvdW5kRWRnZSA9IGVkZ2VzLmZpbmQoKGUpID0+IGUuaWQgPT09IG9sZEVkZ2VJZCk7XG4gICAgaWYgKCFmb3VuZEVkZ2UpIHtcbiAgICAgICAgZGV2V2FybignMDA3JywgZXJyb3JNZXNzYWdlc1snZXJyb3IwMDcnXShvbGRFZGdlSWQpKTtcbiAgICAgICAgcmV0dXJuIGVkZ2VzO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgb2xkIGVkZ2UgYW5kIGNyZWF0ZSB0aGUgbmV3IGVkZ2Ugd2l0aCBwYXJhbWV0ZXJzIG9mIG9sZCBlZGdlLlxuICAgIGNvbnN0IGVkZ2UgPSB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIGlkOiBvcHRpb25zLnNob3VsZFJlcGxhY2VJZCA/IGdldEVkZ2VJZChuZXdDb25uZWN0aW9uKSA6IG9sZEVkZ2VJZCxcbiAgICAgICAgc291cmNlOiBuZXdDb25uZWN0aW9uLnNvdXJjZSxcbiAgICAgICAgdGFyZ2V0OiBuZXdDb25uZWN0aW9uLnRhcmdldCxcbiAgICAgICAgc291cmNlSGFuZGxlOiBuZXdDb25uZWN0aW9uLnNvdXJjZUhhbmRsZSxcbiAgICAgICAgdGFyZ2V0SGFuZGxlOiBuZXdDb25uZWN0aW9uLnRhcmdldEhhbmRsZSxcbiAgICB9O1xuICAgIHJldHVybiBlZGdlcy5maWx0ZXIoKGUpID0+IGUuaWQgIT09IG9sZEVkZ2VJZCkuY29uY2F0KGVkZ2UpO1xufTtcbmNvbnN0IHBvaW50VG9SZW5kZXJlclBvaW50ID0gKHsgeCwgeSB9LCBbdHgsIHR5LCB0U2NhbGVdLCBzbmFwVG9HcmlkLCBbc25hcFgsIHNuYXBZXSkgPT4ge1xuICAgIGNvbnN0IHBvc2l0aW9uID0ge1xuICAgICAgICB4OiAoeCAtIHR4KSAvIHRTY2FsZSxcbiAgICAgICAgeTogKHkgLSB0eSkgLyB0U2NhbGUsXG4gICAgfTtcbiAgICBpZiAoc25hcFRvR3JpZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogc25hcFggKiBNYXRoLnJvdW5kKHBvc2l0aW9uLnggLyBzbmFwWCksXG4gICAgICAgICAgICB5OiBzbmFwWSAqIE1hdGgucm91bmQocG9zaXRpb24ueSAvIHNuYXBZKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHBvc2l0aW9uO1xufTtcbmNvbnN0IHJlbmRlcmVyUG9pbnRUb1BvaW50ID0gKHsgeCwgeSB9LCBbdHgsIHR5LCB0U2NhbGVdKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAqIHRTY2FsZSArIHR4LFxuICAgICAgICB5OiB5ICogdFNjYWxlICsgdHksXG4gICAgfTtcbn07XG5jb25zdCBnZXROb2RlUG9zaXRpb25XaXRoT3JpZ2luID0gKG5vZGUsIG5vZGVPcmlnaW4gPSBbMCwgMF0pID0+IHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgcG9zaXRpb25BYnNvbHV0ZToge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG9mZnNldFggPSAobm9kZS53aWR0aCA/PyAwKSAqIG5vZGVPcmlnaW5bMF07XG4gICAgY29uc3Qgb2Zmc2V0WSA9IChub2RlLmhlaWdodCA/PyAwKSAqIG5vZGVPcmlnaW5bMV07XG4gICAgY29uc3QgcG9zaXRpb24gPSB7XG4gICAgICAgIHg6IG5vZGUucG9zaXRpb24ueCAtIG9mZnNldFgsXG4gICAgICAgIHk6IG5vZGUucG9zaXRpb24ueSAtIG9mZnNldFksXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5wb3NpdGlvbixcbiAgICAgICAgcG9zaXRpb25BYnNvbHV0ZTogbm9kZS5wb3NpdGlvbkFic29sdXRlXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB4OiBub2RlLnBvc2l0aW9uQWJzb2x1dGUueCAtIG9mZnNldFgsXG4gICAgICAgICAgICAgICAgeTogbm9kZS5wb3NpdGlvbkFic29sdXRlLnkgLSBvZmZzZXRZLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBwb3NpdGlvbixcbiAgICB9O1xufTtcbmNvbnN0IGdldFJlY3RPZk5vZGVzID0gKG5vZGVzLCBub2RlT3JpZ2luID0gWzAsIDBdKSA9PiB7XG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgfVxuICAgIGNvbnN0IGJveCA9IG5vZGVzLnJlZHVjZSgoY3VyckJveCwgbm9kZSkgPT4ge1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGdldE5vZGVQb3NpdGlvbldpdGhPcmlnaW4obm9kZSwgbm9kZU9yaWdpbikucG9zaXRpb25BYnNvbHV0ZTtcbiAgICAgICAgcmV0dXJuIGdldEJvdW5kc09mQm94ZXMoY3VyckJveCwgcmVjdFRvQm94KHtcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgd2lkdGg6IG5vZGUud2lkdGggfHwgMCxcbiAgICAgICAgICAgIGhlaWdodDogbm9kZS5oZWlnaHQgfHwgMCxcbiAgICAgICAgfSkpO1xuICAgIH0sIHsgeDogSW5maW5pdHksIHk6IEluZmluaXR5LCB4MjogLUluZmluaXR5LCB5MjogLUluZmluaXR5IH0pO1xuICAgIHJldHVybiBib3hUb1JlY3QoYm94KTtcbn07XG5jb25zdCBnZXROb2Rlc0luc2lkZSA9IChub2RlSW50ZXJuYWxzLCByZWN0LCBbdHgsIHR5LCB0U2NhbGVdID0gWzAsIDAsIDFdLCBwYXJ0aWFsbHkgPSBmYWxzZSwgXG4vLyBzZXQgZXhjbHVkZU5vblNlbGVjdGFibGVOb2RlcyBpZiB5b3Ugd2FudCB0byBwYXkgYXR0ZW50aW9uIHRvIHRoZSBub2RlcyBcInNlbGVjdGFibGVcIiBhdHRyaWJ1dGVcbmV4Y2x1ZGVOb25TZWxlY3RhYmxlTm9kZXMgPSBmYWxzZSwgbm9kZU9yaWdpbiA9IFswLCAwXSkgPT4ge1xuICAgIGNvbnN0IHBhbmVSZWN0ID0ge1xuICAgICAgICB4OiAocmVjdC54IC0gdHgpIC8gdFNjYWxlLFxuICAgICAgICB5OiAocmVjdC55IC0gdHkpIC8gdFNjYWxlLFxuICAgICAgICB3aWR0aDogcmVjdC53aWR0aCAvIHRTY2FsZSxcbiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCAvIHRTY2FsZSxcbiAgICB9O1xuICAgIGNvbnN0IHZpc2libGVOb2RlcyA9IFtdO1xuICAgIG5vZGVJbnRlcm5hbHMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHNlbGVjdGFibGUgPSB0cnVlLCBoaWRkZW4gPSBmYWxzZSB9ID0gbm9kZTtcbiAgICAgICAgaWYgKChleGNsdWRlTm9uU2VsZWN0YWJsZU5vZGVzICYmICFzZWxlY3RhYmxlKSB8fCBoaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHBvc2l0aW9uQWJzb2x1dGUgfSA9IGdldE5vZGVQb3NpdGlvbldpdGhPcmlnaW4obm9kZSwgbm9kZU9yaWdpbik7XG4gICAgICAgIGNvbnN0IG5vZGVSZWN0ID0ge1xuICAgICAgICAgICAgeDogcG9zaXRpb25BYnNvbHV0ZS54LFxuICAgICAgICAgICAgeTogcG9zaXRpb25BYnNvbHV0ZS55LFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoIHx8IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCB8fCAwLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvdmVybGFwcGluZ0FyZWEgPSBnZXRPdmVybGFwcGluZ0FyZWEocGFuZVJlY3QsIG5vZGVSZWN0KTtcbiAgICAgICAgY29uc3Qgbm90SW5pdGlhbGl6ZWQgPSB0eXBlb2Ygd2lkdGggPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBoZWlnaHQgPT09ICd1bmRlZmluZWQnIHx8IHdpZHRoID09PSBudWxsIHx8IGhlaWdodCA9PT0gbnVsbDtcbiAgICAgICAgY29uc3QgcGFydGlhbGx5VmlzaWJsZSA9IHBhcnRpYWxseSAmJiBvdmVybGFwcGluZ0FyZWEgPiAwO1xuICAgICAgICBjb25zdCBhcmVhID0gKHdpZHRoIHx8IDApICogKGhlaWdodCB8fCAwKTtcbiAgICAgICAgY29uc3QgaXNWaXNpYmxlID0gbm90SW5pdGlhbGl6ZWQgfHwgcGFydGlhbGx5VmlzaWJsZSB8fCBvdmVybGFwcGluZ0FyZWEgPj0gYXJlYTtcbiAgICAgICAgaWYgKGlzVmlzaWJsZSB8fCBub2RlLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICB2aXNpYmxlTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2aXNpYmxlTm9kZXM7XG59O1xuY29uc3QgZ2V0Q29ubmVjdGVkRWRnZXMgPSAobm9kZXMsIGVkZ2VzKSA9PiB7XG4gICAgY29uc3Qgbm9kZUlkcyA9IG5vZGVzLm1hcCgobm9kZSkgPT4gbm9kZS5pZCk7XG4gICAgcmV0dXJuIGVkZ2VzLmZpbHRlcigoZWRnZSkgPT4gbm9kZUlkcy5pbmNsdWRlcyhlZGdlLnNvdXJjZSkgfHwgbm9kZUlkcy5pbmNsdWRlcyhlZGdlLnRhcmdldCkpO1xufTtcbmNvbnN0IGdldFRyYW5zZm9ybUZvckJvdW5kcyA9IChib3VuZHMsIHdpZHRoLCBoZWlnaHQsIG1pblpvb20sIG1heFpvb20sIHBhZGRpbmcgPSAwLjEpID0+IHtcbiAgICBjb25zdCB4Wm9vbSA9IHdpZHRoIC8gKGJvdW5kcy53aWR0aCAqICgxICsgcGFkZGluZykpO1xuICAgIGNvbnN0IHlab29tID0gaGVpZ2h0IC8gKGJvdW5kcy5oZWlnaHQgKiAoMSArIHBhZGRpbmcpKTtcbiAgICBjb25zdCB6b29tID0gTWF0aC5taW4oeFpvb20sIHlab29tKTtcbiAgICBjb25zdCBjbGFtcGVkWm9vbSA9IGNsYW1wKHpvb20sIG1pblpvb20sIG1heFpvb20pO1xuICAgIGNvbnN0IGJvdW5kc0NlbnRlclggPSBib3VuZHMueCArIGJvdW5kcy53aWR0aCAvIDI7XG4gICAgY29uc3QgYm91bmRzQ2VudGVyWSA9IGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCAvIDI7XG4gICAgY29uc3QgeCA9IHdpZHRoIC8gMiAtIGJvdW5kc0NlbnRlclggKiBjbGFtcGVkWm9vbTtcbiAgICBjb25zdCB5ID0gaGVpZ2h0IC8gMiAtIGJvdW5kc0NlbnRlclkgKiBjbGFtcGVkWm9vbTtcbiAgICByZXR1cm4gW3gsIHksIGNsYW1wZWRab29tXTtcbn07XG5jb25zdCBnZXREM1RyYW5zaXRpb24gPSAoc2VsZWN0aW9uLCBkdXJhdGlvbiA9IDApID0+IHtcbiAgICByZXR1cm4gc2VsZWN0aW9uLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXJhdGlvbik7XG59O1xuXG4vLyB0aGlzIGZ1bmN0aW9ucyBjb2xsZWN0cyBhbGwgaGFuZGxlcyBhbmQgYWRkcyBhbiBhYnNvbHV0ZSBwb3NpdGlvblxuLy8gc28gdGhhdCB3ZSBjYW4gbGF0ZXIgZmluZCB0aGUgY2xvc2VzdCBoYW5kbGUgdG8gdGhlIG1vdXNlIHBvc2l0aW9uXG5mdW5jdGlvbiBnZXRIYW5kbGVzKG5vZGUsIGhhbmRsZUJvdW5kcywgdHlwZSwgY3VycmVudEhhbmRsZSkge1xuICAgIHJldHVybiAoaGFuZGxlQm91bmRzW3R5cGVdIHx8IFtdKS5yZWR1Y2UoKHJlcywgaCkgPT4ge1xuICAgICAgICBpZiAoYCR7bm9kZS5pZH0tJHtoLmlkfS0ke3R5cGV9YCAhPT0gY3VycmVudEhhbmRsZSkge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBoLmlkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICBub2RlSWQ6IG5vZGUuaWQsXG4gICAgICAgICAgICAgICAgeDogKG5vZGUucG9zaXRpb25BYnNvbHV0ZT8ueCA/PyAwKSArIGgueCArIGgud2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHk6IChub2RlLnBvc2l0aW9uQWJzb2x1dGU/LnkgPz8gMCkgKyBoLnkgKyBoLmhlaWdodCAvIDIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0sIFtdKTtcbn1cbmZ1bmN0aW9uIGdldENsb3Nlc3RIYW5kbGUoZXZlbnQsIGRvYywgcG9zLCBjb25uZWN0aW9uUmFkaXVzLCBoYW5kbGVzLCB2YWxpZGF0b3IpIHtcbiAgICAvLyB3ZSBhbHdheXMgd2FudCB0byBwcmlvcml0aXplIHRoZSBoYW5kbGUgYmVsb3cgdGhlIG1vdXNlIGN1cnNvciBvdmVyIHRoZSBjbG9zZXN0IGRpc3RhbmNlIGhhbmRsZSxcbiAgICAvLyBiZWNhdXNlIGl0IGNvdWxkIGJlIHRoYXQgdGhlIGNlbnRlciBvZiBhbm90aGVyIGhhbmRsZSBpcyBjbG9zZXIgdG8gdGhlIG1vdXNlIHBvaW50ZXIgdGhhbiB0aGUgaGFuZGxlIGJlbG93IHRoZSBjdXJzb3JcbiAgICBjb25zdCB7IHgsIHkgfSA9IGdldEV2ZW50UG9zaXRpb24oZXZlbnQpO1xuICAgIGNvbnN0IGRvbU5vZGVzID0gZG9jLmVsZW1lbnRzRnJvbVBvaW50KHgsIHkpO1xuICAgIGNvbnN0IGhhbmRsZUJlbG93ID0gZG9tTm9kZXMuZmluZCgoZWwpID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygncmVhY3QtZmxvd19faGFuZGxlJykpO1xuICAgIGlmIChoYW5kbGVCZWxvdykge1xuICAgICAgICBjb25zdCBoYW5kbGVOb2RlSWQgPSBoYW5kbGVCZWxvdy5nZXRBdHRyaWJ1dGUoJ2RhdGEtbm9kZWlkJyk7XG4gICAgICAgIGlmIChoYW5kbGVOb2RlSWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVR5cGUgPSBnZXRIYW5kbGVUeXBlKHVuZGVmaW5lZCwgaGFuZGxlQmVsb3cpO1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlSWQgPSBoYW5kbGVCZWxvdy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGFuZGxlaWQnKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkSGFuZGxlUmVzdWx0ID0gdmFsaWRhdG9yKHsgbm9kZUlkOiBoYW5kbGVOb2RlSWQsIGlkOiBoYW5kbGVJZCwgdHlwZTogaGFuZGxlVHlwZSB9KTtcbiAgICAgICAgICAgIGlmICh2YWxpZEhhbmRsZVJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGhhbmRsZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogaGFuZGxlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJZDogaGFuZGxlTm9kZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDogcG9zLngsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBwb3MueSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRIYW5kbGVSZXN1bHQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiB3ZSBjb3VsZG4ndCBmaW5kIGEgaGFuZGxlIGJlbG93IHRoZSBtb3VzZSBjdXJzb3Igd2UgbG9vayBmb3IgdGhlIGNsb3Nlc3QgZGlzdGFuY2UgYmFzZWQgb24gdGhlIGNvbm5lY3Rpb25SYWRpdXNcbiAgICBsZXQgY2xvc2VzdEhhbmRsZXMgPSBbXTtcbiAgICBsZXQgbWluRGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgICBoYW5kbGVzLmZvckVhY2goKGhhbmRsZSkgPT4ge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydCgoaGFuZGxlLnggLSBwb3MueCkgKiogMiArIChoYW5kbGUueSAtIHBvcy55KSAqKiAyKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDw9IGNvbm5lY3Rpb25SYWRpdXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkSGFuZGxlUmVzdWx0ID0gdmFsaWRhdG9yKGhhbmRsZSk7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gbWluRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZXN0SGFuZGxlcyA9IFt7IGhhbmRsZSwgdmFsaWRIYW5kbGVSZXN1bHQgfV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpc3RhbmNlID09PSBtaW5EaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIG11bHRpcGxlIGhhbmRsZXMgYXJlIG9uIHRoZSBzYW1lIGRpc3RhbmNlIHdlIGNvbGxlY3QgYWxsIG9mIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgY2xvc2VzdEhhbmRsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZEhhbmRsZVJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWNsb3Nlc3RIYW5kbGVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4geyBoYW5kbGU6IG51bGwsIHZhbGlkSGFuZGxlUmVzdWx0OiBkZWZhdWx0UmVzdWx0KCkgfTtcbiAgICB9XG4gICAgaWYgKGNsb3Nlc3RIYW5kbGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gY2xvc2VzdEhhbmRsZXNbMF07XG4gICAgfVxuICAgIGNvbnN0IGhhc1ZhbGlkSGFuZGxlID0gY2xvc2VzdEhhbmRsZXMuc29tZSgoeyB2YWxpZEhhbmRsZVJlc3VsdCB9KSA9PiB2YWxpZEhhbmRsZVJlc3VsdC5pc1ZhbGlkKTtcbiAgICBjb25zdCBoYXNUYXJnZXRIYW5kbGUgPSBjbG9zZXN0SGFuZGxlcy5zb21lKCh7IGhhbmRsZSB9KSA9PiBoYW5kbGUudHlwZSA9PT0gJ3RhcmdldCcpO1xuICAgIC8vIGlmIG11bHRpcGxlIGhhbmRsZXMgYXJlIGxheW91dGVkIG9uIHRvcCBvZiBlYWNoIG90aGVyIHdlIHByZWZlciB0aGUgb25lIHdpdGggdHlwZSA9IHRhcmdldCBhbmQgdGhlIG9uZSB0aGF0IGlzIHZhbGlkXG4gICAgcmV0dXJuIChjbG9zZXN0SGFuZGxlcy5maW5kKCh7IGhhbmRsZSwgdmFsaWRIYW5kbGVSZXN1bHQgfSkgPT4gaGFzVGFyZ2V0SGFuZGxlID8gaGFuZGxlLnR5cGUgPT09ICd0YXJnZXQnIDogKGhhc1ZhbGlkSGFuZGxlID8gdmFsaWRIYW5kbGVSZXN1bHQuaXNWYWxpZCA6IHRydWUpKSB8fCBjbG9zZXN0SGFuZGxlc1swXSk7XG59XG5jb25zdCBudWxsQ29ubmVjdGlvbiA9IHsgc291cmNlOiBudWxsLCB0YXJnZXQ6IG51bGwsIHNvdXJjZUhhbmRsZTogbnVsbCwgdGFyZ2V0SGFuZGxlOiBudWxsIH07XG5jb25zdCBkZWZhdWx0UmVzdWx0ID0gKCkgPT4gKHtcbiAgICBoYW5kbGVEb21Ob2RlOiBudWxsLFxuICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgIGNvbm5lY3Rpb246IG51bGxDb25uZWN0aW9uLFxuICAgIGVuZEhhbmRsZTogbnVsbCxcbn0pO1xuLy8gY2hlY2tzIGlmICBhbmQgcmV0dXJucyBjb25uZWN0aW9uIGluIGZvbSBvZiBhbiBvYmplY3QgeyBzb3VyY2U6IDEyMywgdGFyZ2V0OiAzMTIgfVxuZnVuY3Rpb24gaXNWYWxpZEhhbmRsZShoYW5kbGUsIGNvbm5lY3Rpb25Nb2RlLCBmcm9tTm9kZUlkLCBmcm9tSGFuZGxlSWQsIGZyb21UeXBlLCBpc1ZhbGlkQ29ubmVjdGlvbiwgZG9jKSB7XG4gICAgY29uc3QgaXNUYXJnZXQgPSBmcm9tVHlwZSA9PT0gJ3RhcmdldCc7XG4gICAgY29uc3QgaGFuZGxlVG9DaGVjayA9IGRvYy5xdWVyeVNlbGVjdG9yKGAucmVhY3QtZmxvd19faGFuZGxlW2RhdGEtaWQ9XCIke2hhbmRsZT8ubm9kZUlkfS0ke2hhbmRsZT8uaWR9LSR7aGFuZGxlPy50eXBlfVwiXWApO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgLi4uZGVmYXVsdFJlc3VsdCgpLFxuICAgICAgICBoYW5kbGVEb21Ob2RlOiBoYW5kbGVUb0NoZWNrLFxuICAgIH07XG4gICAgaWYgKGhhbmRsZVRvQ2hlY2spIHtcbiAgICAgICAgY29uc3QgaGFuZGxlVHlwZSA9IGdldEhhbmRsZVR5cGUodW5kZWZpbmVkLCBoYW5kbGVUb0NoZWNrKTtcbiAgICAgICAgY29uc3QgaGFuZGxlTm9kZUlkID0gaGFuZGxlVG9DaGVjay5nZXRBdHRyaWJ1dGUoJ2RhdGEtbm9kZWlkJyk7XG4gICAgICAgIGNvbnN0IGhhbmRsZUlkID0gaGFuZGxlVG9DaGVjay5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGFuZGxlaWQnKTtcbiAgICAgICAgY29uc3QgY29ubmVjdGFibGUgPSBoYW5kbGVUb0NoZWNrLmNsYXNzTGlzdC5jb250YWlucygnY29ubmVjdGFibGUnKTtcbiAgICAgICAgY29uc3QgY29ubmVjdGFibGVFbmQgPSBoYW5kbGVUb0NoZWNrLmNsYXNzTGlzdC5jb250YWlucygnY29ubmVjdGFibGVlbmQnKTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHtcbiAgICAgICAgICAgIHNvdXJjZTogaXNUYXJnZXQgPyBoYW5kbGVOb2RlSWQgOiBmcm9tTm9kZUlkLFxuICAgICAgICAgICAgc291cmNlSGFuZGxlOiBpc1RhcmdldCA/IGhhbmRsZUlkIDogZnJvbUhhbmRsZUlkLFxuICAgICAgICAgICAgdGFyZ2V0OiBpc1RhcmdldCA/IGZyb21Ob2RlSWQgOiBoYW5kbGVOb2RlSWQsXG4gICAgICAgICAgICB0YXJnZXRIYW5kbGU6IGlzVGFyZ2V0ID8gZnJvbUhhbmRsZUlkIDogaGFuZGxlSWQsXG4gICAgICAgIH07XG4gICAgICAgIHJlc3VsdC5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlICYmIGNvbm5lY3RhYmxlRW5kO1xuICAgICAgICAvLyBpbiBzdHJpY3QgbW9kZSB3ZSBkb24ndCBhbGxvdyB0YXJnZXQgdG8gdGFyZ2V0IG9yIHNvdXJjZSB0byBzb3VyY2UgY29ubmVjdGlvbnNcbiAgICAgICAgY29uc3QgaXNWYWxpZCA9IGlzQ29ubmVjdGFibGUgJiZcbiAgICAgICAgICAgIChjb25uZWN0aW9uTW9kZSA9PT0gQ29ubmVjdGlvbk1vZGUuU3RyaWN0XG4gICAgICAgICAgICAgICAgPyAoaXNUYXJnZXQgJiYgaGFuZGxlVHlwZSA9PT0gJ3NvdXJjZScpIHx8ICghaXNUYXJnZXQgJiYgaGFuZGxlVHlwZSA9PT0gJ3RhcmdldCcpXG4gICAgICAgICAgICAgICAgOiBoYW5kbGVOb2RlSWQgIT09IGZyb21Ob2RlSWQgfHwgaGFuZGxlSWQgIT09IGZyb21IYW5kbGVJZCk7XG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICByZXN1bHQuZW5kSGFuZGxlID0ge1xuICAgICAgICAgICAgICAgIG5vZGVJZDogaGFuZGxlTm9kZUlkLFxuICAgICAgICAgICAgICAgIGhhbmRsZUlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IGhhbmRsZVR5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVzdWx0LmlzVmFsaWQgPSBpc1ZhbGlkQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0SGFuZGxlTG9va3VwKHsgbm9kZXMsIG5vZGVJZCwgaGFuZGxlSWQsIGhhbmRsZVR5cGUgfSkge1xuICAgIHJldHVybiBub2Rlcy5yZWR1Y2UoKHJlcywgbm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZVtpbnRlcm5hbHNTeW1ib2xdKSB7XG4gICAgICAgICAgICBjb25zdCB7IGhhbmRsZUJvdW5kcyB9ID0gbm9kZVtpbnRlcm5hbHNTeW1ib2xdO1xuICAgICAgICAgICAgbGV0IHNvdXJjZUhhbmRsZXMgPSBbXTtcbiAgICAgICAgICAgIGxldCB0YXJnZXRIYW5kbGVzID0gW107XG4gICAgICAgICAgICBpZiAoaGFuZGxlQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgc291cmNlSGFuZGxlcyA9IGdldEhhbmRsZXMobm9kZSwgaGFuZGxlQm91bmRzLCAnc291cmNlJywgYCR7bm9kZUlkfS0ke2hhbmRsZUlkfS0ke2hhbmRsZVR5cGV9YCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0SGFuZGxlcyA9IGdldEhhbmRsZXMobm9kZSwgaGFuZGxlQm91bmRzLCAndGFyZ2V0JywgYCR7bm9kZUlkfS0ke2hhbmRsZUlkfS0ke2hhbmRsZVR5cGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMucHVzaCguLi5zb3VyY2VIYW5kbGVzLCAuLi50YXJnZXRIYW5kbGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0sIFtdKTtcbn1cbmZ1bmN0aW9uIGdldEhhbmRsZVR5cGUoZWRnZVVwZGF0ZXJUeXBlLCBoYW5kbGVEb21Ob2RlKSB7XG4gICAgaWYgKGVkZ2VVcGRhdGVyVHlwZSkge1xuICAgICAgICByZXR1cm4gZWRnZVVwZGF0ZXJUeXBlO1xuICAgIH1cbiAgICBlbHNlIGlmIChoYW5kbGVEb21Ob2RlPy5jbGFzc0xpc3QuY29udGFpbnMoJ3RhcmdldCcpKSB7XG4gICAgICAgIHJldHVybiAndGFyZ2V0JztcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFuZGxlRG9tTm9kZT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdzb3VyY2UnKSkge1xuICAgICAgICByZXR1cm4gJ3NvdXJjZSc7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcmVzZXRSZWNlbnRIYW5kbGUoaGFuZGxlRG9tTm9kZSkge1xuICAgIGhhbmRsZURvbU5vZGU/LmNsYXNzTGlzdC5yZW1vdmUoJ3ZhbGlkJywgJ2Nvbm5lY3RpbmcnLCAncmVhY3QtZmxvd19faGFuZGxlLXZhbGlkJywgJ3JlYWN0LWZsb3dfX2hhbmRsZS1jb25uZWN0aW5nJyk7XG59XG5mdW5jdGlvbiBnZXRDb25uZWN0aW9uU3RhdHVzKGlzSW5zaWRlQ29ubmVjdGlvblJhZGl1cywgaXNIYW5kbGVWYWxpZCkge1xuICAgIGxldCBjb25uZWN0aW9uU3RhdHVzID0gbnVsbDtcbiAgICBpZiAoaXNIYW5kbGVWYWxpZCkge1xuICAgICAgICBjb25uZWN0aW9uU3RhdHVzID0gJ3ZhbGlkJztcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNJbnNpZGVDb25uZWN0aW9uUmFkaXVzICYmICFpc0hhbmRsZVZhbGlkKSB7XG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXMgPSAnaW52YWxpZCc7XG4gICAgfVxuICAgIHJldHVybiBjb25uZWN0aW9uU3RhdHVzO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQb2ludGVyRG93bih7IGV2ZW50LCBoYW5kbGVJZCwgbm9kZUlkLCBvbkNvbm5lY3QsIGlzVGFyZ2V0LCBnZXRTdGF0ZSwgc2V0U3RhdGUsIGlzVmFsaWRDb25uZWN0aW9uLCBlZGdlVXBkYXRlclR5cGUsIG9uRWRnZVVwZGF0ZUVuZCwgfSkge1xuICAgIC8vIHdoZW4gcmVhY3QtZmxvdyBpcyB1c2VkIGluc2lkZSBhIHNoYWRvdyByb290IHdlIGNhbid0IHVzZSBkb2N1bWVudFxuICAgIGNvbnN0IGRvYyA9IGdldEhvc3RGb3JFbGVtZW50KGV2ZW50LnRhcmdldCk7XG4gICAgY29uc3QgeyBjb25uZWN0aW9uTW9kZSwgZG9tTm9kZSwgYXV0b1Bhbk9uQ29ubmVjdCwgY29ubmVjdGlvblJhZGl1cywgb25Db25uZWN0U3RhcnQsIHBhbkJ5LCBnZXROb2RlcywgY2FuY2VsQ29ubmVjdGlvbiwgfSA9IGdldFN0YXRlKCk7XG4gICAgbGV0IGF1dG9QYW5JZCA9IDA7XG4gICAgbGV0IGNsb3Nlc3RIYW5kbGU7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBnZXRFdmVudFBvc2l0aW9uKGV2ZW50KTtcbiAgICBjb25zdCBjbGlja2VkSGFuZGxlID0gZG9jPy5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgIGNvbnN0IGhhbmRsZVR5cGUgPSBnZXRIYW5kbGVUeXBlKGVkZ2VVcGRhdGVyVHlwZSwgY2xpY2tlZEhhbmRsZSk7XG4gICAgY29uc3QgY29udGFpbmVyQm91bmRzID0gZG9tTm9kZT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKCFjb250YWluZXJCb3VuZHMgfHwgIWhhbmRsZVR5cGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgcHJldkFjdGl2ZUhhbmRsZTtcbiAgICBsZXQgY29ubmVjdGlvblBvc2l0aW9uID0gZ2V0RXZlbnRQb3NpdGlvbihldmVudCwgY29udGFpbmVyQm91bmRzKTtcbiAgICBsZXQgYXV0b1BhblN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBsZXQgY29ubmVjdGlvbiA9IG51bGw7XG4gICAgbGV0IGlzVmFsaWQgPSBmYWxzZTtcbiAgICBsZXQgaGFuZGxlRG9tTm9kZSA9IG51bGw7XG4gICAgY29uc3QgaGFuZGxlTG9va3VwID0gZ2V0SGFuZGxlTG9va3VwKHtcbiAgICAgICAgbm9kZXM6IGdldE5vZGVzKCksXG4gICAgICAgIG5vZGVJZCxcbiAgICAgICAgaGFuZGxlSWQsXG4gICAgICAgIGhhbmRsZVR5cGUsXG4gICAgfSk7XG4gICAgLy8gd2hlbiB0aGUgdXNlciBpcyBtb3ZpbmcgdGhlIG1vdXNlIGNsb3NlIHRvIHRoZSBlZGdlIG9mIHRoZSBjYW52YXMgd2hpbGUgY29ubmVjdGluZyB3ZSBtb3ZlIHRoZSBjYW52YXNcbiAgICBjb25zdCBhdXRvUGFuID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWF1dG9QYW5PbkNvbm5lY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbeE1vdmVtZW50LCB5TW92ZW1lbnRdID0gY2FsY0F1dG9QYW4oY29ubmVjdGlvblBvc2l0aW9uLCBjb250YWluZXJCb3VuZHMpO1xuICAgICAgICBwYW5CeSh7IHg6IHhNb3ZlbWVudCwgeTogeU1vdmVtZW50IH0pO1xuICAgICAgICBhdXRvUGFuSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYXV0b1Bhbik7XG4gICAgfTtcbiAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGNvbm5lY3Rpb25Qb3NpdGlvbixcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogbnVsbCxcbiAgICAgICAgLy8gY29ubmVjdGlvbk5vZGVJZCBldGMgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIGluIGZhdm9yIG9mIGNvbm5lY3Rpb25TdGFydEhhbmRsZVxuICAgICAgICBjb25uZWN0aW9uTm9kZUlkOiBub2RlSWQsXG4gICAgICAgIGNvbm5lY3Rpb25IYW5kbGVJZDogaGFuZGxlSWQsXG4gICAgICAgIGNvbm5lY3Rpb25IYW5kbGVUeXBlOiBoYW5kbGVUeXBlLFxuICAgICAgICBjb25uZWN0aW9uU3RhcnRIYW5kbGU6IHtcbiAgICAgICAgICAgIG5vZGVJZCxcbiAgICAgICAgICAgIGhhbmRsZUlkLFxuICAgICAgICAgICAgdHlwZTogaGFuZGxlVHlwZSxcbiAgICAgICAgfSxcbiAgICAgICAgY29ubmVjdGlvbkVuZEhhbmRsZTogbnVsbCxcbiAgICB9KTtcbiAgICBvbkNvbm5lY3RTdGFydD8uKGV2ZW50LCB7IG5vZGVJZCwgaGFuZGxlSWQsIGhhbmRsZVR5cGUgfSk7XG4gICAgZnVuY3Rpb24gb25Qb2ludGVyTW92ZShldmVudCkge1xuICAgICAgICBjb25zdCB7IHRyYW5zZm9ybSB9ID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgY29ubmVjdGlvblBvc2l0aW9uID0gZ2V0RXZlbnRQb3NpdGlvbihldmVudCwgY29udGFpbmVyQm91bmRzKTtcbiAgICAgICAgY29uc3QgeyBoYW5kbGUsIHZhbGlkSGFuZGxlUmVzdWx0IH0gPSBnZXRDbG9zZXN0SGFuZGxlKGV2ZW50LCBkb2MsIHBvaW50VG9SZW5kZXJlclBvaW50KGNvbm5lY3Rpb25Qb3NpdGlvbiwgdHJhbnNmb3JtLCBmYWxzZSwgWzEsIDFdKSwgY29ubmVjdGlvblJhZGl1cywgaGFuZGxlTG9va3VwLCAoaGFuZGxlKSA9PiBpc1ZhbGlkSGFuZGxlKGhhbmRsZSwgY29ubmVjdGlvbk1vZGUsIG5vZGVJZCwgaGFuZGxlSWQsIGlzVGFyZ2V0ID8gJ3RhcmdldCcgOiAnc291cmNlJywgaXNWYWxpZENvbm5lY3Rpb24sIGRvYykpO1xuICAgICAgICBjbG9zZXN0SGFuZGxlID0gaGFuZGxlO1xuICAgICAgICBpZiAoIWF1dG9QYW5TdGFydGVkKSB7XG4gICAgICAgICAgICBhdXRvUGFuKCk7XG4gICAgICAgICAgICBhdXRvUGFuU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlRG9tTm9kZSA9IHZhbGlkSGFuZGxlUmVzdWx0LmhhbmRsZURvbU5vZGU7XG4gICAgICAgIGNvbm5lY3Rpb24gPSB2YWxpZEhhbmRsZVJlc3VsdC5jb25uZWN0aW9uO1xuICAgICAgICBpc1ZhbGlkID0gdmFsaWRIYW5kbGVSZXN1bHQuaXNWYWxpZDtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgY29ubmVjdGlvblBvc2l0aW9uOiBjbG9zZXN0SGFuZGxlICYmIGlzVmFsaWRcbiAgICAgICAgICAgICAgICA/IHJlbmRlcmVyUG9pbnRUb1BvaW50KHtcbiAgICAgICAgICAgICAgICAgICAgeDogY2xvc2VzdEhhbmRsZS54LFxuICAgICAgICAgICAgICAgICAgICB5OiBjbG9zZXN0SGFuZGxlLnksXG4gICAgICAgICAgICAgICAgfSwgdHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIDogY29ubmVjdGlvblBvc2l0aW9uLFxuICAgICAgICAgICAgY29ubmVjdGlvblN0YXR1czogZ2V0Q29ubmVjdGlvblN0YXR1cyghIWNsb3Nlc3RIYW5kbGUsIGlzVmFsaWQpLFxuICAgICAgICAgICAgY29ubmVjdGlvbkVuZEhhbmRsZTogdmFsaWRIYW5kbGVSZXN1bHQuZW5kSGFuZGxlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFjbG9zZXN0SGFuZGxlICYmICFpc1ZhbGlkICYmICFoYW5kbGVEb21Ob2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzZXRSZWNlbnRIYW5kbGUocHJldkFjdGl2ZUhhbmRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3Rpb24uc291cmNlICE9PSBjb25uZWN0aW9uLnRhcmdldCAmJiBoYW5kbGVEb21Ob2RlKSB7XG4gICAgICAgICAgICByZXNldFJlY2VudEhhbmRsZShwcmV2QWN0aXZlSGFuZGxlKTtcbiAgICAgICAgICAgIHByZXZBY3RpdmVIYW5kbGUgPSBoYW5kbGVEb21Ob2RlO1xuICAgICAgICAgICAgLy8gQHRvZG86IHJlbW92ZSB0aGUgb2xkIGNsYXNzIG5hbWVzIFwicmVhY3QtZmxvd19faGFuZGxlLVwiIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cbiAgICAgICAgICAgIGhhbmRsZURvbU5vZGUuY2xhc3NMaXN0LmFkZCgnY29ubmVjdGluZycsICdyZWFjdC1mbG93X19oYW5kbGUtY29ubmVjdGluZycpO1xuICAgICAgICAgICAgaGFuZGxlRG9tTm9kZS5jbGFzc0xpc3QudG9nZ2xlKCd2YWxpZCcsIGlzVmFsaWQpO1xuICAgICAgICAgICAgaGFuZGxlRG9tTm9kZS5jbGFzc0xpc3QudG9nZ2xlKCdyZWFjdC1mbG93X19oYW5kbGUtdmFsaWQnLCBpc1ZhbGlkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBvblBvaW50ZXJVcChldmVudCkge1xuICAgICAgICBpZiAoKGNsb3Nlc3RIYW5kbGUgfHwgaGFuZGxlRG9tTm9kZSkgJiYgY29ubmVjdGlvbiAmJiBpc1ZhbGlkKSB7XG4gICAgICAgICAgICBvbkNvbm5lY3Q/Lihjb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGltcG9ydGFudCB0byBnZXQgYSBmcmVzaCByZWZlcmVuY2UgZnJvbSB0aGUgc3RvcmUgaGVyZVxuICAgICAgICAvLyBpbiBvcmRlciB0byBnZXQgdGhlIGxhdGVzdCBzdGF0ZSBvZiBvbkNvbm5lY3RFbmRcbiAgICAgICAgZ2V0U3RhdGUoKS5vbkNvbm5lY3RFbmQ/LihldmVudCk7XG4gICAgICAgIGlmIChlZGdlVXBkYXRlclR5cGUpIHtcbiAgICAgICAgICAgIG9uRWRnZVVwZGF0ZUVuZD8uKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXNldFJlY2VudEhhbmRsZShwcmV2QWN0aXZlSGFuZGxlKTtcbiAgICAgICAgY2FuY2VsQ29ubmVjdGlvbigpO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhdXRvUGFuSWQpO1xuICAgICAgICBhdXRvUGFuU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIGNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBoYW5kbGVEb21Ob2RlID0gbnVsbDtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uUG9pbnRlck1vdmUpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uUG9pbnRlclVwKTtcbiAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uUG9pbnRlck1vdmUpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblBvaW50ZXJVcCk7XG4gICAgfVxuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvblBvaW50ZXJNb3ZlKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uUG9pbnRlclVwKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Qb2ludGVyTW92ZSk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Qb2ludGVyVXApO1xufVxuXG5jb25zdCBhbHdheXNWYWxpZCA9ICgpID0+IHRydWU7XG5jb25zdCBzZWxlY3RvciRmID0gKHMpID0+ICh7XG4gICAgY29ubmVjdGlvblN0YXJ0SGFuZGxlOiBzLmNvbm5lY3Rpb25TdGFydEhhbmRsZSxcbiAgICBjb25uZWN0T25DbGljazogcy5jb25uZWN0T25DbGljayxcbiAgICBub1BhbkNsYXNzTmFtZTogcy5ub1BhbkNsYXNzTmFtZSxcbn0pO1xuY29uc3QgY29ubmVjdGluZ1NlbGVjdG9yID0gKG5vZGVJZCwgaGFuZGxlSWQsIHR5cGUpID0+IChzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHsgY29ubmVjdGlvblN0YXJ0SGFuZGxlOiBzdGFydEhhbmRsZSwgY29ubmVjdGlvbkVuZEhhbmRsZTogZW5kSGFuZGxlLCBjb25uZWN0aW9uQ2xpY2tTdGFydEhhbmRsZTogY2xpY2tIYW5kbGUsIH0gPSBzdGF0ZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25uZWN0aW5nOiAoc3RhcnRIYW5kbGU/Lm5vZGVJZCA9PT0gbm9kZUlkICYmIHN0YXJ0SGFuZGxlPy5oYW5kbGVJZCA9PT0gaGFuZGxlSWQgJiYgc3RhcnRIYW5kbGU/LnR5cGUgPT09IHR5cGUpIHx8XG4gICAgICAgICAgICAoZW5kSGFuZGxlPy5ub2RlSWQgPT09IG5vZGVJZCAmJiBlbmRIYW5kbGU/LmhhbmRsZUlkID09PSBoYW5kbGVJZCAmJiBlbmRIYW5kbGU/LnR5cGUgPT09IHR5cGUpLFxuICAgICAgICBjbGlja0Nvbm5lY3Rpbmc6IGNsaWNrSGFuZGxlPy5ub2RlSWQgPT09IG5vZGVJZCAmJiBjbGlja0hhbmRsZT8uaGFuZGxlSWQgPT09IGhhbmRsZUlkICYmIGNsaWNrSGFuZGxlPy50eXBlID09PSB0eXBlLFxuICAgIH07XG59O1xuY29uc3QgSGFuZGxlID0gZm9yd2FyZFJlZigoeyB0eXBlID0gJ3NvdXJjZScsIHBvc2l0aW9uID0gUG9zaXRpb24uVG9wLCBpc1ZhbGlkQ29ubmVjdGlvbiwgaXNDb25uZWN0YWJsZSA9IHRydWUsIGlzQ29ubmVjdGFibGVTdGFydCA9IHRydWUsIGlzQ29ubmVjdGFibGVFbmQgPSB0cnVlLCBpZCwgb25Db25uZWN0LCBjaGlsZHJlbiwgY2xhc3NOYW1lLCBvbk1vdXNlRG93biwgb25Ub3VjaFN0YXJ0LCAuLi5yZXN0IH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUlkID0gaWQgfHwgbnVsbDtcbiAgICBjb25zdCBpc1RhcmdldCA9IHR5cGUgPT09ICd0YXJnZXQnO1xuICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgICBjb25zdCBub2RlSWQgPSB1c2VOb2RlSWQoKTtcbiAgICBjb25zdCB7IGNvbm5lY3RPbkNsaWNrLCBub1BhbkNsYXNzTmFtZSB9ID0gdXNlU3RvcmUoc2VsZWN0b3IkZiwgc2hhbGxvdyk7XG4gICAgY29uc3QgeyBjb25uZWN0aW5nLCBjbGlja0Nvbm5lY3RpbmcgfSA9IHVzZVN0b3JlKGNvbm5lY3RpbmdTZWxlY3Rvcihub2RlSWQsIGhhbmRsZUlkLCB0eXBlKSwgc2hhbGxvdyk7XG4gICAgaWYgKCFub2RlSWQpIHtcbiAgICAgICAgc3RvcmUuZ2V0U3RhdGUoKS5vbkVycm9yPy4oJzAxMCcsIGVycm9yTWVzc2FnZXNbJ2Vycm9yMDEwJ10oKSk7XG4gICAgfVxuICAgIGNvbnN0IG9uQ29ubmVjdEV4dGVuZGVkID0gKHBhcmFtcykgPT4ge1xuICAgICAgICBjb25zdCB7IGRlZmF1bHRFZGdlT3B0aW9ucywgb25Db25uZWN0OiBvbkNvbm5lY3RBY3Rpb24sIGhhc0RlZmF1bHRFZGdlcyB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgZWRnZVBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRFZGdlT3B0aW9ucyxcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGhhc0RlZmF1bHRFZGdlcykge1xuICAgICAgICAgICAgY29uc3QgeyBlZGdlcywgc2V0RWRnZXMgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBzZXRFZGdlcyhhZGRFZGdlKGVkZ2VQYXJhbXMsIGVkZ2VzKSk7XG4gICAgICAgIH1cbiAgICAgICAgb25Db25uZWN0QWN0aW9uPy4oZWRnZVBhcmFtcyk7XG4gICAgICAgIG9uQ29ubmVjdD8uKGVkZ2VQYXJhbXMpO1xuICAgIH07XG4gICAgY29uc3Qgb25Qb2ludGVyRG93biA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIW5vZGVJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzTW91c2VUcmlnZ2VyZWQgPSBpc01vdXNlRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAoaXNDb25uZWN0YWJsZVN0YXJ0ICYmICgoaXNNb3VzZVRyaWdnZXJlZCAmJiBldmVudC5idXR0b24gPT09IDApIHx8ICFpc01vdXNlVHJpZ2dlcmVkKSkge1xuICAgICAgICAgICAgaGFuZGxlUG9pbnRlckRvd24oe1xuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGhhbmRsZUlkLFxuICAgICAgICAgICAgICAgIG5vZGVJZCxcbiAgICAgICAgICAgICAgICBvbkNvbm5lY3Q6IG9uQ29ubmVjdEV4dGVuZGVkLFxuICAgICAgICAgICAgICAgIGlzVGFyZ2V0LFxuICAgICAgICAgICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZTogc3RvcmUuc2V0U3RhdGUsXG4gICAgICAgICAgICAgICAgaXNWYWxpZENvbm5lY3Rpb246IGlzVmFsaWRDb25uZWN0aW9uIHx8IHN0b3JlLmdldFN0YXRlKCkuaXNWYWxpZENvbm5lY3Rpb24gfHwgYWx3YXlzVmFsaWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb3VzZVRyaWdnZXJlZCkge1xuICAgICAgICAgICAgb25Nb3VzZURvd24/LihldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvblRvdWNoU3RhcnQ/LihldmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9uQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgeyBvbkNsaWNrQ29ubmVjdFN0YXJ0LCBvbkNsaWNrQ29ubmVjdEVuZCwgY29ubmVjdGlvbkNsaWNrU3RhcnRIYW5kbGUsIGNvbm5lY3Rpb25Nb2RlLCBpc1ZhbGlkQ29ubmVjdGlvbjogaXNWYWxpZENvbm5lY3Rpb25TdG9yZSwgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGlmICghbm9kZUlkIHx8ICghY29ubmVjdGlvbkNsaWNrU3RhcnRIYW5kbGUgJiYgIWlzQ29ubmVjdGFibGVTdGFydCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbm5lY3Rpb25DbGlja1N0YXJ0SGFuZGxlKSB7XG4gICAgICAgICAgICBvbkNsaWNrQ29ubmVjdFN0YXJ0Py4oZXZlbnQsIHsgbm9kZUlkLCBoYW5kbGVJZCwgaGFuZGxlVHlwZTogdHlwZSB9KTtcbiAgICAgICAgICAgIHN0b3JlLnNldFN0YXRlKHsgY29ubmVjdGlvbkNsaWNrU3RhcnRIYW5kbGU6IHsgbm9kZUlkLCB0eXBlLCBoYW5kbGVJZCB9IH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRvYyA9IGdldEhvc3RGb3JFbGVtZW50KGV2ZW50LnRhcmdldCk7XG4gICAgICAgIGNvbnN0IGlzVmFsaWRDb25uZWN0aW9uSGFuZGxlciA9IGlzVmFsaWRDb25uZWN0aW9uIHx8IGlzVmFsaWRDb25uZWN0aW9uU3RvcmUgfHwgYWx3YXlzVmFsaWQ7XG4gICAgICAgIGNvbnN0IHsgY29ubmVjdGlvbiwgaXNWYWxpZCB9ID0gaXNWYWxpZEhhbmRsZSh7XG4gICAgICAgICAgICBub2RlSWQsXG4gICAgICAgICAgICBpZDogaGFuZGxlSWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICB9LCBjb25uZWN0aW9uTW9kZSwgY29ubmVjdGlvbkNsaWNrU3RhcnRIYW5kbGUubm9kZUlkLCBjb25uZWN0aW9uQ2xpY2tTdGFydEhhbmRsZS5oYW5kbGVJZCB8fCBudWxsLCBjb25uZWN0aW9uQ2xpY2tTdGFydEhhbmRsZS50eXBlLCBpc1ZhbGlkQ29ubmVjdGlvbkhhbmRsZXIsIGRvYyk7XG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICBvbkNvbm5lY3RFeHRlbmRlZChjb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBvbkNsaWNrQ29ubmVjdEVuZD8uKGV2ZW50KTtcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUoeyBjb25uZWN0aW9uQ2xpY2tTdGFydEhhbmRsZTogbnVsbCB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS1oYW5kbGVpZFwiOiBoYW5kbGVJZCwgXCJkYXRhLW5vZGVpZFwiOiBub2RlSWQsIFwiZGF0YS1oYW5kbGVwb3NcIjogcG9zaXRpb24sIFwiZGF0YS1pZFwiOiBgJHtub2RlSWR9LSR7aGFuZGxlSWR9LSR7dHlwZX1gLCBjbGFzc05hbWU6IGNjKFtcbiAgICAgICAgICAgICdyZWFjdC1mbG93X19oYW5kbGUnLFxuICAgICAgICAgICAgYHJlYWN0LWZsb3dfX2hhbmRsZS0ke3Bvc2l0aW9ufWAsXG4gICAgICAgICAgICAnbm9kcmFnJyxcbiAgICAgICAgICAgIG5vUGFuQ2xhc3NOYW1lLFxuICAgICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZTogIWlzVGFyZ2V0LFxuICAgICAgICAgICAgICAgIHRhcmdldDogaXNUYXJnZXQsXG4gICAgICAgICAgICAgICAgY29ubmVjdGFibGU6IGlzQ29ubmVjdGFibGUsXG4gICAgICAgICAgICAgICAgY29ubmVjdGFibGVzdGFydDogaXNDb25uZWN0YWJsZVN0YXJ0LFxuICAgICAgICAgICAgICAgIGNvbm5lY3RhYmxlZW5kOiBpc0Nvbm5lY3RhYmxlRW5kLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpbmc6IGNsaWNrQ29ubmVjdGluZyxcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNsYXNzIGlzIHVzZWQgdG8gc3R5bGUgdGhlIGhhbmRsZSB3aGVuIHRoZSB1c2VyIGlzIGNvbm5lY3RpbmdcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uaW5kaWNhdG9yOiBpc0Nvbm5lY3RhYmxlICYmICgoaXNDb25uZWN0YWJsZVN0YXJ0ICYmICFjb25uZWN0aW5nKSB8fCAoaXNDb25uZWN0YWJsZUVuZCAmJiBjb25uZWN0aW5nKSksXG4gICAgICAgICAgICB9LFxuICAgICAgICBdKSwgb25Nb3VzZURvd246IG9uUG9pbnRlckRvd24sIG9uVG91Y2hTdGFydDogb25Qb2ludGVyRG93biwgb25DbGljazogY29ubmVjdE9uQ2xpY2sgPyBvbkNsaWNrIDogdW5kZWZpbmVkLCByZWY6IHJlZiwgLi4ucmVzdCB9LCBjaGlsZHJlbikpO1xufSk7XG5IYW5kbGUuZGlzcGxheU5hbWUgPSAnSGFuZGxlJztcbnZhciBIYW5kbGUkMSA9IG1lbW8oSGFuZGxlKTtcblxuY29uc3QgRGVmYXVsdE5vZGUgPSAoeyBkYXRhLCBpc0Nvbm5lY3RhYmxlLCB0YXJnZXRQb3NpdGlvbiA9IFBvc2l0aW9uLlRvcCwgc291cmNlUG9zaXRpb24gPSBQb3NpdGlvbi5Cb3R0b20sIH0pID0+IHtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGFuZGxlJDEsIHsgdHlwZTogXCJ0YXJnZXRcIiwgcG9zaXRpb246IHRhcmdldFBvc2l0aW9uLCBpc0Nvbm5lY3RhYmxlOiBpc0Nvbm5lY3RhYmxlIH0pLFxuICAgICAgICBkYXRhPy5sYWJlbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChIYW5kbGUkMSwgeyB0eXBlOiBcInNvdXJjZVwiLCBwb3NpdGlvbjogc291cmNlUG9zaXRpb24sIGlzQ29ubmVjdGFibGU6IGlzQ29ubmVjdGFibGUgfSkpKTtcbn07XG5EZWZhdWx0Tm9kZS5kaXNwbGF5TmFtZSA9ICdEZWZhdWx0Tm9kZSc7XG52YXIgRGVmYXVsdE5vZGUkMSA9IG1lbW8oRGVmYXVsdE5vZGUpO1xuXG5jb25zdCBJbnB1dE5vZGUgPSAoeyBkYXRhLCBpc0Nvbm5lY3RhYmxlLCBzb3VyY2VQb3NpdGlvbiA9IFBvc2l0aW9uLkJvdHRvbSB9KSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICBkYXRhPy5sYWJlbCxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEhhbmRsZSQxLCB7IHR5cGU6IFwic291cmNlXCIsIHBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbiwgaXNDb25uZWN0YWJsZTogaXNDb25uZWN0YWJsZSB9KSkpO1xuSW5wdXROb2RlLmRpc3BsYXlOYW1lID0gJ0lucHV0Tm9kZSc7XG52YXIgSW5wdXROb2RlJDEgPSBtZW1vKElucHV0Tm9kZSk7XG5cbmNvbnN0IE91dHB1dE5vZGUgPSAoeyBkYXRhLCBpc0Nvbm5lY3RhYmxlLCB0YXJnZXRQb3NpdGlvbiA9IFBvc2l0aW9uLlRvcCB9KSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEhhbmRsZSQxLCB7IHR5cGU6IFwidGFyZ2V0XCIsIHBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvbiwgaXNDb25uZWN0YWJsZTogaXNDb25uZWN0YWJsZSB9KSxcbiAgICBkYXRhPy5sYWJlbCkpO1xuT3V0cHV0Tm9kZS5kaXNwbGF5TmFtZSA9ICdPdXRwdXROb2RlJztcbnZhciBPdXRwdXROb2RlJDEgPSBtZW1vKE91dHB1dE5vZGUpO1xuXG5jb25zdCBHcm91cE5vZGUgPSAoKSA9PiBudWxsO1xuR3JvdXBOb2RlLmRpc3BsYXlOYW1lID0gJ0dyb3VwTm9kZSc7XG5cbmNvbnN0IHNlbGVjdG9yJGUgPSAocykgPT4gKHtcbiAgICBzZWxlY3RlZE5vZGVzOiBzLmdldE5vZGVzKCkuZmlsdGVyKChuKSA9PiBuLnNlbGVjdGVkKSxcbiAgICBzZWxlY3RlZEVkZ2VzOiBzLmVkZ2VzLmZpbHRlcigoZSkgPT4gZS5zZWxlY3RlZCksXG59KTtcbmNvbnN0IHNlbGVjdElkID0gKG9iaikgPT4gb2JqLmlkO1xuZnVuY3Rpb24gYXJlRXF1YWwoYSwgYikge1xuICAgIHJldHVybiAoc2hhbGxvdyhhLnNlbGVjdGVkTm9kZXMubWFwKHNlbGVjdElkKSwgYi5zZWxlY3RlZE5vZGVzLm1hcChzZWxlY3RJZCkpICYmXG4gICAgICAgIHNoYWxsb3coYS5zZWxlY3RlZEVkZ2VzLm1hcChzZWxlY3RJZCksIGIuc2VsZWN0ZWRFZGdlcy5tYXAoc2VsZWN0SWQpKSk7XG59XG4vLyBUaGlzIGlzIGp1c3QgYSBoZWxwZXIgY29tcG9uZW50IGZvciBjYWxsaW5nIHRoZSBvblNlbGVjdGlvbkNoYW5nZSBsaXN0ZW5lci5cbi8vIEBUT0RPOiBOb3cgdGhhdCB3ZSBoYXZlIHRoZSBvbk5vZGVzQ2hhbmdlIGFuZCBvbiBFZGdlc0NoYW5nZSBsaXN0ZW5lcnMsIGRvIHdlIHN0aWxsIG5lZWQgdGhpcyBjb21wb25lbnQ/XG5jb25zdCBTZWxlY3Rpb25MaXN0ZW5lciA9IG1lbW8oKHsgb25TZWxlY3Rpb25DaGFuZ2UgfSkgPT4ge1xuICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgICBjb25zdCB7IHNlbGVjdGVkTm9kZXMsIHNlbGVjdGVkRWRnZXMgfSA9IHVzZVN0b3JlKHNlbGVjdG9yJGUsIGFyZUVxdWFsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IG5vZGVzOiBzZWxlY3RlZE5vZGVzLCBlZGdlczogc2VsZWN0ZWRFZGdlcyB9O1xuICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT8uKHBhcmFtcyk7XG4gICAgICAgIHN0b3JlLmdldFN0YXRlKCkub25TZWxlY3Rpb25DaGFuZ2U/LihwYXJhbXMpO1xuICAgIH0sIFtzZWxlY3RlZE5vZGVzLCBzZWxlY3RlZEVkZ2VzLCBvblNlbGVjdGlvbkNoYW5nZV0pO1xuICAgIHJldHVybiBudWxsO1xufSk7XG5TZWxlY3Rpb25MaXN0ZW5lci5kaXNwbGF5TmFtZSA9ICdTZWxlY3Rpb25MaXN0ZW5lcic7XG5jb25zdCBjaGFuZ2VTZWxlY3RvciA9IChzKSA9PiAhIXMub25TZWxlY3Rpb25DaGFuZ2U7XG5mdW5jdGlvbiBXcmFwcGVyJDEoeyBvblNlbGVjdGlvbkNoYW5nZSB9KSB7XG4gICAgY29uc3Qgc3RvcmVIYXNTZWxlY3Rpb25DaGFuZ2UgPSB1c2VTdG9yZShjaGFuZ2VTZWxlY3Rvcik7XG4gICAgaWYgKG9uU2VsZWN0aW9uQ2hhbmdlIHx8IHN0b3JlSGFzU2VsZWN0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdGlvbkxpc3RlbmVyLCB7IG9uU2VsZWN0aW9uQ2hhbmdlOiBvblNlbGVjdGlvbkNoYW5nZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IHNlbGVjdG9yJGQgPSAocykgPT4gKHtcbiAgICBzZXROb2Rlczogcy5zZXROb2RlcyxcbiAgICBzZXRFZGdlczogcy5zZXRFZGdlcyxcbiAgICBzZXREZWZhdWx0Tm9kZXNBbmRFZGdlczogcy5zZXREZWZhdWx0Tm9kZXNBbmRFZGdlcyxcbiAgICBzZXRNaW5ab29tOiBzLnNldE1pblpvb20sXG4gICAgc2V0TWF4Wm9vbTogcy5zZXRNYXhab29tLFxuICAgIHNldFRyYW5zbGF0ZUV4dGVudDogcy5zZXRUcmFuc2xhdGVFeHRlbnQsXG4gICAgc2V0Tm9kZUV4dGVudDogcy5zZXROb2RlRXh0ZW50LFxuICAgIHJlc2V0OiBzLnJlc2V0LFxufSk7XG5mdW5jdGlvbiB1c2VTdG9yZVVwZGF0ZXIodmFsdWUsIHNldFN0b3JlU3RhdGUpIHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc2V0U3RvcmVTdGF0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbdmFsdWVdKTtcbn1cbi8vIHVwZGF0ZXMgd2l0aCB2YWx1ZXMgaW4gc3RvcmUgdGhhdCBkb24ndCBoYXZlIGEgZGVkaWNhdGVkIHNldHRlciBmdW5jdGlvblxuZnVuY3Rpb24gdXNlRGlyZWN0U3RvcmVVcGRhdGVyKGtleSwgdmFsdWUsIHNldFN0YXRlKSB7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHNldFN0YXRlKHsgW2tleV06IHZhbHVlIH0pO1xuICAgICAgICB9XG4gICAgfSwgW3ZhbHVlXSk7XG59XG5jb25zdCBTdG9yZVVwZGF0ZXIgPSAoeyBub2RlcywgZWRnZXMsIGRlZmF1bHROb2RlcywgZGVmYXVsdEVkZ2VzLCBvbkNvbm5lY3QsIG9uQ29ubmVjdFN0YXJ0LCBvbkNvbm5lY3RFbmQsIG9uQ2xpY2tDb25uZWN0U3RhcnQsIG9uQ2xpY2tDb25uZWN0RW5kLCBub2Rlc0RyYWdnYWJsZSwgbm9kZXNDb25uZWN0YWJsZSwgbm9kZXNGb2N1c2FibGUsIGVkZ2VzRm9jdXNhYmxlLCBlZGdlc1VwZGF0YWJsZSwgZWxldmF0ZU5vZGVzT25TZWxlY3QsIG1pblpvb20sIG1heFpvb20sIG5vZGVFeHRlbnQsIG9uTm9kZXNDaGFuZ2UsIG9uRWRnZXNDaGFuZ2UsIGVsZW1lbnRzU2VsZWN0YWJsZSwgY29ubmVjdGlvbk1vZGUsIHNuYXBHcmlkLCBzbmFwVG9HcmlkLCB0cmFuc2xhdGVFeHRlbnQsIGNvbm5lY3RPbkNsaWNrLCBkZWZhdWx0RWRnZU9wdGlvbnMsIGZpdFZpZXcsIGZpdFZpZXdPcHRpb25zLCBvbk5vZGVzRGVsZXRlLCBvbkVkZ2VzRGVsZXRlLCBvbk5vZGVEcmFnLCBvbk5vZGVEcmFnU3RhcnQsIG9uTm9kZURyYWdTdG9wLCBvblNlbGVjdGlvbkRyYWcsIG9uU2VsZWN0aW9uRHJhZ1N0YXJ0LCBvblNlbGVjdGlvbkRyYWdTdG9wLCBub1BhbkNsYXNzTmFtZSwgbm9kZU9yaWdpbiwgcmZJZCwgYXV0b1Bhbk9uQ29ubmVjdCwgYXV0b1Bhbk9uTm9kZURyYWcsIG9uRXJyb3IsIGNvbm5lY3Rpb25SYWRpdXMsIGlzVmFsaWRDb25uZWN0aW9uLCBub2RlRHJhZ1RocmVzaG9sZCwgfSkgPT4ge1xuICAgIGNvbnN0IHsgc2V0Tm9kZXMsIHNldEVkZ2VzLCBzZXREZWZhdWx0Tm9kZXNBbmRFZGdlcywgc2V0TWluWm9vbSwgc2V0TWF4Wm9vbSwgc2V0VHJhbnNsYXRlRXh0ZW50LCBzZXROb2RlRXh0ZW50LCByZXNldCwgfSA9IHVzZVN0b3JlKHNlbGVjdG9yJGQsIHNoYWxsb3cpO1xuICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBlZGdlc1dpdGhEZWZhdWx0cyA9IGRlZmF1bHRFZGdlcz8ubWFwKChlKSA9PiAoeyAuLi5lLCAuLi5kZWZhdWx0RWRnZU9wdGlvbnMgfSkpO1xuICAgICAgICBzZXREZWZhdWx0Tm9kZXNBbmRFZGdlcyhkZWZhdWx0Tm9kZXMsIGVkZ2VzV2l0aERlZmF1bHRzKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHVzZURpcmVjdFN0b3JlVXBkYXRlcignZGVmYXVsdEVkZ2VPcHRpb25zJywgZGVmYXVsdEVkZ2VPcHRpb25zLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdjb25uZWN0aW9uTW9kZScsIGNvbm5lY3Rpb25Nb2RlLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbkNvbm5lY3QnLCBvbkNvbm5lY3QsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uQ29ubmVjdFN0YXJ0Jywgb25Db25uZWN0U3RhcnQsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uQ29ubmVjdEVuZCcsIG9uQ29ubmVjdEVuZCwgc3RvcmUuc2V0U3RhdGUpO1xuICAgIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25DbGlja0Nvbm5lY3RTdGFydCcsIG9uQ2xpY2tDb25uZWN0U3RhcnQsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uQ2xpY2tDb25uZWN0RW5kJywgb25DbGlja0Nvbm5lY3RFbmQsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ25vZGVzRHJhZ2dhYmxlJywgbm9kZXNEcmFnZ2FibGUsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ25vZGVzQ29ubmVjdGFibGUnLCBub2Rlc0Nvbm5lY3RhYmxlLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdub2Rlc0ZvY3VzYWJsZScsIG5vZGVzRm9jdXNhYmxlLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdlZGdlc0ZvY3VzYWJsZScsIGVkZ2VzRm9jdXNhYmxlLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdlZGdlc1VwZGF0YWJsZScsIGVkZ2VzVXBkYXRhYmxlLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdlbGVtZW50c1NlbGVjdGFibGUnLCBlbGVtZW50c1NlbGVjdGFibGUsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ2VsZXZhdGVOb2Rlc09uU2VsZWN0JywgZWxldmF0ZU5vZGVzT25TZWxlY3QsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ3NuYXBUb0dyaWQnLCBzbmFwVG9HcmlkLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdzbmFwR3JpZCcsIHNuYXBHcmlkLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbk5vZGVzQ2hhbmdlJywgb25Ob2Rlc0NoYW5nZSwgc3RvcmUuc2V0U3RhdGUpO1xuICAgIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25FZGdlc0NoYW5nZScsIG9uRWRnZXNDaGFuZ2UsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ2Nvbm5lY3RPbkNsaWNrJywgY29ubmVjdE9uQ2xpY2ssIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ2ZpdFZpZXdPbkluaXQnLCBmaXRWaWV3LCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdmaXRWaWV3T25Jbml0T3B0aW9ucycsIGZpdFZpZXdPcHRpb25zLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbk5vZGVzRGVsZXRlJywgb25Ob2Rlc0RlbGV0ZSwgc3RvcmUuc2V0U3RhdGUpO1xuICAgIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25FZGdlc0RlbGV0ZScsIG9uRWRnZXNEZWxldGUsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uTm9kZURyYWcnLCBvbk5vZGVEcmFnLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbk5vZGVEcmFnU3RhcnQnLCBvbk5vZGVEcmFnU3RhcnQsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uTm9kZURyYWdTdG9wJywgb25Ob2RlRHJhZ1N0b3AsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uU2VsZWN0aW9uRHJhZycsIG9uU2VsZWN0aW9uRHJhZywgc3RvcmUuc2V0U3RhdGUpO1xuICAgIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25TZWxlY3Rpb25EcmFnU3RhcnQnLCBvblNlbGVjdGlvbkRyYWdTdGFydCwgc3RvcmUuc2V0U3RhdGUpO1xuICAgIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25TZWxlY3Rpb25EcmFnU3RvcCcsIG9uU2VsZWN0aW9uRHJhZ1N0b3AsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ25vUGFuQ2xhc3NOYW1lJywgbm9QYW5DbGFzc05hbWUsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ25vZGVPcmlnaW4nLCBub2RlT3JpZ2luLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdyZklkJywgcmZJZCwgc3RvcmUuc2V0U3RhdGUpO1xuICAgIHVzZURpcmVjdFN0b3JlVXBkYXRlcignYXV0b1Bhbk9uQ29ubmVjdCcsIGF1dG9QYW5PbkNvbm5lY3QsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ2F1dG9QYW5Pbk5vZGVEcmFnJywgYXV0b1Bhbk9uTm9kZURyYWcsIHN0b3JlLnNldFN0YXRlKTtcbiAgICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uRXJyb3InLCBvbkVycm9yLCBzdG9yZS5zZXRTdGF0ZSk7XG4gICAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdjb25uZWN0aW9uUmFkaXVzJywgY29ubmVjdGlvblJhZGl1cywgc3RvcmUuc2V0U3RhdGUpO1xuICAgIHVzZURpcmVjdFN0b3JlVXBkYXRlcignaXNWYWxpZENvbm5lY3Rpb24nLCBpc1ZhbGlkQ29ubmVjdGlvbiwgc3RvcmUuc2V0U3RhdGUpO1xuICAgIHVzZURpcmVjdFN0b3JlVXBkYXRlcignbm9kZURyYWdUaHJlc2hvbGQnLCBub2RlRHJhZ1RocmVzaG9sZCwgc3RvcmUuc2V0U3RhdGUpO1xuICAgIHVzZVN0b3JlVXBkYXRlcihub2Rlcywgc2V0Tm9kZXMpO1xuICAgIHVzZVN0b3JlVXBkYXRlcihlZGdlcywgc2V0RWRnZXMpO1xuICAgIHVzZVN0b3JlVXBkYXRlcihtaW5ab29tLCBzZXRNaW5ab29tKTtcbiAgICB1c2VTdG9yZVVwZGF0ZXIobWF4Wm9vbSwgc2V0TWF4Wm9vbSk7XG4gICAgdXNlU3RvcmVVcGRhdGVyKHRyYW5zbGF0ZUV4dGVudCwgc2V0VHJhbnNsYXRlRXh0ZW50KTtcbiAgICB1c2VTdG9yZVVwZGF0ZXIobm9kZUV4dGVudCwgc2V0Tm9kZUV4dGVudCk7XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBzdHlsZSA9IHsgZGlzcGxheTogJ25vbmUnIH07XG5jb25zdCBhcmlhTGl2ZVN0eWxlID0ge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHdpZHRoOiAxLFxuICAgIGhlaWdodDogMSxcbiAgICBtYXJnaW46IC0xLFxuICAgIGJvcmRlcjogMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBjbGlwOiAncmVjdCgwcHgsIDBweCwgMHB4LCAwcHgpJyxcbiAgICBjbGlwUGF0aDogJ2luc2V0KDEwMCUpJyxcbn07XG5jb25zdCBBUklBX05PREVfREVTQ19LRVkgPSAncmVhY3QtZmxvd19fbm9kZS1kZXNjJztcbmNvbnN0IEFSSUFfRURHRV9ERVNDX0tFWSA9ICdyZWFjdC1mbG93X19lZGdlLWRlc2MnO1xuY29uc3QgQVJJQV9MSVZFX01FU1NBR0UgPSAncmVhY3QtZmxvd19fYXJpYS1saXZlJztcbmNvbnN0IHNlbGVjdG9yJGMgPSAocykgPT4gcy5hcmlhTGl2ZU1lc3NhZ2U7XG5mdW5jdGlvbiBBcmlhTGl2ZU1lc3NhZ2UoeyByZklkIH0pIHtcbiAgICBjb25zdCBhcmlhTGl2ZU1lc3NhZ2UgPSB1c2VTdG9yZShzZWxlY3RvciRjKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBpZDogYCR7QVJJQV9MSVZFX01FU1NBR0V9LSR7cmZJZH1gLCBcImFyaWEtbGl2ZVwiOiBcImFzc2VydGl2ZVwiLCBcImFyaWEtYXRvbWljXCI6IFwidHJ1ZVwiLCBzdHlsZTogYXJpYUxpdmVTdHlsZSB9LCBhcmlhTGl2ZU1lc3NhZ2UpKTtcbn1cbmZ1bmN0aW9uIEExMXlEZXNjcmlwdGlvbnMoeyByZklkLCBkaXNhYmxlS2V5Ym9hcmRBMTF5IH0pIHtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBpZDogYCR7QVJJQV9OT0RFX0RFU0NfS0VZfS0ke3JmSWR9YCwgc3R5bGU6IHN0eWxlIH0sXG4gICAgICAgICAgICBcIlByZXNzIGVudGVyIG9yIHNwYWNlIHRvIHNlbGVjdCBhIG5vZGUuXCIsXG4gICAgICAgICAgICAhZGlzYWJsZUtleWJvYXJkQTExeSAmJiAnWW91IGNhbiB0aGVuIHVzZSB0aGUgYXJyb3cga2V5cyB0byBtb3ZlIHRoZSBub2RlIGFyb3VuZC4nLFxuICAgICAgICAgICAgXCIgUHJlc3MgZGVsZXRlIHRvIHJlbW92ZSBpdCBhbmQgZXNjYXBlIHRvIGNhbmNlbC5cIixcbiAgICAgICAgICAgICcgJyksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBpZDogYCR7QVJJQV9FREdFX0RFU0NfS0VZfS0ke3JmSWR9YCwgc3R5bGU6IHN0eWxlIH0sIFwiUHJlc3MgZW50ZXIgb3Igc3BhY2UgdG8gc2VsZWN0IGFuIGVkZ2UuIFlvdSBjYW4gdGhlbiBwcmVzcyBkZWxldGUgdG8gcmVtb3ZlIGl0IG9yIGVzY2FwZSB0byBjYW5jZWwuXCIpLFxuICAgICAgICAhZGlzYWJsZUtleWJvYXJkQTExeSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KEFyaWFMaXZlTWVzc2FnZSwgeyByZklkOiByZklkIH0pKSk7XG59XG5cbi8vIHRoZSBrZXljb2RlIGNhbiBiZSBhIHN0cmluZyAnYScgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncyBbJ2EnLCAnYStkJ11cbi8vIGEgc3RyaW5nIG1lYW5zIGEgc2luZ2xlIGtleSAnYScgb3IgYSBjb21iaW5hdGlvbiB3aGVuICcrJyBpcyB1c2VkICdhK2QnXG4vLyBhbiBhcnJheSBtZWFucyBkaWZmZXJlbnQgcG9zc2liaWxpdGllcy4gRXhwbGFpbmVyOiBbJ2EnLCAnZCtzJ10gaGVyZSB0aGVcbi8vIHVzZXIgY2FuIHVzZSB0aGUgc2luZ2xlIGtleSAnYScgb3IgdGhlIGNvbWJpbmF0aW9uICdkJyArICdzJ1xudmFyIHVzZUtleVByZXNzID0gKGtleUNvZGUgPSBudWxsLCBvcHRpb25zID0geyBhY3RJbnNpZGVJbnB1dFdpdGhNb2RpZmllcjogdHJ1ZSB9KSA9PiB7XG4gICAgY29uc3QgW2tleVByZXNzZWQsIHNldEtleVByZXNzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIC8vIHdlIG5lZWQgdG8gcmVtZW1iZXIgaWYgYSBtb2RpZmllciBrZXkgaXMgcHJlc3NlZCBpbiBvcmRlciB0byB0cmFjayBpdFxuICAgIGNvbnN0IG1vZGlmaWVyUHJlc3NlZCA9IHVzZVJlZihmYWxzZSk7XG4gICAgLy8gd2UgbmVlZCB0byByZW1lbWJlciB0aGUgcHJlc3NlZCBrZXlzIGluIG9yZGVyIHRvIHN1cHBvcnQgY29tYmluYXRpb25zXG4gICAgY29uc3QgcHJlc3NlZEtleXMgPSB1c2VSZWYobmV3IFNldChbXSkpO1xuICAgIC8vIGtleUNvZGVzID0gYXJyYXkgd2l0aCBzaW5nbGUga2V5cyBbWydhJ11dIG9yIGtleSBjb21iaW5hdGlvbnMgW1snYScsICdzJ11dXG4gICAgLy8ga2V5c1RvV2F0Y2ggPSBhcnJheSB3aXRoIGFsbCBrZXlzIGZsYXR0ZW5lZCBbJ2EnLCAnZCcsICdTaGlmdExlZnQnXVxuICAgIC8vIHVzZWQgdG8gY2hlY2sgaWYgd2Ugc3RvcmUgZXZlbnQuY29kZSBvciBldmVudC5rZXkuIFdoZW4gdGhlIGNvZGUgaXMgaW4gdGhlIGxpc3Qgb2Yga2V5c1RvV2F0Y2hcbiAgICAvLyB3ZSB1c2UgdGhlIGNvZGUgb3RoZXJ3aXNlIHRoZSBrZXkuIEV4cGxhaW5lcjogV2hlbiB5b3UgcHJlc3MgdGhlIGxlZnQgXCJjb21tYW5kXCIga2V5LCB0aGUgY29kZSBpcyBcIk1ldGFMZWZ0XCJcbiAgICAvLyBhbmQgdGhlIGtleSBpcyBcIk1ldGFcIi4gV2Ugd2FudCB1c2VycyB0byBiZSBhYmxlIHRvIHBhc3Mga2V5cyBhbmQgY29kZXMgc28gd2UgYXNzdW1lIHRoYXQgdGhlIGtleSBpcyBtZWFudCB3aGVuXG4gICAgLy8gd2UgY2FuJ3QgZmluZCBpdCBpbiB0aGUgbGlzdCBvZiBrZXlzVG9XYXRjaC5cbiAgICBjb25zdCBba2V5Q29kZXMsIGtleXNUb1dhdGNoXSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoa2V5Q29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qga2V5Q29kZUFyciA9IEFycmF5LmlzQXJyYXkoa2V5Q29kZSkgPyBrZXlDb2RlIDogW2tleUNvZGVdO1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IGtleUNvZGVBcnIuZmlsdGVyKChrYykgPT4gdHlwZW9mIGtjID09PSAnc3RyaW5nJykubWFwKChrYykgPT4ga2Muc3BsaXQoJysnKSk7XG4gICAgICAgICAgICBjb25zdCBrZXlzRmxhdCA9IGtleXMucmVkdWNlKChyZXMsIGl0ZW0pID0+IHJlcy5jb25jYXQoLi4uaXRlbSksIFtdKTtcbiAgICAgICAgICAgIHJldHVybiBba2V5cywga2V5c0ZsYXRdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbW10sIFtdXTtcbiAgICB9LCBba2V5Q29kZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IG51bGw7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IG9wdGlvbnM/LnRhcmdldCB8fCBkb2M7XG4gICAgICAgIGlmIChrZXlDb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkb3duSGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVyUHJlc3NlZC5jdXJyZW50ID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZlbnRBY3Rpb24gPSAoIW1vZGlmaWVyUHJlc3NlZC5jdXJyZW50IHx8IChtb2RpZmllclByZXNzZWQuY3VycmVudCAmJiAhb3B0aW9ucy5hY3RJbnNpZGVJbnB1dFdpdGhNb2RpZmllcikpICYmXG4gICAgICAgICAgICAgICAgICAgIGlzSW5wdXRET01Ob2RlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAocHJldmVudEFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGtleU9yQ29kZSA9IHVzZUtleU9yQ29kZShldmVudC5jb2RlLCBrZXlzVG9XYXRjaCk7XG4gICAgICAgICAgICAgICAgcHJlc3NlZEtleXMuY3VycmVudC5hZGQoZXZlbnRba2V5T3JDb2RlXSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTWF0Y2hpbmdLZXkoa2V5Q29kZXMsIHByZXNzZWRLZXlzLmN1cnJlbnQsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBzZXRLZXlQcmVzc2VkKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB1cEhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ZW50QWN0aW9uID0gKCFtb2RpZmllclByZXNzZWQuY3VycmVudCB8fCAobW9kaWZpZXJQcmVzc2VkLmN1cnJlbnQgJiYgIW9wdGlvbnMuYWN0SW5zaWRlSW5wdXRXaXRoTW9kaWZpZXIpKSAmJlxuICAgICAgICAgICAgICAgICAgICBpc0lucHV0RE9NTm9kZShldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZlbnRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBrZXlPckNvZGUgPSB1c2VLZXlPckNvZGUoZXZlbnQuY29kZSwga2V5c1RvV2F0Y2gpO1xuICAgICAgICAgICAgICAgIGlmIChpc01hdGNoaW5nS2V5KGtleUNvZGVzLCBwcmVzc2VkS2V5cy5jdXJyZW50LCB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRLZXlQcmVzc2VkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcHJlc3NlZEtleXMuY3VycmVudC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlc3NlZEtleXMuY3VycmVudC5kZWxldGUoZXZlbnRba2V5T3JDb2RlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZpeCBmb3IgTWFjOiB3aGVuIGNtZCBrZXkgaXMgcHJlc3NlZCwga2V5dXAgaXMgbm90IHRyaWdnZXJlZCBmb3IgYW55IG90aGVyIGtleSwgc2VlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNzM4MDAxOC93aGVuLWNtZC1rZXktaXMta2VwdC1wcmVzc2VkLWtleXVwLWlzLW5vdC10cmlnZ2VyZWQtZm9yLWFueS1vdGhlci1rZXlcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnTWV0YScpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlc3NlZEtleXMuY3VycmVudC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtb2RpZmllclByZXNzZWQuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc2V0SGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBwcmVzc2VkS2V5cy5jdXJyZW50LmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgc2V0S2V5UHJlc3NlZChmYWxzZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFyZ2V0Py5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZG93bkhhbmRsZXIpO1xuICAgICAgICAgICAgdGFyZ2V0Py5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHVwSGFuZGxlcik7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHJlc2V0SGFuZGxlcik7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRhcmdldD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRvd25IYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHJlc2V0SGFuZGxlcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwgW2tleUNvZGUsIHNldEtleVByZXNzZWRdKTtcbiAgICByZXR1cm4ga2V5UHJlc3NlZDtcbn07XG4vLyB1dGlsc1xuZnVuY3Rpb24gaXNNYXRjaGluZ0tleShrZXlDb2RlcywgcHJlc3NlZEtleXMsIGlzVXApIHtcbiAgICByZXR1cm4gKGtleUNvZGVzXG4gICAgICAgIC8vIHdlIG9ubHkgd2FudCB0byBjb21wYXJlIHNhbWUgc2l6ZXMgb2Yga2V5Q29kZSBkZWZpbml0aW9uc1xuICAgICAgICAvLyBhbmQgcHJlc3NlZCBrZXlzLiBXaGVuIHRoZSB1c2VyIHNwZWNpZmllZCAnTWV0YScgYXMgYSBrZXkgc29tZXdoZXJlXG4gICAgICAgIC8vIHRoaXMgd291bGQgYWxzbyBiZSB0cnV0aHkgd2l0aG91dCB0aGlzIGZpbHRlciB3aGVuIHVzZXIgcHJlc3NlcyAnTWV0YScgKyAncidcbiAgICAgICAgLmZpbHRlcigoa2V5cykgPT4gaXNVcCB8fCBrZXlzLmxlbmd0aCA9PT0gcHJlc3NlZEtleXMuc2l6ZSlcbiAgICAgICAgLy8gc2luY2Ugd2Ugd2FudCB0byBzdXBwb3J0IG11bHRpcGxlIHBvc3NpYmlsaXRpZXMgb25seSBvbmUgb2YgdGhlXG4gICAgICAgIC8vIGNvbWJpbmF0aW9ucyBuZWVkIHRvIGJlIHBhcnQgb2YgdGhlIHByZXNzZWQga2V5c1xuICAgICAgICAuc29tZSgoa2V5cykgPT4ga2V5cy5ldmVyeSgoaykgPT4gcHJlc3NlZEtleXMuaGFzKGspKSkpO1xufVxuZnVuY3Rpb24gdXNlS2V5T3JDb2RlKGV2ZW50Q29kZSwga2V5c1RvV2F0Y2gpIHtcbiAgICByZXR1cm4ga2V5c1RvV2F0Y2guaW5jbHVkZXMoZXZlbnRDb2RlKSA/ICdjb2RlJyA6ICdrZXknO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVYWVpQb3NpdGlvbihub2RlLCBub2RlSW50ZXJuYWxzLCByZXN1bHQsIG5vZGVPcmlnaW4pIHtcbiAgICBpZiAoIW5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnROb2RlID0gbm9kZUludGVybmFscy5nZXQobm9kZS5wYXJlbnROb2RlKTtcbiAgICBjb25zdCBwYXJlbnROb2RlUG9zaXRpb24gPSBnZXROb2RlUG9zaXRpb25XaXRoT3JpZ2luKHBhcmVudE5vZGUsIG5vZGVPcmlnaW4pO1xuICAgIHJldHVybiBjYWxjdWxhdGVYWVpQb3NpdGlvbihwYXJlbnROb2RlLCBub2RlSW50ZXJuYWxzLCB7XG4gICAgICAgIHg6IChyZXN1bHQueCA/PyAwKSArIHBhcmVudE5vZGVQb3NpdGlvbi54LFxuICAgICAgICB5OiAocmVzdWx0LnkgPz8gMCkgKyBwYXJlbnROb2RlUG9zaXRpb24ueSxcbiAgICAgICAgejogKHBhcmVudE5vZGVbaW50ZXJuYWxzU3ltYm9sXT8ueiA/PyAwKSA+IChyZXN1bHQueiA/PyAwKSA/IHBhcmVudE5vZGVbaW50ZXJuYWxzU3ltYm9sXT8ueiA/PyAwIDogcmVzdWx0LnogPz8gMCxcbiAgICB9LCBub2RlT3JpZ2luKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUFic29sdXRlTm9kZVBvc2l0aW9ucyhub2RlSW50ZXJuYWxzLCBub2RlT3JpZ2luLCBwYXJlbnROb2Rlcykge1xuICAgIG5vZGVJbnRlcm5hbHMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlICYmICFub2RlSW50ZXJuYWxzLmhhcyhub2RlLnBhcmVudE5vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcmVudCBub2RlICR7bm9kZS5wYXJlbnROb2RlfSBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlIHx8IHBhcmVudE5vZGVzPy5bbm9kZS5pZF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSwgeiB9ID0gY2FsY3VsYXRlWFlaUG9zaXRpb24obm9kZSwgbm9kZUludGVybmFscywge1xuICAgICAgICAgICAgICAgIC4uLm5vZGUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgejogbm9kZVtpbnRlcm5hbHNTeW1ib2xdPy56ID8/IDAsXG4gICAgICAgICAgICB9LCBub2RlT3JpZ2luKTtcbiAgICAgICAgICAgIG5vZGUucG9zaXRpb25BYnNvbHV0ZSA9IHtcbiAgICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICAgIHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbm9kZVtpbnRlcm5hbHNTeW1ib2xdLnogPSB6O1xuICAgICAgICAgICAgaWYgKHBhcmVudE5vZGVzPy5bbm9kZS5pZF0pIHtcbiAgICAgICAgICAgICAgICBub2RlW2ludGVybmFsc1N5bWJvbF0uaXNQYXJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVOb2RlSW50ZXJuYWxzKG5vZGVzLCBub2RlSW50ZXJuYWxzLCBub2RlT3JpZ2luLCBlbGV2YXRlTm9kZXNPblNlbGVjdCkge1xuICAgIGNvbnN0IG5leHROb2RlSW50ZXJuYWxzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHBhcmVudE5vZGVzID0ge307XG4gICAgY29uc3Qgc2VsZWN0ZWROb2RlWiA9IGVsZXZhdGVOb2Rlc09uU2VsZWN0ID8gMTAwMCA6IDA7XG4gICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCB6ID0gKGlzTnVtZXJpYyhub2RlLnpJbmRleCkgPyBub2RlLnpJbmRleCA6IDApICsgKG5vZGUuc2VsZWN0ZWQgPyBzZWxlY3RlZE5vZGVaIDogMCk7XG4gICAgICAgIGNvbnN0IGN1cnJJbnRlcm5hbHMgPSBub2RlSW50ZXJuYWxzLmdldChub2RlLmlkKTtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxzID0ge1xuICAgICAgICAgICAgd2lkdGg6IGN1cnJJbnRlcm5hbHM/LndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBjdXJySW50ZXJuYWxzPy5oZWlnaHQsXG4gICAgICAgICAgICAuLi5ub2RlLFxuICAgICAgICAgICAgcG9zaXRpb25BYnNvbHV0ZToge1xuICAgICAgICAgICAgICAgIHg6IG5vZGUucG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICB5OiBub2RlLnBvc2l0aW9uLnksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBpbnRlcm5hbHMucGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIHBhcmVudE5vZGVzW25vZGUucGFyZW50Tm9kZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnRlcm5hbHMsIGludGVybmFsc1N5bWJvbCwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIGhhbmRsZUJvdW5kczogY3VyckludGVybmFscz8uW2ludGVybmFsc1N5bWJvbF0/LmhhbmRsZUJvdW5kcyxcbiAgICAgICAgICAgICAgICB6LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIG5leHROb2RlSW50ZXJuYWxzLnNldChub2RlLmlkLCBpbnRlcm5hbHMpO1xuICAgIH0pO1xuICAgIHVwZGF0ZUFic29sdXRlTm9kZVBvc2l0aW9ucyhuZXh0Tm9kZUludGVybmFscywgbm9kZU9yaWdpbiwgcGFyZW50Tm9kZXMpO1xuICAgIHJldHVybiBuZXh0Tm9kZUludGVybmFscztcbn1cbmZ1bmN0aW9uIGZpdFZpZXcoZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IGdldE5vZGVzLCB3aWR0aCwgaGVpZ2h0LCBtaW5ab29tLCBtYXhab29tLCBkM1pvb20sIGQzU2VsZWN0aW9uLCBmaXRWaWV3T25Jbml0RG9uZSwgZml0Vmlld09uSW5pdCwgbm9kZU9yaWdpbiwgfSA9IGdldCgpO1xuICAgIGNvbnN0IGlzSW5pdGlhbEZpdFZpZXcgPSBvcHRpb25zLmluaXRpYWwgJiYgIWZpdFZpZXdPbkluaXREb25lICYmIGZpdFZpZXdPbkluaXQ7XG4gICAgY29uc3QgZDNpbml0aWFsaXplZCA9IGQzWm9vbSAmJiBkM1NlbGVjdGlvbjtcbiAgICBpZiAoZDNpbml0aWFsaXplZCAmJiAoaXNJbml0aWFsRml0VmlldyB8fCAhb3B0aW9ucy5pbml0aWFsKSkge1xuICAgICAgICBjb25zdCBub2RlcyA9IGdldE5vZGVzKCkuZmlsdGVyKChuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1Zpc2libGUgPSBvcHRpb25zLmluY2x1ZGVIaWRkZW5Ob2RlcyA/IG4ud2lkdGggJiYgbi5oZWlnaHQgOiAhbi5oaWRkZW47XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ub2Rlcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmlzaWJsZSAmJiBvcHRpb25zLm5vZGVzLnNvbWUoKG9wdGlvbk5vZGUpID0+IG9wdGlvbk5vZGUuaWQgPT09IG4uaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlzVmlzaWJsZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG5vZGVzSW5pdGlhbGl6ZWQgPSBub2Rlcy5ldmVyeSgobikgPT4gbi53aWR0aCAmJiBuLmhlaWdodCk7XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPiAwICYmIG5vZGVzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IGdldFJlY3RPZk5vZGVzKG5vZGVzLCBub2RlT3JpZ2luKTtcbiAgICAgICAgICAgIGNvbnN0IFt4LCB5LCB6b29tXSA9IGdldFRyYW5zZm9ybUZvckJvdW5kcyhib3VuZHMsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMubWluWm9vbSA/PyBtaW5ab29tLCBvcHRpb25zLm1heFpvb20gPz8gbWF4Wm9vbSwgb3B0aW9ucy5wYWRkaW5nID8/IDAuMSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0VHJhbnNmb3JtID0gem9vbUlkZW50aXR5LnRyYW5zbGF0ZSh4LCB5KS5zY2FsZSh6b29tKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kdXJhdGlvbiA9PT0gJ251bWJlcicgJiYgb3B0aW9ucy5kdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgICAgICBkM1pvb20udHJhbnNmb3JtKGdldEQzVHJhbnNpdGlvbihkM1NlbGVjdGlvbiwgb3B0aW9ucy5kdXJhdGlvbiksIG5leHRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZDNab29tLnRyYW5zZm9ybShkM1NlbGVjdGlvbiwgbmV4dFRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBoYW5kbGVDb250cm9sbGVkTm9kZVNlbGVjdGlvbkNoYW5nZShub2RlQ2hhbmdlcywgbm9kZUludGVybmFscykge1xuICAgIG5vZGVDaGFuZ2VzLmZvckVhY2goKGNoYW5nZSkgPT4ge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZUludGVybmFscy5nZXQoY2hhbmdlLmlkKTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHMuc2V0KG5vZGUuaWQsIHtcbiAgICAgICAgICAgICAgICAuLi5ub2RlLFxuICAgICAgICAgICAgICAgIFtpbnRlcm5hbHNTeW1ib2xdOiBub2RlW2ludGVybmFsc1N5bWJvbF0sXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGNoYW5nZS5zZWxlY3RlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBNYXAobm9kZUludGVybmFscyk7XG59XG5mdW5jdGlvbiBoYW5kbGVDb250cm9sbGVkRWRnZVNlbGVjdGlvbkNoYW5nZShlZGdlQ2hhbmdlcywgZWRnZXMpIHtcbiAgICByZXR1cm4gZWRnZXMubWFwKChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoYW5nZSA9IGVkZ2VDaGFuZ2VzLmZpbmQoKGNoYW5nZSkgPT4gY2hhbmdlLmlkID09PSBlLmlkKTtcbiAgICAgICAgaWYgKGNoYW5nZSkge1xuICAgICAgICAgICAgZS5zZWxlY3RlZCA9IGNoYW5nZS5zZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZU5vZGVzQW5kRWRnZXNTZWxlY3Rpb25zKHsgY2hhbmdlZE5vZGVzLCBjaGFuZ2VkRWRnZXMsIGdldCwgc2V0IH0pIHtcbiAgICBjb25zdCB7IG5vZGVJbnRlcm5hbHMsIGVkZ2VzLCBvbk5vZGVzQ2hhbmdlLCBvbkVkZ2VzQ2hhbmdlLCBoYXNEZWZhdWx0Tm9kZXMsIGhhc0RlZmF1bHRFZGdlcyB9ID0gZ2V0KCk7XG4gICAgaWYgKGNoYW5nZWROb2Rlcz8ubGVuZ3RoKSB7XG4gICAgICAgIGlmIChoYXNEZWZhdWx0Tm9kZXMpIHtcbiAgICAgICAgICAgIHNldCh7IG5vZGVJbnRlcm5hbHM6IGhhbmRsZUNvbnRyb2xsZWROb2RlU2VsZWN0aW9uQ2hhbmdlKGNoYW5nZWROb2Rlcywgbm9kZUludGVybmFscykgfSk7XG4gICAgICAgIH1cbiAgICAgICAgb25Ob2Rlc0NoYW5nZT8uKGNoYW5nZWROb2Rlcyk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VkRWRnZXM/Lmxlbmd0aCkge1xuICAgICAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzKSB7XG4gICAgICAgICAgICBzZXQoeyBlZGdlczogaGFuZGxlQ29udHJvbGxlZEVkZ2VTZWxlY3Rpb25DaGFuZ2UoY2hhbmdlZEVkZ2VzLCBlZGdlcykgfSk7XG4gICAgICAgIH1cbiAgICAgICAgb25FZGdlc0NoYW5nZT8uKGNoYW5nZWRFZGdlcyk7XG4gICAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG5jb25zdCBub29wID0gKCkgPT4geyB9O1xuY29uc3QgaW5pdGlhbFZpZXdwb3J0SGVscGVyID0ge1xuICAgIHpvb21Jbjogbm9vcCxcbiAgICB6b29tT3V0OiBub29wLFxuICAgIHpvb21Ubzogbm9vcCxcbiAgICBnZXRab29tOiAoKSA9PiAxLFxuICAgIHNldFZpZXdwb3J0OiBub29wLFxuICAgIGdldFZpZXdwb3J0OiAoKSA9PiAoeyB4OiAwLCB5OiAwLCB6b29tOiAxIH0pLFxuICAgIGZpdFZpZXc6ICgpID0+IGZhbHNlLFxuICAgIHNldENlbnRlcjogbm9vcCxcbiAgICBmaXRCb3VuZHM6IG5vb3AsXG4gICAgcHJvamVjdDogKHBvc2l0aW9uKSA9PiBwb3NpdGlvbixcbiAgICB2aWV3cG9ydEluaXRpYWxpemVkOiBmYWxzZSxcbn07XG5jb25zdCBzZWxlY3RvciRiID0gKHMpID0+ICh7XG4gICAgZDNab29tOiBzLmQzWm9vbSxcbiAgICBkM1NlbGVjdGlvbjogcy5kM1NlbGVjdGlvbixcbn0pO1xuY29uc3QgdXNlVmlld3BvcnRIZWxwZXIgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICAgIGNvbnN0IHsgZDNab29tLCBkM1NlbGVjdGlvbiB9ID0gdXNlU3RvcmUoc2VsZWN0b3IkYiwgc2hhbGxvdyk7XG4gICAgY29uc3Qgdmlld3BvcnRIZWxwZXJGdW5jdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgaWYgKGQzU2VsZWN0aW9uICYmIGQzWm9vbSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB6b29tSW46IChvcHRpb25zKSA9PiBkM1pvb20uc2NhbGVCeShnZXREM1RyYW5zaXRpb24oZDNTZWxlY3Rpb24sIG9wdGlvbnM/LmR1cmF0aW9uKSwgMS4yKSxcbiAgICAgICAgICAgICAgICB6b29tT3V0OiAob3B0aW9ucykgPT4gZDNab29tLnNjYWxlQnkoZ2V0RDNUcmFuc2l0aW9uKGQzU2VsZWN0aW9uLCBvcHRpb25zPy5kdXJhdGlvbiksIDEgLyAxLjIpLFxuICAgICAgICAgICAgICAgIHpvb21UbzogKHpvb21MZXZlbCwgb3B0aW9ucykgPT4gZDNab29tLnNjYWxlVG8oZ2V0RDNUcmFuc2l0aW9uKGQzU2VsZWN0aW9uLCBvcHRpb25zPy5kdXJhdGlvbiksIHpvb21MZXZlbCksXG4gICAgICAgICAgICAgICAgZ2V0Wm9vbTogKCkgPT4gc3RvcmUuZ2V0U3RhdGUoKS50cmFuc2Zvcm1bMl0sXG4gICAgICAgICAgICAgICAgc2V0Vmlld3BvcnQ6ICh0cmFuc2Zvcm0sIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3gsIHksIHpvb21dID0gc3RvcmUuZ2V0U3RhdGUoKS50cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUcmFuc2Zvcm0gPSB6b29tSWRlbnRpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFuc2xhdGUodHJhbnNmb3JtLnggPz8geCwgdHJhbnNmb3JtLnkgPz8geSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zY2FsZSh0cmFuc2Zvcm0uem9vbSA/PyB6b29tKTtcbiAgICAgICAgICAgICAgICAgICAgZDNab29tLnRyYW5zZm9ybShnZXREM1RyYW5zaXRpb24oZDNTZWxlY3Rpb24sIG9wdGlvbnM/LmR1cmF0aW9uKSwgbmV4dFRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRWaWV3cG9ydDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbeCwgeSwgem9vbV0gPSBzdG9yZS5nZXRTdGF0ZSgpLnRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgeCwgeSwgem9vbSB9O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZml0VmlldzogKG9wdGlvbnMpID0+IGZpdFZpZXcoc3RvcmUuZ2V0U3RhdGUsIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIHNldENlbnRlcjogKHgsIHksIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBtYXhab29tIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Wm9vbSA9IHR5cGVvZiBvcHRpb25zPy56b29tICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuem9vbSA6IG1heFpvb207XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDIgLSB4ICogbmV4dFpvb207XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlclkgPSBoZWlnaHQgLyAyIC0geSAqIG5leHRab29tO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB6b29tSWRlbnRpdHkudHJhbnNsYXRlKGNlbnRlclgsIGNlbnRlclkpLnNjYWxlKG5leHRab29tKTtcbiAgICAgICAgICAgICAgICAgICAgZDNab29tLnRyYW5zZm9ybShnZXREM1RyYW5zaXRpb24oZDNTZWxlY3Rpb24sIG9wdGlvbnM/LmR1cmF0aW9uKSwgdHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpdEJvdW5kczogKGJvdW5kcywgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIG1pblpvb20sIG1heFpvb20gfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5LCB6b29tXSA9IGdldFRyYW5zZm9ybUZvckJvdW5kcyhib3VuZHMsIHdpZHRoLCBoZWlnaHQsIG1pblpvb20sIG1heFpvb20sIG9wdGlvbnM/LnBhZGRpbmcgPz8gMC4xKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gem9vbUlkZW50aXR5LnRyYW5zbGF0ZSh4LCB5KS5zY2FsZSh6b29tKTtcbiAgICAgICAgICAgICAgICAgICAgZDNab29tLnRyYW5zZm9ybShnZXREM1RyYW5zaXRpb24oZDNTZWxlY3Rpb24sIG9wdGlvbnM/LmR1cmF0aW9uKSwgdHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByb2plY3Q6IChwb3NpdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRyYW5zZm9ybSwgc25hcFRvR3JpZCwgc25hcEdyaWQgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludFRvUmVuZGVyZXJQb2ludChwb3NpdGlvbiwgdHJhbnNmb3JtLCBzbmFwVG9HcmlkLCBzbmFwR3JpZCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5pdGlhbFZpZXdwb3J0SGVscGVyO1xuICAgIH0sIFtkM1pvb20sIGQzU2VsZWN0aW9uXSk7XG4gICAgcmV0dXJuIHZpZXdwb3J0SGVscGVyRnVuY3Rpb25zO1xufTtcblxuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmZ1bmN0aW9uIHVzZVJlYWN0RmxvdygpIHtcbiAgICBjb25zdCB2aWV3cG9ydEhlbHBlciA9IHVzZVZpZXdwb3J0SGVscGVyKCk7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICAgIGNvbnN0IGdldE5vZGVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICByZXR1cm4gc3RvcmVcbiAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAuZ2V0Tm9kZXMoKVxuICAgICAgICAgICAgLm1hcCgobikgPT4gKHsgLi4ubiB9KSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGdldE5vZGUgPSB1c2VDYWxsYmFjaygoaWQpID0+IHtcbiAgICAgICAgcmV0dXJuIHN0b3JlLmdldFN0YXRlKCkubm9kZUludGVybmFscy5nZXQoaWQpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBnZXRFZGdlcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgeyBlZGdlcyA9IFtdIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gZWRnZXMubWFwKChlKSA9PiAoeyAuLi5lIH0pKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgZ2V0RWRnZSA9IHVzZUNhbGxiYWNrKChpZCkgPT4ge1xuICAgICAgICBjb25zdCB7IGVkZ2VzID0gW10gfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIHJldHVybiBlZGdlcy5maW5kKChlKSA9PiBlLmlkID09PSBpZCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHNldE5vZGVzID0gdXNlQ2FsbGJhY2soKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgeyBnZXROb2Rlcywgc2V0Tm9kZXMsIGhhc0RlZmF1bHROb2Rlcywgb25Ob2Rlc0NoYW5nZSB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSBnZXROb2RlcygpO1xuICAgICAgICBjb25zdCBuZXh0Tm9kZXMgPSB0eXBlb2YgcGF5bG9hZCA9PT0gJ2Z1bmN0aW9uJyA/IHBheWxvYWQobm9kZXMpIDogcGF5bG9hZDtcbiAgICAgICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xuICAgICAgICAgICAgc2V0Tm9kZXMobmV4dE5vZGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvbk5vZGVzQ2hhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFuZ2VzID0gbmV4dE5vZGVzLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gbm9kZXMubWFwKChub2RlKSA9PiAoeyB0eXBlOiAncmVtb3ZlJywgaWQ6IG5vZGUuaWQgfSkpXG4gICAgICAgICAgICAgICAgOiBuZXh0Tm9kZXMubWFwKChub2RlKSA9PiAoeyBpdGVtOiBub2RlLCB0eXBlOiAncmVzZXQnIH0pKTtcbiAgICAgICAgICAgIG9uTm9kZXNDaGFuZ2UoY2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgY29uc3Qgc2V0RWRnZXMgPSB1c2VDYWxsYmFjaygocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCB7IGVkZ2VzID0gW10sIHNldEVkZ2VzLCBoYXNEZWZhdWx0RWRnZXMsIG9uRWRnZXNDaGFuZ2UgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IG5leHRFZGdlcyA9IHR5cGVvZiBwYXlsb2FkID09PSAnZnVuY3Rpb24nID8gcGF5bG9hZChlZGdlcykgOiBwYXlsb2FkO1xuICAgICAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzKSB7XG4gICAgICAgICAgICBzZXRFZGdlcyhuZXh0RWRnZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9uRWRnZXNDaGFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBuZXh0RWRnZXMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgPyBlZGdlcy5tYXAoKGVkZ2UpID0+ICh7IHR5cGU6ICdyZW1vdmUnLCBpZDogZWRnZS5pZCB9KSlcbiAgICAgICAgICAgICAgICA6IG5leHRFZGdlcy5tYXAoKGVkZ2UpID0+ICh7IGl0ZW06IGVkZ2UsIHR5cGU6ICdyZXNldCcgfSkpO1xuICAgICAgICAgICAgb25FZGdlc0NoYW5nZShjaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICBjb25zdCBhZGROb2RlcyA9IHVzZUNhbGxiYWNrKChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbcGF5bG9hZF07XG4gICAgICAgIGNvbnN0IHsgZ2V0Tm9kZXMsIHNldE5vZGVzLCBoYXNEZWZhdWx0Tm9kZXMsIG9uTm9kZXNDaGFuZ2UgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGlmIChoYXNEZWZhdWx0Tm9kZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlcyA9IGdldE5vZGVzKCk7XG4gICAgICAgICAgICBjb25zdCBuZXh0Tm9kZXMgPSBbLi4uY3VycmVudE5vZGVzLCAuLi5ub2Rlc107XG4gICAgICAgICAgICBzZXROb2RlcyhuZXh0Tm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9uTm9kZXNDaGFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBub2Rlcy5tYXAoKG5vZGUpID0+ICh7IGl0ZW06IG5vZGUsIHR5cGU6ICdhZGQnIH0pKTtcbiAgICAgICAgICAgIG9uTm9kZXNDaGFuZ2UoY2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgY29uc3QgYWRkRWRnZXMgPSB1c2VDYWxsYmFjaygocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBuZXh0RWRnZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtwYXlsb2FkXTtcbiAgICAgICAgY29uc3QgeyBlZGdlcyA9IFtdLCBzZXRFZGdlcywgaGFzRGVmYXVsdEVkZ2VzLCBvbkVkZ2VzQ2hhbmdlIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzKSB7XG4gICAgICAgICAgICBzZXRFZGdlcyhbLi4uZWRnZXMsIC4uLm5leHRFZGdlc10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9uRWRnZXNDaGFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBuZXh0RWRnZXMubWFwKChlZGdlKSA9PiAoeyBpdGVtOiBlZGdlLCB0eXBlOiAnYWRkJyB9KSk7XG4gICAgICAgICAgICBvbkVkZ2VzQ2hhbmdlKGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHRvT2JqZWN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGdldE5vZGVzLCBlZGdlcyA9IFtdLCB0cmFuc2Zvcm0gfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IFt4LCB5LCB6b29tXSA9IHRyYW5zZm9ybTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vZGVzOiBnZXROb2RlcygpLm1hcCgobikgPT4gKHsgLi4ubiB9KSksXG4gICAgICAgICAgICBlZGdlczogZWRnZXMubWFwKChlKSA9PiAoeyAuLi5lIH0pKSxcbiAgICAgICAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgIHpvb20sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBkZWxldGVFbGVtZW50cyA9IHVzZUNhbGxiYWNrKCh7IG5vZGVzOiBub2Rlc0RlbGV0ZWQsIGVkZ2VzOiBlZGdlc0RlbGV0ZWQgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IG5vZGVJbnRlcm5hbHMsIGdldE5vZGVzLCBlZGdlcywgaGFzRGVmYXVsdE5vZGVzLCBoYXNEZWZhdWx0RWRnZXMsIG9uTm9kZXNEZWxldGUsIG9uRWRnZXNEZWxldGUsIG9uTm9kZXNDaGFuZ2UsIG9uRWRnZXNDaGFuZ2UsIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBub2RlSWRzID0gKG5vZGVzRGVsZXRlZCB8fCBbXSkubWFwKChub2RlKSA9PiBub2RlLmlkKTtcbiAgICAgICAgY29uc3QgZWRnZUlkcyA9IChlZGdlc0RlbGV0ZWQgfHwgW10pLm1hcCgoZWRnZSkgPT4gZWRnZS5pZCk7XG4gICAgICAgIGNvbnN0IG5vZGVzVG9SZW1vdmUgPSBnZXROb2RlcygpLnJlZHVjZSgocmVzLCBub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRIaXQgPSAhbm9kZUlkcy5pbmNsdWRlcyhub2RlLmlkKSAmJiBub2RlLnBhcmVudE5vZGUgJiYgcmVzLmZpbmQoKG4pID0+IG4uaWQgPT09IG5vZGUucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICBjb25zdCBkZWxldGFibGUgPSB0eXBlb2Ygbm9kZS5kZWxldGFibGUgPT09ICdib29sZWFuJyA/IG5vZGUuZGVsZXRhYmxlIDogdHJ1ZTtcbiAgICAgICAgICAgIGlmIChkZWxldGFibGUgJiYgKG5vZGVJZHMuaW5jbHVkZXMobm9kZS5pZCkgfHwgcGFyZW50SGl0KSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICBjb25zdCBkZWxldGFibGVFZGdlcyA9IGVkZ2VzLmZpbHRlcigoZSkgPT4gKHR5cGVvZiBlLmRlbGV0YWJsZSA9PT0gJ2Jvb2xlYW4nID8gZS5kZWxldGFibGUgOiB0cnVlKSk7XG4gICAgICAgIGNvbnN0IGluaXRpYWxIaXRFZGdlcyA9IGRlbGV0YWJsZUVkZ2VzLmZpbHRlcigoZSkgPT4gZWRnZUlkcy5pbmNsdWRlcyhlLmlkKSk7XG4gICAgICAgIGlmIChub2Rlc1RvUmVtb3ZlIHx8IGluaXRpYWxIaXRFZGdlcykge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkRWRnZXMgPSBnZXRDb25uZWN0ZWRFZGdlcyhub2Rlc1RvUmVtb3ZlLCBkZWxldGFibGVFZGdlcyk7XG4gICAgICAgICAgICBjb25zdCBlZGdlc1RvUmVtb3ZlID0gWy4uLmluaXRpYWxIaXRFZGdlcywgLi4uY29ubmVjdGVkRWRnZXNdO1xuICAgICAgICAgICAgY29uc3QgZWRnZUlkc1RvUmVtb3ZlID0gZWRnZXNUb1JlbW92ZS5yZWR1Y2UoKHJlcywgZWRnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzLmluY2x1ZGVzKGVkZ2UuaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGVkZ2UuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgaWYgKGhhc0RlZmF1bHRFZGdlcyB8fCBoYXNEZWZhdWx0Tm9kZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VzOiBlZGdlcy5maWx0ZXIoKGUpID0+ICFlZGdlSWRzVG9SZW1vdmUuaW5jbHVkZXMoZS5pZCkpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJbnRlcm5hbHMuZGVsZXRlKG5vZGUuaWQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUludGVybmFsczogbmV3IE1hcChub2RlSW50ZXJuYWxzKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVkZ2VJZHNUb1JlbW92ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgb25FZGdlc0RlbGV0ZT8uKGVkZ2VzVG9SZW1vdmUpO1xuICAgICAgICAgICAgICAgIGlmIChvbkVkZ2VzQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRWRnZXNDaGFuZ2UoZWRnZUlkc1RvUmVtb3ZlLm1hcCgoaWQpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZW1vdmUnLFxuICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2Rlc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBvbk5vZGVzRGVsZXRlPy4obm9kZXNUb1JlbW92ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9uTm9kZXNDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZUNoYW5nZXMgPSBub2Rlc1RvUmVtb3ZlLm1hcCgobikgPT4gKHsgaWQ6IG4uaWQsIHR5cGU6ICdyZW1vdmUnIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgb25Ob2Rlc0NoYW5nZShub2RlQ2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGdldE5vZGVSZWN0ID0gdXNlQ2FsbGJhY2soKG5vZGVPclJlY3QpID0+IHtcbiAgICAgICAgY29uc3QgaXNSZWN0ID0gaXNSZWN0T2JqZWN0KG5vZGVPclJlY3QpO1xuICAgICAgICBjb25zdCBub2RlID0gaXNSZWN0ID8gbnVsbCA6IHN0b3JlLmdldFN0YXRlKCkubm9kZUludGVybmFscy5nZXQobm9kZU9yUmVjdC5pZCk7XG4gICAgICAgIGNvbnN0IG5vZGVSZWN0ID0gaXNSZWN0ID8gbm9kZU9yUmVjdCA6IG5vZGVUb1JlY3Qobm9kZSk7XG4gICAgICAgIHJldHVybiBbbm9kZVJlY3QsIG5vZGUsIGlzUmVjdF07XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGdldEludGVyc2VjdGluZ05vZGVzID0gdXNlQ2FsbGJhY2soKG5vZGVPclJlY3QsIHBhcnRpYWxseSA9IHRydWUsIG5vZGVzKSA9PiB7XG4gICAgICAgIGNvbnN0IFtub2RlUmVjdCwgbm9kZSwgaXNSZWN0XSA9IGdldE5vZGVSZWN0KG5vZGVPclJlY3QpO1xuICAgICAgICBpZiAoIW5vZGVSZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChub2RlcyB8fCBzdG9yZS5nZXRTdGF0ZSgpLmdldE5vZGVzKCkpLmZpbHRlcigobikgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc1JlY3QgJiYgKG4uaWQgPT09IG5vZGUuaWQgfHwgIW4ucG9zaXRpb25BYnNvbHV0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyTm9kZVJlY3QgPSBub2RlVG9SZWN0KG4pO1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmxhcHBpbmdBcmVhID0gZ2V0T3ZlcmxhcHBpbmdBcmVhKGN1cnJOb2RlUmVjdCwgbm9kZVJlY3QpO1xuICAgICAgICAgICAgY29uc3QgcGFydGlhbGx5VmlzaWJsZSA9IHBhcnRpYWxseSAmJiBvdmVybGFwcGluZ0FyZWEgPiAwO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWxseVZpc2libGUgfHwgb3ZlcmxhcHBpbmdBcmVhID49IG5vZGVPclJlY3Qud2lkdGggKiBub2RlT3JSZWN0LmhlaWdodDtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGlzTm9kZUludGVyc2VjdGluZyA9IHVzZUNhbGxiYWNrKChub2RlT3JSZWN0LCBhcmVhLCBwYXJ0aWFsbHkgPSB0cnVlKSA9PiB7XG4gICAgICAgIGNvbnN0IFtub2RlUmVjdF0gPSBnZXROb2RlUmVjdChub2RlT3JSZWN0KTtcbiAgICAgICAgaWYgKCFub2RlUmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG92ZXJsYXBwaW5nQXJlYSA9IGdldE92ZXJsYXBwaW5nQXJlYShub2RlUmVjdCwgYXJlYSk7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxseVZpc2libGUgPSBwYXJ0aWFsbHkgJiYgb3ZlcmxhcHBpbmdBcmVhID4gMDtcbiAgICAgICAgcmV0dXJuIHBhcnRpYWxseVZpc2libGUgfHwgb3ZlcmxhcHBpbmdBcmVhID49IG5vZGVPclJlY3Qud2lkdGggKiBub2RlT3JSZWN0LmhlaWdodDtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udmlld3BvcnRIZWxwZXIsXG4gICAgICAgICAgICBnZXROb2RlcyxcbiAgICAgICAgICAgIGdldE5vZGUsXG4gICAgICAgICAgICBnZXRFZGdlcyxcbiAgICAgICAgICAgIGdldEVkZ2UsXG4gICAgICAgICAgICBzZXROb2RlcyxcbiAgICAgICAgICAgIHNldEVkZ2VzLFxuICAgICAgICAgICAgYWRkTm9kZXMsXG4gICAgICAgICAgICBhZGRFZGdlcyxcbiAgICAgICAgICAgIHRvT2JqZWN0LFxuICAgICAgICAgICAgZGVsZXRlRWxlbWVudHMsXG4gICAgICAgICAgICBnZXRJbnRlcnNlY3RpbmdOb2RlcyxcbiAgICAgICAgICAgIGlzTm9kZUludGVyc2VjdGluZyxcbiAgICAgICAgfTtcbiAgICB9LCBbXG4gICAgICAgIHZpZXdwb3J0SGVscGVyLFxuICAgICAgICBnZXROb2RlcyxcbiAgICAgICAgZ2V0Tm9kZSxcbiAgICAgICAgZ2V0RWRnZXMsXG4gICAgICAgIGdldEVkZ2UsXG4gICAgICAgIHNldE5vZGVzLFxuICAgICAgICBzZXRFZGdlcyxcbiAgICAgICAgYWRkTm9kZXMsXG4gICAgICAgIGFkZEVkZ2VzLFxuICAgICAgICB0b09iamVjdCxcbiAgICAgICAgZGVsZXRlRWxlbWVudHMsXG4gICAgICAgIGdldEludGVyc2VjdGluZ05vZGVzLFxuICAgICAgICBpc05vZGVJbnRlcnNlY3RpbmcsXG4gICAgXSk7XG59XG5cbmNvbnN0IGRlbGV0ZUtleU9wdGlvbnMgPSB7IGFjdEluc2lkZUlucHV0V2l0aE1vZGlmaWVyOiBmYWxzZSB9O1xudmFyIHVzZUdsb2JhbEtleUhhbmRsZXIgPSAoeyBkZWxldGVLZXlDb2RlLCBtdWx0aVNlbGVjdGlvbktleUNvZGUgfSkgPT4ge1xuICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgICBjb25zdCB7IGRlbGV0ZUVsZW1lbnRzIH0gPSB1c2VSZWFjdEZsb3coKTtcbiAgICBjb25zdCBkZWxldGVLZXlQcmVzc2VkID0gdXNlS2V5UHJlc3MoZGVsZXRlS2V5Q29kZSwgZGVsZXRlS2V5T3B0aW9ucyk7XG4gICAgY29uc3QgbXVsdGlTZWxlY3Rpb25LZXlQcmVzc2VkID0gdXNlS2V5UHJlc3MobXVsdGlTZWxlY3Rpb25LZXlDb2RlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGVsZXRlS2V5UHJlc3NlZCkge1xuICAgICAgICAgICAgY29uc3QgeyBlZGdlcywgZ2V0Tm9kZXMgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZE5vZGVzID0gZ2V0Tm9kZXMoKS5maWx0ZXIoKG5vZGUpID0+IG5vZGUuc2VsZWN0ZWQpO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRFZGdlcyA9IGVkZ2VzLmZpbHRlcigoZWRnZSkgPT4gZWRnZS5zZWxlY3RlZCk7XG4gICAgICAgICAgICBkZWxldGVFbGVtZW50cyh7IG5vZGVzOiBzZWxlY3RlZE5vZGVzLCBlZGdlczogc2VsZWN0ZWRFZGdlcyB9KTtcbiAgICAgICAgICAgIHN0b3JlLnNldFN0YXRlKHsgbm9kZXNTZWxlY3Rpb25BY3RpdmU6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2RlbGV0ZUtleVByZXNzZWRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7IG11bHRpU2VsZWN0aW9uQWN0aXZlOiBtdWx0aVNlbGVjdGlvbktleVByZXNzZWQgfSk7XG4gICAgfSwgW211bHRpU2VsZWN0aW9uS2V5UHJlc3NlZF0pO1xufTtcblxuZnVuY3Rpb24gdXNlUmVzaXplSGFuZGxlcihyZW5kZXJlck5vZGUpIHtcbiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgbGV0IHJlc2l6ZU9ic2VydmVyO1xuICAgICAgICBjb25zdCB1cGRhdGVEaW1lbnNpb25zID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZW5kZXJlck5vZGUuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBnZXREaW1lbnNpb25zKHJlbmRlcmVyTm9kZS5jdXJyZW50KTtcbiAgICAgICAgICAgIGlmIChzaXplLmhlaWdodCA9PT0gMCB8fCBzaXplLndpZHRoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUuZ2V0U3RhdGUoKS5vbkVycm9yPy4oJzAwNCcsIGVycm9yTWVzc2FnZXNbJ2Vycm9yMDA0J10oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7IHdpZHRoOiBzaXplLndpZHRoIHx8IDUwMCwgaGVpZ2h0OiBzaXplLmhlaWdodCB8fCA1MDAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHVwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuICAgICAgICBpZiAocmVuZGVyZXJOb2RlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHVwZGF0ZURpbWVuc2lvbnMoKSk7XG4gICAgICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHJlbmRlcmVyTm9kZS5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuICAgICAgICAgICAgaWYgKHJlc2l6ZU9ic2VydmVyICYmIHJlbmRlcmVyTm9kZS5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHJlbmRlcmVyTm9kZS5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG59XG5cbmNvbnN0IGNvbnRhaW5lclN0eWxlID0ge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnQgKi9cbmNvbnN0IHZpZXdDaGFuZ2VkID0gKHByZXZWaWV3cG9ydCwgZXZlbnRUcmFuc2Zvcm0pID0+IHByZXZWaWV3cG9ydC54ICE9PSBldmVudFRyYW5zZm9ybS54IHx8IHByZXZWaWV3cG9ydC55ICE9PSBldmVudFRyYW5zZm9ybS55IHx8IHByZXZWaWV3cG9ydC56b29tICE9PSBldmVudFRyYW5zZm9ybS5rO1xuY29uc3QgZXZlbnRUb0Zsb3dUcmFuc2Zvcm0gPSAoZXZlbnRUcmFuc2Zvcm0pID0+ICh7XG4gICAgeDogZXZlbnRUcmFuc2Zvcm0ueCxcbiAgICB5OiBldmVudFRyYW5zZm9ybS55LFxuICAgIHpvb206IGV2ZW50VHJhbnNmb3JtLmssXG59KTtcbmNvbnN0IGlzV3JhcHBlZFdpdGhDbGFzcyA9IChldmVudCwgY2xhc3NOYW1lKSA9PiBldmVudC50YXJnZXQuY2xvc2VzdChgLiR7Y2xhc3NOYW1lfWApO1xuY29uc3QgaXNSaWdodENsaWNrUGFuID0gKHBhbk9uRHJhZywgdXNlZEJ1dHRvbikgPT4gdXNlZEJ1dHRvbiA9PT0gMiAmJiBBcnJheS5pc0FycmF5KHBhbk9uRHJhZykgJiYgcGFuT25EcmFnLmluY2x1ZGVzKDIpO1xuY29uc3Qgd2hlZWxEZWx0YSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGZhY3RvciA9IGV2ZW50LmN0cmxLZXkgJiYgaXNNYWNPcygpID8gMTAgOiAxO1xuICAgIHJldHVybiAtZXZlbnQuZGVsdGFZICogKGV2ZW50LmRlbHRhTW9kZSA9PT0gMSA/IDAuMDUgOiBldmVudC5kZWx0YU1vZGUgPyAxIDogMC4wMDIpICogZmFjdG9yO1xufTtcbmNvbnN0IHNlbGVjdG9yJGEgPSAocykgPT4gKHtcbiAgICBkM1pvb206IHMuZDNab29tLFxuICAgIGQzU2VsZWN0aW9uOiBzLmQzU2VsZWN0aW9uLFxuICAgIGQzWm9vbUhhbmRsZXI6IHMuZDNab29tSGFuZGxlcixcbiAgICB1c2VyU2VsZWN0aW9uQWN0aXZlOiBzLnVzZXJTZWxlY3Rpb25BY3RpdmUsXG59KTtcbmNvbnN0IFpvb21QYW5lID0gKHsgb25Nb3ZlLCBvbk1vdmVTdGFydCwgb25Nb3ZlRW5kLCBvblBhbmVDb250ZXh0TWVudSwgem9vbU9uU2Nyb2xsID0gdHJ1ZSwgem9vbU9uUGluY2ggPSB0cnVlLCBwYW5PblNjcm9sbCA9IGZhbHNlLCBwYW5PblNjcm9sbFNwZWVkID0gMC41LCBwYW5PblNjcm9sbE1vZGUgPSBQYW5PblNjcm9sbE1vZGUuRnJlZSwgem9vbU9uRG91YmxlQ2xpY2sgPSB0cnVlLCBlbGVtZW50c1NlbGVjdGFibGUsIHBhbk9uRHJhZyA9IHRydWUsIGRlZmF1bHRWaWV3cG9ydCwgdHJhbnNsYXRlRXh0ZW50LCBtaW5ab29tLCBtYXhab29tLCB6b29tQWN0aXZhdGlvbktleUNvZGUsIHByZXZlbnRTY3JvbGxpbmcgPSB0cnVlLCBjaGlsZHJlbiwgbm9XaGVlbENsYXNzTmFtZSwgbm9QYW5DbGFzc05hbWUsIH0pID0+IHtcbiAgICBjb25zdCB0aW1lcklkID0gdXNlUmVmKCk7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICAgIGNvbnN0IGlzWm9vbWluZ09yUGFubmluZyA9IHVzZVJlZihmYWxzZSk7XG4gICAgY29uc3Qgem9vbWVkV2l0aFJpZ2h0TW91c2VCdXR0b24gPSB1c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IHpvb21QYW5lID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHByZXZUcmFuc2Zvcm0gPSB1c2VSZWYoeyB4OiAwLCB5OiAwLCB6b29tOiAwIH0pO1xuICAgIGNvbnN0IHsgZDNab29tLCBkM1NlbGVjdGlvbiwgZDNab29tSGFuZGxlciwgdXNlclNlbGVjdGlvbkFjdGl2ZSB9ID0gdXNlU3RvcmUoc2VsZWN0b3IkYSwgc2hhbGxvdyk7XG4gICAgY29uc3Qgem9vbUFjdGl2YXRpb25LZXlQcmVzc2VkID0gdXNlS2V5UHJlc3Moem9vbUFjdGl2YXRpb25LZXlDb2RlKTtcbiAgICBjb25zdCBtb3VzZUJ1dHRvbiA9IHVzZVJlZigwKTtcbiAgICBjb25zdCBpc1BhblNjcm9sbGluZyA9IHVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgcGFuU2Nyb2xsVGltZW91dCA9IHVzZVJlZigpO1xuICAgIHVzZVJlc2l6ZUhhbmRsZXIoem9vbVBhbmUpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh6b29tUGFuZS5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBiYm94ID0gem9vbVBhbmUuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGQzWm9vbUluc3RhbmNlID0gem9vbSgpLnNjYWxlRXh0ZW50KFttaW5ab29tLCBtYXhab29tXSkudHJhbnNsYXRlRXh0ZW50KHRyYW5zbGF0ZUV4dGVudCk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBzZWxlY3Qoem9vbVBhbmUuY3VycmVudCkuY2FsbChkM1pvb21JbnN0YW5jZSk7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkVHJhbnNmb3JtID0gem9vbUlkZW50aXR5XG4gICAgICAgICAgICAgICAgLnRyYW5zbGF0ZShkZWZhdWx0Vmlld3BvcnQueCwgZGVmYXVsdFZpZXdwb3J0LnkpXG4gICAgICAgICAgICAgICAgLnNjYWxlKGNsYW1wKGRlZmF1bHRWaWV3cG9ydC56b29tLCBtaW5ab29tLCBtYXhab29tKSk7XG4gICAgICAgICAgICBjb25zdCBleHRlbnQgPSBbXG4gICAgICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgICAgIFtiYm94LndpZHRoLCBiYm94LmhlaWdodF0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgY29uc3RyYWluZWRUcmFuc2Zvcm0gPSBkM1pvb21JbnN0YW5jZS5jb25zdHJhaW4oKSh1cGRhdGVkVHJhbnNmb3JtLCBleHRlbnQsIHRyYW5zbGF0ZUV4dGVudCk7XG4gICAgICAgICAgICBkM1pvb21JbnN0YW5jZS50cmFuc2Zvcm0oc2VsZWN0aW9uLCBjb25zdHJhaW5lZFRyYW5zZm9ybSk7XG4gICAgICAgICAgICBkM1pvb21JbnN0YW5jZS53aGVlbERlbHRhKHdoZWVsRGVsdGEpO1xuICAgICAgICAgICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGQzWm9vbTogZDNab29tSW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgZDNTZWxlY3Rpb246IHNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICBkM1pvb21IYW5kbGVyOiBzZWxlY3Rpb24ub24oJ3doZWVsLnpvb20nKSxcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHBhc3MgdHJhbnNmb3JtIGJlY2F1c2Ugem9vbSBoYW5kbGVyIGlzIG5vdCByZWdpc3RlcmVkIHdoZW4gd2Ugc2V0IHRoZSBpbml0aWFsIHRyYW5zZm9ybVxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogW2NvbnN0cmFpbmVkVHJhbnNmb3JtLngsIGNvbnN0cmFpbmVkVHJhbnNmb3JtLnksIGNvbnN0cmFpbmVkVHJhbnNmb3JtLmtdLFxuICAgICAgICAgICAgICAgIGRvbU5vZGU6IHpvb21QYW5lLmN1cnJlbnQuY2xvc2VzdCgnLnJlYWN0LWZsb3cnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkM1NlbGVjdGlvbiAmJiBkM1pvb20pIHtcbiAgICAgICAgICAgIGlmIChwYW5PblNjcm9sbCAmJiAhem9vbUFjdGl2YXRpb25LZXlQcmVzc2VkICYmICF1c2VyU2VsZWN0aW9uQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgZDNTZWxlY3Rpb24ub24oJ3doZWVsLnpvb20nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV3JhcHBlZFdpdGhDbGFzcyhldmVudCwgbm9XaGVlbENsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFpvb20gPSBkM1NlbGVjdGlvbi5wcm9wZXJ0eSgnX196b29tJykuayB8fCAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNNYWNPcyA9IGlzTWFjT3MoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFjb3Mgc2V0cyBjdHJsS2V5PXRydWUgZm9yIHBpbmNoIGdlc3R1cmUgb24gYSB0cmFja3BhZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3RybEtleSAmJiB6b29tT25QaW5jaCAmJiBfaXNNYWNPcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludGVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpbmNoRGVsdGEgPSB3aGVlbERlbHRhKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHpvb20gPSBjdXJyZW50Wm9vbSAqIE1hdGgucG93KDIsIHBpbmNoRGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgZDNab29tLnNjYWxlVG8oZDNTZWxlY3Rpb24sIHpvb20sIHBvaW50LCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaW5jcmVhc2Ugc2Nyb2xsIHNwZWVkIGluIGZpcmVmb3hcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyZWZveDogZGVsdGFNb2RlID09PSAxOyBjaHJvbWU6IGRlbHRhTW9kZSA9PT0gMFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YU5vcm1hbGl6ZSA9IGV2ZW50LmRlbHRhTW9kZSA9PT0gMSA/IDIwIDogMTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhWCA9IHBhbk9uU2Nyb2xsTW9kZSA9PT0gUGFuT25TY3JvbGxNb2RlLlZlcnRpY2FsID8gMCA6IGV2ZW50LmRlbHRhWCAqIGRlbHRhTm9ybWFsaXplO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGFZID0gcGFuT25TY3JvbGxNb2RlID09PSBQYW5PblNjcm9sbE1vZGUuSG9yaXpvbnRhbCA/IDAgOiBldmVudC5kZWx0YVkgKiBkZWx0YU5vcm1hbGl6ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBlbmFibGVzIHZlcnRpY2FsIHNjcm9sbGluZyB3aXRoIHNoaWZ0ICsgc2Nyb2xsIG9uIHdpbmRvd3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXNNYWNPcyAmJiBldmVudC5zaGlmdEtleSAmJiBwYW5PblNjcm9sbE1vZGUgIT09IFBhbk9uU2Nyb2xsTW9kZS5WZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGFYID0gZXZlbnQuZGVsdGFZICogZGVsdGFOb3JtYWxpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YVkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGQzWm9vbS50cmFuc2xhdGVCeShkM1NlbGVjdGlvbiwgLShkZWx0YVggLyBjdXJyZW50Wm9vbSkgKiBwYW5PblNjcm9sbFNwZWVkLCAtKGRlbHRhWSAvIGN1cnJlbnRab29tKSAqIHBhbk9uU2Nyb2xsU3BlZWQsIFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHsgaW50ZXJuYWw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRWaWV3cG9ydCA9IGV2ZW50VG9GbG93VHJhbnNmb3JtKGQzU2VsZWN0aW9uLnByb3BlcnR5KCdfX3pvb20nKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgb25WaWV3cG9ydENoYW5nZVN0YXJ0LCBvblZpZXdwb3J0Q2hhbmdlLCBvblZpZXdwb3J0Q2hhbmdlRW5kIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocGFuU2Nyb2xsVGltZW91dC5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIHBhbiBvbiBzY3JvbGwgd2UgbmVlZCB0byBoYW5kbGUgdGhlIGV2ZW50IGNhbGxzIG9uIG91ciBvd25cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdXNlIHRoZSBzdGFydCwgem9vbSBhbmQgZW5kIGV2ZW50cyBmcm9tIGQzLXpvb21cbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBzdGFydCBhbmQgbW92ZSBnZXRzIGNhbGxlZCBvbiBldmVyeSBzY3JvbGwgZXZlbnQgYW5kIG5vdCBvbmNlIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1BhblNjcm9sbGluZy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1BhblNjcm9sbGluZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW92ZVN0YXJ0Py4oZXZlbnQsIG5leHRWaWV3cG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblZpZXdwb3J0Q2hhbmdlU3RhcnQ/LihuZXh0Vmlld3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1BhblNjcm9sbGluZy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdmU/LihldmVudCwgbmV4dFZpZXdwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVmlld3BvcnRDaGFuZ2U/LihuZXh0Vmlld3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFuU2Nyb2xsVGltZW91dC5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3ZlRW5kPy4oZXZlbnQsIG5leHRWaWV3cG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25WaWV3cG9ydENoYW5nZUVuZD8uKG5leHRWaWV3cG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQYW5TY3JvbGxpbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZDNab29tSGFuZGxlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkM1NlbGVjdGlvbi5vbignd2hlZWwuem9vbScsIGZ1bmN0aW9uIChldmVudCwgZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZlbnRTY3JvbGxpbmcgfHwgaXNXcmFwcGVkV2l0aENsYXNzKGV2ZW50LCBub1doZWVsQ2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZDNab29tSGFuZGxlci5jYWxsKHRoaXMsIGV2ZW50LCBkKTtcbiAgICAgICAgICAgICAgICB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICB1c2VyU2VsZWN0aW9uQWN0aXZlLFxuICAgICAgICBwYW5PblNjcm9sbCxcbiAgICAgICAgcGFuT25TY3JvbGxNb2RlLFxuICAgICAgICBkM1NlbGVjdGlvbixcbiAgICAgICAgZDNab29tLFxuICAgICAgICBkM1pvb21IYW5kbGVyLFxuICAgICAgICB6b29tQWN0aXZhdGlvbktleVByZXNzZWQsXG4gICAgICAgIHpvb21PblBpbmNoLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsaW5nLFxuICAgICAgICBub1doZWVsQ2xhc3NOYW1lLFxuICAgICAgICBvbk1vdmVTdGFydCxcbiAgICAgICAgb25Nb3ZlLFxuICAgICAgICBvbk1vdmVFbmQsXG4gICAgXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGQzWm9vbSkge1xuICAgICAgICAgICAgZDNab29tLm9uKCdzdGFydCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXZlbnQuc291cmNlRXZlbnQgfHwgZXZlbnQuc291cmNlRXZlbnQuaW50ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVtZW1iZXIgaXQgaGVyZSwgYmVjYXVzZSBpdCdzIGFsd2F5cyAwIGluIHRoZSBcInpvb21cIiBldmVudFxuICAgICAgICAgICAgICAgIG1vdXNlQnV0dG9uLmN1cnJlbnQgPSBldmVudC5zb3VyY2VFdmVudD8uYnV0dG9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgb25WaWV3cG9ydENoYW5nZVN0YXJ0IH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsb3dUcmFuc2Zvcm0gPSBldmVudFRvRmxvd1RyYW5zZm9ybShldmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIGlzWm9vbWluZ09yUGFubmluZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwcmV2VHJhbnNmb3JtLmN1cnJlbnQgPSBmbG93VHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2VFdmVudD8udHlwZSA9PT0gJ21vdXNlZG93bicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuc2V0U3RhdGUoeyBwYW5lRHJhZ2dpbmc6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uVmlld3BvcnRDaGFuZ2VTdGFydD8uKGZsb3dUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIG9uTW92ZVN0YXJ0Py4oZXZlbnQuc291cmNlRXZlbnQsIGZsb3dUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbZDNab29tLCBvbk1vdmVTdGFydF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkM1pvb20pIHtcbiAgICAgICAgICAgIGlmICh1c2VyU2VsZWN0aW9uQWN0aXZlICYmICFpc1pvb21pbmdPclBhbm5pbmcuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGQzWm9vbS5vbignem9vbScsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXVzZXJTZWxlY3Rpb25BY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBkM1pvb20ub24oJ3pvb20nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBvblZpZXdwb3J0Q2hhbmdlIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7IHRyYW5zZm9ybTogW2V2ZW50LnRyYW5zZm9ybS54LCBldmVudC50cmFuc2Zvcm0ueSwgZXZlbnQudHJhbnNmb3JtLmtdIH0pO1xuICAgICAgICAgICAgICAgICAgICB6b29tZWRXaXRoUmlnaHRNb3VzZUJ1dHRvbi5jdXJyZW50ID0gISEob25QYW5lQ29udGV4dE1lbnUgJiYgaXNSaWdodENsaWNrUGFuKHBhbk9uRHJhZywgbW91c2VCdXR0b24uY3VycmVudCA/PyAwKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgob25Nb3ZlIHx8IG9uVmlld3BvcnRDaGFuZ2UpICYmICFldmVudC5zb3VyY2VFdmVudD8uaW50ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsb3dUcmFuc2Zvcm0gPSBldmVudFRvRmxvd1RyYW5zZm9ybShldmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25WaWV3cG9ydENoYW5nZT8uKGZsb3dUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3ZlPy4oZXZlbnQuc291cmNlRXZlbnQsIGZsb3dUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbdXNlclNlbGVjdGlvbkFjdGl2ZSwgZDNab29tLCBvbk1vdmUsIHBhbk9uRHJhZywgb25QYW5lQ29udGV4dE1lbnVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZDNab29tKSB7XG4gICAgICAgICAgICBkM1pvb20ub24oJ2VuZCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXZlbnQuc291cmNlRXZlbnQgfHwgZXZlbnQuc291cmNlRXZlbnQuaW50ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgb25WaWV3cG9ydENoYW5nZUVuZCB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpc1pvb21pbmdPclBhbm5pbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0b3JlLnNldFN0YXRlKHsgcGFuZURyYWdnaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICBpZiAob25QYW5lQ29udGV4dE1lbnUgJiZcbiAgICAgICAgICAgICAgICAgICAgaXNSaWdodENsaWNrUGFuKHBhbk9uRHJhZywgbW91c2VCdXR0b24uY3VycmVudCA/PyAwKSAmJlxuICAgICAgICAgICAgICAgICAgICAhem9vbWVkV2l0aFJpZ2h0TW91c2VCdXR0b24uY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBvblBhbmVDb250ZXh0TWVudShldmVudC5zb3VyY2VFdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHpvb21lZFdpdGhSaWdodE1vdXNlQnV0dG9uLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoKG9uTW92ZUVuZCB8fCBvblZpZXdwb3J0Q2hhbmdlRW5kKSAmJiB2aWV3Q2hhbmdlZChwcmV2VHJhbnNmb3JtLmN1cnJlbnQsIGV2ZW50LnRyYW5zZm9ybSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmxvd1RyYW5zZm9ybSA9IGV2ZW50VG9GbG93VHJhbnNmb3JtKGV2ZW50LnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2Zvcm0uY3VycmVudCA9IGZsb3dUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB0aW1lcklkLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVmlld3BvcnRDaGFuZ2VFbmQ/LihmbG93VHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW92ZUVuZD8uKGV2ZW50LnNvdXJjZUV2ZW50LCBmbG93VHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgcGFuT25TY3JvbGwgPyAxNTAgOiAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtkM1pvb20sIHBhbk9uU2Nyb2xsLCBwYW5PbkRyYWcsIG9uTW92ZUVuZCwgb25QYW5lQ29udGV4dE1lbnVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZDNab29tKSB7XG4gICAgICAgICAgICBkM1pvb20uZmlsdGVyKChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHpvb21TY3JvbGwgPSB6b29tQWN0aXZhdGlvbktleVByZXNzZWQgfHwgem9vbU9uU2Nyb2xsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBpbmNoWm9vbSA9IHpvb21PblBpbmNoICYmIGV2ZW50LmN0cmxLZXk7XG4gICAgICAgICAgICAgICAgaWYgKChwYW5PbkRyYWcgPT09IHRydWUgfHwgKEFycmF5LmlzQXJyYXkocGFuT25EcmFnKSAmJiBwYW5PbkRyYWcuaW5jbHVkZXMoMSkpKSAmJlxuICAgICAgICAgICAgICAgICAgICBldmVudC5idXR0b24gPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgJiZcbiAgICAgICAgICAgICAgICAgICAgKGlzV3JhcHBlZFdpdGhDbGFzcyhldmVudCwgJ3JlYWN0LWZsb3dfX25vZGUnKSB8fCBpc1dyYXBwZWRXaXRoQ2xhc3MoZXZlbnQsICdyZWFjdC1mbG93X19lZGdlJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiBhbGwgaW50ZXJhY3Rpb25zIGFyZSBkaXNhYmxlZCwgd2UgcHJldmVudCBhbGwgem9vbSBldmVudHNcbiAgICAgICAgICAgICAgICBpZiAoIXBhbk9uRHJhZyAmJiAhem9vbVNjcm9sbCAmJiAhcGFuT25TY3JvbGwgJiYgIXpvb21PbkRvdWJsZUNsaWNrICYmICF6b29tT25QaW5jaCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGR1cmluZyBhIHNlbGVjdGlvbiB3ZSBwcmV2ZW50IGFsbCBvdGhlciBpbnRlcmFjdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAodXNlclNlbGVjdGlvbkFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHpvb20gb24gZG91YmxlIGNsaWNrIGlzIGRpc2FibGVkLCB3ZSBwcmV2ZW50IHRoZSBkb3VibGUgY2xpY2sgZXZlbnRcbiAgICAgICAgICAgICAgICBpZiAoIXpvb21PbkRvdWJsZUNsaWNrICYmIGV2ZW50LnR5cGUgPT09ICdkYmxjbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgaW5zaWRlIGFuIGVsZW1lbnQgd2l0aCB0aGUgbm93aGVlbCBjbGFzcywgd2UgcHJldmVudCB6b29taW5nXG4gICAgICAgICAgICAgICAgaWYgKGlzV3JhcHBlZFdpdGhDbGFzcyhldmVudCwgbm9XaGVlbENsYXNzTmFtZSkgJiYgZXZlbnQudHlwZSA9PT0gJ3doZWVsJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBpbnNpZGUgYW4gZWxlbWVudCB3aXRoIHRoZSBub3BhbiBjbGFzcywgd2UgcHJldmVudCBwYW5uaW5nXG4gICAgICAgICAgICAgICAgaWYgKGlzV3JhcHBlZFdpdGhDbGFzcyhldmVudCwgbm9QYW5DbGFzc05hbWUpICYmXG4gICAgICAgICAgICAgICAgICAgIChldmVudC50eXBlICE9PSAnd2hlZWwnIHx8IChwYW5PblNjcm9sbCAmJiBldmVudC50eXBlID09PSAnd2hlZWwnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXpvb21PblBpbmNoICYmIGV2ZW50LmN0cmxLZXkgJiYgZXZlbnQudHlwZSA9PT0gJ3doZWVsJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlcmUgaXMgbm8gc2Nyb2xsIGhhbmRsaW5nIGVuYWJsZWQsIHdlIHByZXZlbnQgYWxsIHdoZWVsIGV2ZW50c1xuICAgICAgICAgICAgICAgIGlmICghem9vbVNjcm9sbCAmJiAhcGFuT25TY3JvbGwgJiYgIXBpbmNoWm9vbSAmJiBldmVudC50eXBlID09PSAnd2hlZWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHBhbmUgaXMgbm90IG1vdmFibGUsIHdlIHByZXZlbnQgZHJhZ2dpbmcgaXQgd2l0aCBtb3VzZXN0YXJ0IG9yIHRvdWNoc3RhcnRcbiAgICAgICAgICAgICAgICBpZiAoIXBhbk9uRHJhZyAmJiAoZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgfHwgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwYW5lIGlzIG9ubHkgbW92YWJsZSB1c2luZyBhbGxvd2VkIGNsaWNrc1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhbk9uRHJhZykgJiZcbiAgICAgICAgICAgICAgICAgICAgIXBhbk9uRHJhZy5pbmNsdWRlcyhldmVudC5idXR0b24pICYmXG4gICAgICAgICAgICAgICAgICAgIChldmVudC50eXBlID09PSAnbW91c2Vkb3duJyB8fCBldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2Ugb25seSBhbGxvdyByaWdodCBjbGlja3MgaWYgcGFuIG9uIGRyYWcgaXMgc2V0IHRvIHJpZ2h0IGNsaWNrXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uQWxsb3dlZCA9IChBcnJheS5pc0FycmF5KHBhbk9uRHJhZykgJiYgcGFuT25EcmFnLmluY2x1ZGVzKGV2ZW50LmJ1dHRvbikpIHx8ICFldmVudC5idXR0b24gfHwgZXZlbnQuYnV0dG9uIDw9IDE7XG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCBmaWx0ZXIgZm9yIGQzLXpvb21cbiAgICAgICAgICAgICAgICByZXR1cm4gKCFldmVudC5jdHJsS2V5IHx8IGV2ZW50LnR5cGUgPT09ICd3aGVlbCcpICYmIGJ1dHRvbkFsbG93ZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtcbiAgICAgICAgdXNlclNlbGVjdGlvbkFjdGl2ZSxcbiAgICAgICAgZDNab29tLFxuICAgICAgICB6b29tT25TY3JvbGwsXG4gICAgICAgIHpvb21PblBpbmNoLFxuICAgICAgICBwYW5PblNjcm9sbCxcbiAgICAgICAgem9vbU9uRG91YmxlQ2xpY2ssXG4gICAgICAgIHBhbk9uRHJhZyxcbiAgICAgICAgZWxlbWVudHNTZWxlY3RhYmxlLFxuICAgICAgICB6b29tQWN0aXZhdGlvbktleVByZXNzZWQsXG4gICAgXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX3JlbmRlcmVyXCIsIHJlZjogem9vbVBhbmUsIHN0eWxlOiBjb250YWluZXJTdHlsZSB9LCBjaGlsZHJlbikpO1xufTtcblxuY29uc3Qgc2VsZWN0b3IkOSA9IChzKSA9PiAoe1xuICAgIHVzZXJTZWxlY3Rpb25BY3RpdmU6IHMudXNlclNlbGVjdGlvbkFjdGl2ZSxcbiAgICB1c2VyU2VsZWN0aW9uUmVjdDogcy51c2VyU2VsZWN0aW9uUmVjdCxcbn0pO1xuZnVuY3Rpb24gVXNlclNlbGVjdGlvbigpIHtcbiAgICBjb25zdCB7IHVzZXJTZWxlY3Rpb25BY3RpdmUsIHVzZXJTZWxlY3Rpb25SZWN0IH0gPSB1c2VTdG9yZShzZWxlY3RvciQ5LCBzaGFsbG93KTtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IHVzZXJTZWxlY3Rpb25BY3RpdmUgJiYgdXNlclNlbGVjdGlvblJlY3Q7XG4gICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX3NlbGVjdGlvbiByZWFjdC1mbG93X19jb250YWluZXJcIiwgc3R5bGU6IHtcbiAgICAgICAgICAgIHdpZHRoOiB1c2VyU2VsZWN0aW9uUmVjdC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdXNlclNlbGVjdGlvblJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dXNlclNlbGVjdGlvblJlY3QueH1weCwgJHt1c2VyU2VsZWN0aW9uUmVjdC55fXB4KWAsXG4gICAgICAgIH0gfSkpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQYXJlbnRFeHBhbmQocmVzLCB1cGRhdGVJdGVtKSB7XG4gICAgY29uc3QgcGFyZW50ID0gcmVzLmZpbmQoKGUpID0+IGUuaWQgPT09IHVwZGF0ZUl0ZW0ucGFyZW50Tm9kZSk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICBjb25zdCBleHRlbmRXaWR0aCA9IHVwZGF0ZUl0ZW0ucG9zaXRpb24ueCArIHVwZGF0ZUl0ZW0ud2lkdGggLSBwYXJlbnQud2lkdGg7XG4gICAgICAgIGNvbnN0IGV4dGVuZEhlaWdodCA9IHVwZGF0ZUl0ZW0ucG9zaXRpb24ueSArIHVwZGF0ZUl0ZW0uaGVpZ2h0IC0gcGFyZW50LmhlaWdodDtcbiAgICAgICAgaWYgKGV4dGVuZFdpZHRoID4gMCB8fCBleHRlbmRIZWlnaHQgPiAwIHx8IHVwZGF0ZUl0ZW0ucG9zaXRpb24ueCA8IDAgfHwgdXBkYXRlSXRlbS5wb3NpdGlvbi55IDwgMCkge1xuICAgICAgICAgICAgcGFyZW50LnN0eWxlID0geyAuLi5wYXJlbnQuc3R5bGUgfSB8fCB7fTtcbiAgICAgICAgICAgIHBhcmVudC5zdHlsZS53aWR0aCA9IHBhcmVudC5zdHlsZS53aWR0aCA/PyBwYXJlbnQud2lkdGg7XG4gICAgICAgICAgICBwYXJlbnQuc3R5bGUuaGVpZ2h0ID0gcGFyZW50LnN0eWxlLmhlaWdodCA/PyBwYXJlbnQuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKGV4dGVuZFdpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5zdHlsZS53aWR0aCArPSBleHRlbmRXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHRlbmRIZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN0eWxlLmhlaWdodCArPSBleHRlbmRIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXBkYXRlSXRlbS5wb3NpdGlvbi54IDwgMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHhEaWZmID0gTWF0aC5hYnModXBkYXRlSXRlbS5wb3NpdGlvbi54KTtcbiAgICAgICAgICAgICAgICBwYXJlbnQucG9zaXRpb24ueCA9IHBhcmVudC5wb3NpdGlvbi54IC0geERpZmY7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN0eWxlLndpZHRoICs9IHhEaWZmO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0ucG9zaXRpb24ueCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXBkYXRlSXRlbS5wb3NpdGlvbi55IDwgMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHlEaWZmID0gTWF0aC5hYnModXBkYXRlSXRlbS5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgICBwYXJlbnQucG9zaXRpb24ueSA9IHBhcmVudC5wb3NpdGlvbi55IC0geURpZmY7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN0eWxlLmhlaWdodCArPSB5RGlmZjtcbiAgICAgICAgICAgICAgICB1cGRhdGVJdGVtLnBvc2l0aW9uLnkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50LndpZHRoID0gcGFyZW50LnN0eWxlLndpZHRoO1xuICAgICAgICAgICAgcGFyZW50LmhlaWdodCA9IHBhcmVudC5zdHlsZS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseUNoYW5nZXMoY2hhbmdlcywgZWxlbWVudHMpIHtcbiAgICAvLyB3ZSBuZWVkIHRoaXMgaGFjayB0byBoYW5kbGUgdGhlIHNldE5vZGVzIGFuZCBzZXRFZGdlcyBmdW5jdGlvbiBvZiB0aGUgdXNlUmVhY3RGbG93IGhvb2sgZm9yIGNvbnRyb2xsZWQgZmxvd3NcbiAgICBpZiAoY2hhbmdlcy5zb21lKChjKSA9PiBjLnR5cGUgPT09ICdyZXNldCcpKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VzLmZpbHRlcigoYykgPT4gYy50eXBlID09PSAncmVzZXQnKS5tYXAoKGMpID0+IGMuaXRlbSk7XG4gICAgfVxuICAgIGNvbnN0IGluaXRFbGVtZW50cyA9IGNoYW5nZXMuZmlsdGVyKChjKSA9PiBjLnR5cGUgPT09ICdhZGQnKS5tYXAoKGMpID0+IGMuaXRlbSk7XG4gICAgcmV0dXJuIGVsZW1lbnRzLnJlZHVjZSgocmVzLCBpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDaGFuZ2VzID0gY2hhbmdlcy5maWx0ZXIoKGMpID0+IGMuaWQgPT09IGl0ZW0uaWQpO1xuICAgICAgICBpZiAoY3VycmVudENoYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlSXRlbSA9IHsgLi4uaXRlbSB9O1xuICAgICAgICBmb3IgKGNvbnN0IGN1cnJlbnRDaGFuZ2Ugb2YgY3VycmVudENoYW5nZXMpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjdXJyZW50Q2hhbmdlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2VsZWN0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbS5zZWxlY3RlZCA9IGN1cnJlbnRDaGFuZ2Uuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdwb3NpdGlvbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudENoYW5nZS5wb3NpdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtLnBvc2l0aW9uID0gY3VycmVudENoYW5nZS5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudENoYW5nZS5wb3NpdGlvbkFic29sdXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0ucG9zaXRpb25BYnNvbHV0ZSA9IGN1cnJlbnRDaGFuZ2UucG9zaXRpb25BYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudENoYW5nZS5kcmFnZ2luZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtLmRyYWdnaW5nID0gY3VycmVudENoYW5nZS5kcmFnZ2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVJdGVtLmV4cGFuZFBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVBhcmVudEV4cGFuZChyZXMsIHVwZGF0ZUl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGltZW5zaW9ucyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudENoYW5nZS5kaW1lbnNpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0ud2lkdGggPSBjdXJyZW50Q2hhbmdlLmRpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbS5oZWlnaHQgPSBjdXJyZW50Q2hhbmdlLmRpbWVuc2lvbnMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50Q2hhbmdlLnVwZGF0ZVN0eWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0uc3R5bGUgPSB7IC4uLih1cGRhdGVJdGVtLnN0eWxlIHx8IHt9KSwgLi4uY3VycmVudENoYW5nZS5kaW1lbnNpb25zIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRDaGFuZ2UucmVzaXppbmcgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0ucmVzaXppbmcgPSBjdXJyZW50Q2hhbmdlLnJlc2l6aW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUl0ZW0uZXhwYW5kUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlUGFyZW50RXhwYW5kKHJlcywgdXBkYXRlSXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZW1vdmUnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlcy5wdXNoKHVwZGF0ZUl0ZW0pO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0sIGluaXRFbGVtZW50cyk7XG59XG5mdW5jdGlvbiBhcHBseU5vZGVDaGFuZ2VzKGNoYW5nZXMsIG5vZGVzKSB7XG4gICAgcmV0dXJuIGFwcGx5Q2hhbmdlcyhjaGFuZ2VzLCBub2Rlcyk7XG59XG5mdW5jdGlvbiBhcHBseUVkZ2VDaGFuZ2VzKGNoYW5nZXMsIGVkZ2VzKSB7XG4gICAgcmV0dXJuIGFwcGx5Q2hhbmdlcyhjaGFuZ2VzLCBlZGdlcyk7XG59XG5jb25zdCBjcmVhdGVTZWxlY3Rpb25DaGFuZ2UgPSAoaWQsIHNlbGVjdGVkKSA9PiAoe1xuICAgIGlkLFxuICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgIHNlbGVjdGVkLFxufSk7XG5mdW5jdGlvbiBnZXRTZWxlY3Rpb25DaGFuZ2VzKGl0ZW1zLCBzZWxlY3RlZElkcykge1xuICAgIHJldHVybiBpdGVtcy5yZWR1Y2UoKHJlcywgaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCB3aWxsQmVTZWxlY3RlZCA9IHNlbGVjdGVkSWRzLmluY2x1ZGVzKGl0ZW0uaWQpO1xuICAgICAgICBpZiAoIWl0ZW0uc2VsZWN0ZWQgJiYgd2lsbEJlU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmVzLnB1c2goY3JlYXRlU2VsZWN0aW9uQ2hhbmdlKGl0ZW0uaWQsIHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtLnNlbGVjdGVkICYmICF3aWxsQmVTZWxlY3RlZCkge1xuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzLnB1c2goY3JlYXRlU2VsZWN0aW9uQ2hhbmdlKGl0ZW0uaWQsIGZhbHNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9LCBbXSk7XG59XG5cbi8qKlxuICogVGhlIHVzZXIgc2VsZWN0aW9uIHJlY3RhbmdsZSBnZXRzIGRpc3BsYXllZCB3aGVuIGEgdXNlciBkcmFncyB0aGUgbW91c2Ugd2hpbGUgcHJlc3Npbmcgc2hpZnRcbiAqL1xuY29uc3Qgd3JhcEhhbmRsZXIgPSAoaGFuZGxlciwgY29udGFpbmVyUmVmKSA9PiB7XG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXI/LihldmVudCk7XG4gICAgfTtcbn07XG5jb25zdCBzZWxlY3RvciQ4ID0gKHMpID0+ICh7XG4gICAgdXNlclNlbGVjdGlvbkFjdGl2ZTogcy51c2VyU2VsZWN0aW9uQWN0aXZlLFxuICAgIGVsZW1lbnRzU2VsZWN0YWJsZTogcy5lbGVtZW50c1NlbGVjdGFibGUsXG4gICAgZHJhZ2dpbmc6IHMucGFuZURyYWdnaW5nLFxufSk7XG5jb25zdCBQYW5lID0gbWVtbygoeyBpc1NlbGVjdGluZywgc2VsZWN0aW9uTW9kZSA9IFNlbGVjdGlvbk1vZGUuRnVsbCwgcGFuT25EcmFnLCBvblNlbGVjdGlvblN0YXJ0LCBvblNlbGVjdGlvbkVuZCwgb25QYW5lQ2xpY2ssIG9uUGFuZUNvbnRleHRNZW51LCBvblBhbmVTY3JvbGwsIG9uUGFuZU1vdXNlRW50ZXIsIG9uUGFuZU1vdXNlTW92ZSwgb25QYW5lTW91c2VMZWF2ZSwgY2hpbGRyZW4sIH0pID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICAgIGNvbnN0IHByZXZTZWxlY3RlZE5vZGVzQ291bnQgPSB1c2VSZWYoMCk7XG4gICAgY29uc3QgcHJldlNlbGVjdGVkRWRnZXNDb3VudCA9IHVzZVJlZigwKTtcbiAgICBjb25zdCBjb250YWluZXJCb3VuZHMgPSB1c2VSZWYoKTtcbiAgICBjb25zdCB7IHVzZXJTZWxlY3Rpb25BY3RpdmUsIGVsZW1lbnRzU2VsZWN0YWJsZSwgZHJhZ2dpbmcgfSA9IHVzZVN0b3JlKHNlbGVjdG9yJDgsIHNoYWxsb3cpO1xuICAgIGNvbnN0IHJlc2V0VXNlclNlbGVjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUoeyB1c2VyU2VsZWN0aW9uQWN0aXZlOiBmYWxzZSwgdXNlclNlbGVjdGlvblJlY3Q6IG51bGwgfSk7XG4gICAgICAgIHByZXZTZWxlY3RlZE5vZGVzQ291bnQuY3VycmVudCA9IDA7XG4gICAgICAgIHByZXZTZWxlY3RlZEVkZ2VzQ291bnQuY3VycmVudCA9IDA7XG4gICAgfTtcbiAgICBjb25zdCBvbkNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIG9uUGFuZUNsaWNrPy4oZXZlbnQpO1xuICAgICAgICBzdG9yZS5nZXRTdGF0ZSgpLnJlc2V0U2VsZWN0ZWRFbGVtZW50cygpO1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7IG5vZGVzU2VsZWN0aW9uQWN0aXZlOiBmYWxzZSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IG9uQ29udGV4dE1lbnUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFuT25EcmFnKSAmJiBwYW5PbkRyYWc/LmluY2x1ZGVzKDIpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9uUGFuZUNvbnRleHRNZW51Py4oZXZlbnQpO1xuICAgIH07XG4gICAgY29uc3Qgb25XaGVlbCA9IG9uUGFuZVNjcm9sbCA/IChldmVudCkgPT4gb25QYW5lU2Nyb2xsKGV2ZW50KSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBvbk1vdXNlRG93biA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB7IHJlc2V0U2VsZWN0ZWRFbGVtZW50cywgZG9tTm9kZSB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29udGFpbmVyQm91bmRzLmN1cnJlbnQgPSBkb21Ob2RlPy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKCFlbGVtZW50c1NlbGVjdGFibGUgfHxcbiAgICAgICAgICAgICFpc1NlbGVjdGluZyB8fFxuICAgICAgICAgICAgZXZlbnQuYnV0dG9uICE9PSAwIHx8XG4gICAgICAgICAgICBldmVudC50YXJnZXQgIT09IGNvbnRhaW5lci5jdXJyZW50IHx8XG4gICAgICAgICAgICAhY29udGFpbmVyQm91bmRzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGdldEV2ZW50UG9zaXRpb24oZXZlbnQsIGNvbnRhaW5lckJvdW5kcy5jdXJyZW50KTtcbiAgICAgICAgcmVzZXRTZWxlY3RlZEVsZW1lbnRzKCk7XG4gICAgICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHVzZXJTZWxlY3Rpb25SZWN0OiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgIHN0YXJ0WDogeCxcbiAgICAgICAgICAgICAgICBzdGFydFk6IHksXG4gICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIG9uU2VsZWN0aW9uU3RhcnQ/LihldmVudCk7XG4gICAgfTtcbiAgICBjb25zdCBvbk1vdXNlTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB7IHVzZXJTZWxlY3Rpb25SZWN0LCBub2RlSW50ZXJuYWxzLCBlZGdlcywgdHJhbnNmb3JtLCBvbk5vZGVzQ2hhbmdlLCBvbkVkZ2VzQ2hhbmdlLCBub2RlT3JpZ2luLCBnZXROb2RlcyB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKCFpc1NlbGVjdGluZyB8fCAhY29udGFpbmVyQm91bmRzLmN1cnJlbnQgfHwgIXVzZXJTZWxlY3Rpb25SZWN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RvcmUuc2V0U3RhdGUoeyB1c2VyU2VsZWN0aW9uQWN0aXZlOiB0cnVlLCBub2Rlc1NlbGVjdGlvbkFjdGl2ZTogZmFsc2UgfSk7XG4gICAgICAgIGNvbnN0IG1vdXNlUG9zID0gZ2V0RXZlbnRQb3NpdGlvbihldmVudCwgY29udGFpbmVyQm91bmRzLmN1cnJlbnQpO1xuICAgICAgICBjb25zdCBzdGFydFggPSB1c2VyU2VsZWN0aW9uUmVjdC5zdGFydFggPz8gMDtcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gdXNlclNlbGVjdGlvblJlY3Quc3RhcnRZID8/IDA7XG4gICAgICAgIGNvbnN0IG5leHRVc2VyU2VsZWN0UmVjdCA9IHtcbiAgICAgICAgICAgIC4uLnVzZXJTZWxlY3Rpb25SZWN0LFxuICAgICAgICAgICAgeDogbW91c2VQb3MueCA8IHN0YXJ0WCA/IG1vdXNlUG9zLnggOiBzdGFydFgsXG4gICAgICAgICAgICB5OiBtb3VzZVBvcy55IDwgc3RhcnRZID8gbW91c2VQb3MueSA6IHN0YXJ0WSxcbiAgICAgICAgICAgIHdpZHRoOiBNYXRoLmFicyhtb3VzZVBvcy54IC0gc3RhcnRYKSxcbiAgICAgICAgICAgIGhlaWdodDogTWF0aC5hYnMobW91c2VQb3MueSAtIHN0YXJ0WSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5vZGVzID0gZ2V0Tm9kZXMoKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWROb2RlcyA9IGdldE5vZGVzSW5zaWRlKG5vZGVJbnRlcm5hbHMsIG5leHRVc2VyU2VsZWN0UmVjdCwgdHJhbnNmb3JtLCBzZWxlY3Rpb25Nb2RlID09PSBTZWxlY3Rpb25Nb2RlLlBhcnRpYWwsIHRydWUsIG5vZGVPcmlnaW4pO1xuICAgICAgICBjb25zdCBzZWxlY3RlZEVkZ2VJZHMgPSBnZXRDb25uZWN0ZWRFZGdlcyhzZWxlY3RlZE5vZGVzLCBlZGdlcykubWFwKChlKSA9PiBlLmlkKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWROb2RlSWRzID0gc2VsZWN0ZWROb2Rlcy5tYXAoKG4pID0+IG4uaWQpO1xuICAgICAgICBpZiAocHJldlNlbGVjdGVkTm9kZXNDb3VudC5jdXJyZW50ICE9PSBzZWxlY3RlZE5vZGVJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBwcmV2U2VsZWN0ZWROb2Rlc0NvdW50LmN1cnJlbnQgPSBzZWxlY3RlZE5vZGVJZHMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMobm9kZXMsIHNlbGVjdGVkTm9kZUlkcyk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvbk5vZGVzQ2hhbmdlPy4oY2hhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZTZWxlY3RlZEVkZ2VzQ291bnQuY3VycmVudCAhPT0gc2VsZWN0ZWRFZGdlSWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcHJldlNlbGVjdGVkRWRnZXNDb3VudC5jdXJyZW50ID0gc2VsZWN0ZWRFZGdlSWRzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBnZXRTZWxlY3Rpb25DaGFuZ2VzKGVkZ2VzLCBzZWxlY3RlZEVkZ2VJZHMpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgb25FZGdlc0NoYW5nZT8uKGNoYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHVzZXJTZWxlY3Rpb25SZWN0OiBuZXh0VXNlclNlbGVjdFJlY3QsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgb25Nb3VzZVVwID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5idXR0b24gIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHVzZXJTZWxlY3Rpb25SZWN0IH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gdHJpZ2dlciBjbGljayBmdW5jdGlvbnMgd2hlbiBpbiBzZWxlY3Rpb24gbW9kZSBpZlxuICAgICAgICAvLyB0aGUgdXNlciBkaWQgbm90IG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICBpZiAoIXVzZXJTZWxlY3Rpb25BY3RpdmUgJiYgdXNlclNlbGVjdGlvblJlY3QgJiYgZXZlbnQudGFyZ2V0ID09PSBjb250YWluZXIuY3VycmVudCkge1xuICAgICAgICAgICAgb25DbGljaz8uKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7IG5vZGVzU2VsZWN0aW9uQWN0aXZlOiBwcmV2U2VsZWN0ZWROb2Rlc0NvdW50LmN1cnJlbnQgPiAwIH0pO1xuICAgICAgICByZXNldFVzZXJTZWxlY3Rpb24oKTtcbiAgICAgICAgb25TZWxlY3Rpb25FbmQ/LihldmVudCk7XG4gICAgfTtcbiAgICBjb25zdCBvbk1vdXNlTGVhdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKHVzZXJTZWxlY3Rpb25BY3RpdmUpIHtcbiAgICAgICAgICAgIHN0b3JlLnNldFN0YXRlKHsgbm9kZXNTZWxlY3Rpb25BY3RpdmU6IHByZXZTZWxlY3RlZE5vZGVzQ291bnQuY3VycmVudCA+IDAgfSk7XG4gICAgICAgICAgICBvblNlbGVjdGlvbkVuZD8uKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXNldFVzZXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhc0FjdGl2ZVNlbGVjdGlvbiA9IGVsZW1lbnRzU2VsZWN0YWJsZSAmJiAoaXNTZWxlY3RpbmcgfHwgdXNlclNlbGVjdGlvbkFjdGl2ZSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjYyhbJ3JlYWN0LWZsb3dfX3BhbmUnLCB7IGRyYWdnaW5nLCBzZWxlY3Rpb246IGlzU2VsZWN0aW5nIH1dKSwgb25DbGljazogaGFzQWN0aXZlU2VsZWN0aW9uID8gdW5kZWZpbmVkIDogd3JhcEhhbmRsZXIob25DbGljaywgY29udGFpbmVyKSwgb25Db250ZXh0TWVudTogd3JhcEhhbmRsZXIob25Db250ZXh0TWVudSwgY29udGFpbmVyKSwgb25XaGVlbDogd3JhcEhhbmRsZXIob25XaGVlbCwgY29udGFpbmVyKSwgb25Nb3VzZUVudGVyOiBoYXNBY3RpdmVTZWxlY3Rpb24gPyB1bmRlZmluZWQgOiBvblBhbmVNb3VzZUVudGVyLCBvbk1vdXNlRG93bjogaGFzQWN0aXZlU2VsZWN0aW9uID8gb25Nb3VzZURvd24gOiB1bmRlZmluZWQsIG9uTW91c2VNb3ZlOiBoYXNBY3RpdmVTZWxlY3Rpb24gPyBvbk1vdXNlTW92ZSA6IG9uUGFuZU1vdXNlTW92ZSwgb25Nb3VzZVVwOiBoYXNBY3RpdmVTZWxlY3Rpb24gPyBvbk1vdXNlVXAgOiB1bmRlZmluZWQsIG9uTW91c2VMZWF2ZTogaGFzQWN0aXZlU2VsZWN0aW9uID8gb25Nb3VzZUxlYXZlIDogb25QYW5lTW91c2VMZWF2ZSwgcmVmOiBjb250YWluZXIsIHN0eWxlOiBjb250YWluZXJTdHlsZSB9LFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChVc2VyU2VsZWN0aW9uLCBudWxsKSkpO1xufSk7XG5QYW5lLmRpc3BsYXlOYW1lID0gJ1BhbmUnO1xuXG5mdW5jdGlvbiBpc1BhcmVudFNlbGVjdGVkKG5vZGUsIG5vZGVJbnRlcm5hbHMpIHtcbiAgICBpZiAoIW5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudE5vZGUgPSBub2RlSW50ZXJuYWxzLmdldChub2RlLnBhcmVudE5vZGUpO1xuICAgIGlmICghcGFyZW50Tm9kZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChwYXJlbnROb2RlLnNlbGVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gaXNQYXJlbnRTZWxlY3RlZChwYXJlbnROb2RlLCBub2RlSW50ZXJuYWxzKTtcbn1cbmZ1bmN0aW9uIGhhc1NlbGVjdG9yKHRhcmdldCwgc2VsZWN0b3IsIG5vZGVSZWYpIHtcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChjdXJyZW50Py5tYXRjaGVzKHNlbGVjdG9yKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gbm9kZVJlZi5jdXJyZW50KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgIH0gd2hpbGUgKGN1cnJlbnQpO1xuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIGxvb2tzIGZvciBhbGwgc2VsZWN0ZWQgbm9kZXMgYW5kIGNyZWF0ZWQgYSBOb2RlRHJhZ0l0ZW0gZm9yIGVhY2ggb2YgdGhlbVxuZnVuY3Rpb24gZ2V0RHJhZ0l0ZW1zKG5vZGVJbnRlcm5hbHMsIG5vZGVzRHJhZ2dhYmxlLCBtb3VzZVBvcywgbm9kZUlkKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obm9kZUludGVybmFscy52YWx1ZXMoKSlcbiAgICAgICAgLmZpbHRlcigobikgPT4gKG4uc2VsZWN0ZWQgfHwgbi5pZCA9PT0gbm9kZUlkKSAmJlxuICAgICAgICAoIW4ucGFyZW50Tm9kZSB8fCAhaXNQYXJlbnRTZWxlY3RlZChuLCBub2RlSW50ZXJuYWxzKSkgJiZcbiAgICAgICAgKG4uZHJhZ2dhYmxlIHx8IChub2Rlc0RyYWdnYWJsZSAmJiB0eXBlb2Ygbi5kcmFnZ2FibGUgPT09ICd1bmRlZmluZWQnKSkpXG4gICAgICAgIC5tYXAoKG4pID0+ICh7XG4gICAgICAgIGlkOiBuLmlkLFxuICAgICAgICBwb3NpdGlvbjogbi5wb3NpdGlvbiB8fCB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgcG9zaXRpb25BYnNvbHV0ZTogbi5wb3NpdGlvbkFic29sdXRlIHx8IHsgeDogMCwgeTogMCB9LFxuICAgICAgICBkaXN0YW5jZToge1xuICAgICAgICAgICAgeDogbW91c2VQb3MueCAtIChuLnBvc2l0aW9uQWJzb2x1dGU/LnggPz8gMCksXG4gICAgICAgICAgICB5OiBtb3VzZVBvcy55IC0gKG4ucG9zaXRpb25BYnNvbHV0ZT8ueSA/PyAwKSxcbiAgICAgICAgfSxcbiAgICAgICAgZGVsdGE6IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICB9LFxuICAgICAgICBleHRlbnQ6IG4uZXh0ZW50LFxuICAgICAgICBwYXJlbnROb2RlOiBuLnBhcmVudE5vZGUsXG4gICAgICAgIHdpZHRoOiBuLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IG4uaGVpZ2h0LFxuICAgICAgICBleHBhbmRQYXJlbnQ6IG4uZXhwYW5kUGFyZW50LFxuICAgIH0pKTtcbn1cbmZ1bmN0aW9uIGNsYW1wTm9kZUV4dGVudChub2RlLCBleHRlbnQpIHtcbiAgICBpZiAoIWV4dGVudCB8fCBleHRlbnQgPT09ICdwYXJlbnQnKSB7XG4gICAgICAgIHJldHVybiBleHRlbnQ7XG4gICAgfVxuICAgIHJldHVybiBbZXh0ZW50WzBdLCBbZXh0ZW50WzFdWzBdIC0gKG5vZGUud2lkdGggfHwgMCksIGV4dGVudFsxXVsxXSAtIChub2RlLmhlaWdodCB8fCAwKV1dO1xufVxuZnVuY3Rpb24gY2FsY05leHRQb3NpdGlvbihub2RlLCBuZXh0UG9zaXRpb24sIG5vZGVJbnRlcm5hbHMsIG5vZGVFeHRlbnQsIG5vZGVPcmlnaW4gPSBbMCwgMF0sIG9uRXJyb3IpIHtcbiAgICBjb25zdCBjbGFtcGVkTm9kZUV4dGVudCA9IGNsYW1wTm9kZUV4dGVudChub2RlLCBub2RlLmV4dGVudCB8fCBub2RlRXh0ZW50KTtcbiAgICBsZXQgY3VycmVudEV4dGVudCA9IGNsYW1wZWROb2RlRXh0ZW50O1xuICAgIGlmIChub2RlLmV4dGVudCA9PT0gJ3BhcmVudCcgJiYgIW5vZGUuZXhwYW5kUGFyZW50KSB7XG4gICAgICAgIGlmIChub2RlLnBhcmVudE5vZGUgJiYgbm9kZS53aWR0aCAmJiBub2RlLmhlaWdodCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZUludGVybmFscy5nZXQobm9kZS5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IHsgeDogcGFyZW50WCwgeTogcGFyZW50WSB9ID0gZ2V0Tm9kZVBvc2l0aW9uV2l0aE9yaWdpbihwYXJlbnQsIG5vZGVPcmlnaW4pLnBvc2l0aW9uQWJzb2x1dGU7XG4gICAgICAgICAgICBjdXJyZW50RXh0ZW50ID1cbiAgICAgICAgICAgICAgICBwYXJlbnQgJiYgaXNOdW1lcmljKHBhcmVudFgpICYmIGlzTnVtZXJpYyhwYXJlbnRZKSAmJiBpc051bWVyaWMocGFyZW50LndpZHRoKSAmJiBpc051bWVyaWMocGFyZW50LmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICAgICAgICBbcGFyZW50WCArIG5vZGUud2lkdGggKiBub2RlT3JpZ2luWzBdLCBwYXJlbnRZICsgbm9kZS5oZWlnaHQgKiBub2RlT3JpZ2luWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRYICsgcGFyZW50LndpZHRoIC0gbm9kZS53aWR0aCArIG5vZGUud2lkdGggKiBub2RlT3JpZ2luWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFkgKyBwYXJlbnQuaGVpZ2h0IC0gbm9kZS5oZWlnaHQgKyBub2RlLmhlaWdodCAqIG5vZGVPcmlnaW5bMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIDogY3VycmVudEV4dGVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9uRXJyb3I/LignMDA1JywgZXJyb3JNZXNzYWdlc1snZXJyb3IwMDUnXSgpKTtcbiAgICAgICAgICAgIGN1cnJlbnRFeHRlbnQgPSBjbGFtcGVkTm9kZUV4dGVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLmV4dGVudCAmJiBub2RlLnBhcmVudE5vZGUgJiYgbm9kZS5leHRlbnQgIT09ICdwYXJlbnQnKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGVJbnRlcm5hbHMuZ2V0KG5vZGUucGFyZW50Tm9kZSk7XG4gICAgICAgIGNvbnN0IHsgeDogcGFyZW50WCwgeTogcGFyZW50WSB9ID0gZ2V0Tm9kZVBvc2l0aW9uV2l0aE9yaWdpbihwYXJlbnQsIG5vZGVPcmlnaW4pLnBvc2l0aW9uQWJzb2x1dGU7XG4gICAgICAgIGN1cnJlbnRFeHRlbnQgPSBbXG4gICAgICAgICAgICBbbm9kZS5leHRlbnRbMF1bMF0gKyBwYXJlbnRYLCBub2RlLmV4dGVudFswXVsxXSArIHBhcmVudFldLFxuICAgICAgICAgICAgW25vZGUuZXh0ZW50WzFdWzBdICsgcGFyZW50WCwgbm9kZS5leHRlbnRbMV1bMV0gKyBwYXJlbnRZXSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgbGV0IHBhcmVudFBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07XG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gbm9kZUludGVybmFscy5nZXQobm9kZS5wYXJlbnROb2RlKTtcbiAgICAgICAgcGFyZW50UG9zaXRpb24gPSBnZXROb2RlUG9zaXRpb25XaXRoT3JpZ2luKHBhcmVudE5vZGUsIG5vZGVPcmlnaW4pLnBvc2l0aW9uQWJzb2x1dGU7XG4gICAgfVxuICAgIGNvbnN0IHBvc2l0aW9uQWJzb2x1dGUgPSBjdXJyZW50RXh0ZW50ICYmIGN1cnJlbnRFeHRlbnQgIT09ICdwYXJlbnQnXG4gICAgICAgID8gY2xhbXBQb3NpdGlvbihuZXh0UG9zaXRpb24sIGN1cnJlbnRFeHRlbnQpXG4gICAgICAgIDogbmV4dFBvc2l0aW9uO1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICB4OiBwb3NpdGlvbkFic29sdXRlLnggLSBwYXJlbnRQb3NpdGlvbi54LFxuICAgICAgICAgICAgeTogcG9zaXRpb25BYnNvbHV0ZS55IC0gcGFyZW50UG9zaXRpb24ueSxcbiAgICAgICAgfSxcbiAgICAgICAgcG9zaXRpb25BYnNvbHV0ZSxcbiAgICB9O1xufVxuLy8gcmV0dXJucyB0d28gcGFyYW1zOlxuLy8gMS4gdGhlIGRyYWdnZWQgbm9kZSAob3IgdGhlIGZpcnN0IG9mIHRoZSBsaXN0LCBpZiB3ZSBhcmUgZHJhZ2dpbmcgYSBub2RlIHNlbGVjdGlvbilcbi8vIDIuIGFycmF5IG9mIHNlbGVjdGVkIG5vZGVzIChmb3IgbXVsdGkgc2VsZWN0aW9ucylcbmZ1bmN0aW9uIGdldEV2ZW50SGFuZGxlclBhcmFtcyh7IG5vZGVJZCwgZHJhZ0l0ZW1zLCBub2RlSW50ZXJuYWxzLCB9KSB7XG4gICAgY29uc3QgZXh0ZW50ZWREcmFnSXRlbXMgPSBkcmFnSXRlbXMubWFwKChuKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2RlSW50ZXJuYWxzLmdldChuLmlkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLm5vZGUsXG4gICAgICAgICAgICBwb3NpdGlvbjogbi5wb3NpdGlvbixcbiAgICAgICAgICAgIHBvc2l0aW9uQWJzb2x1dGU6IG4ucG9zaXRpb25BYnNvbHV0ZSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gW25vZGVJZCA/IGV4dGVudGVkRHJhZ0l0ZW1zLmZpbmQoKG4pID0+IG4uaWQgPT09IG5vZGVJZCkgOiBleHRlbnRlZERyYWdJdGVtc1swXSwgZXh0ZW50ZWREcmFnSXRlbXNdO1xufVxuXG5jb25zdCBnZXRIYW5kbGVCb3VuZHMgPSAoc2VsZWN0b3IsIG5vZGVFbGVtZW50LCB6b29tLCBub2RlT3JpZ2luKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlcyA9IG5vZGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIGlmICghaGFuZGxlcyB8fCAhaGFuZGxlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZXNBcnJheSA9IEFycmF5LmZyb20oaGFuZGxlcyk7XG4gICAgY29uc3Qgbm9kZUJvdW5kcyA9IG5vZGVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IG5vZGVPZmZzZXQgPSB7XG4gICAgICAgIHg6IG5vZGVCb3VuZHMud2lkdGggKiBub2RlT3JpZ2luWzBdLFxuICAgICAgICB5OiBub2RlQm91bmRzLmhlaWdodCAqIG5vZGVPcmlnaW5bMV0sXG4gICAgfTtcbiAgICByZXR1cm4gaGFuZGxlc0FycmF5Lm1hcCgoaGFuZGxlKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZUJvdW5kcyA9IGhhbmRsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBoYW5kbGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhhbmRsZWlkJyksXG4gICAgICAgICAgICBwb3NpdGlvbjogaGFuZGxlLmdldEF0dHJpYnV0ZSgnZGF0YS1oYW5kbGVwb3MnKSxcbiAgICAgICAgICAgIHg6IChoYW5kbGVCb3VuZHMubGVmdCAtIG5vZGVCb3VuZHMubGVmdCAtIG5vZGVPZmZzZXQueCkgLyB6b29tLFxuICAgICAgICAgICAgeTogKGhhbmRsZUJvdW5kcy50b3AgLSBub2RlQm91bmRzLnRvcCAtIG5vZGVPZmZzZXQueSkgLyB6b29tLFxuICAgICAgICAgICAgLi4uZ2V0RGltZW5zaW9ucyhoYW5kbGUpLFxuICAgICAgICB9O1xuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGdldE1vdXNlSGFuZGxlcihpZCwgZ2V0U3RhdGUsIGhhbmRsZXIpIHtcbiAgICByZXR1cm4gaGFuZGxlciA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gaGFuZGxlclxuICAgICAgICA6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGdldFN0YXRlKCkubm9kZUludGVybmFscy5nZXQoaWQpO1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKGV2ZW50LCB7IC4uLm5vZGUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG59XG4vLyB0aGlzIGhhbmRsZXIgaXMgY2FsbGVkIGJ5XG4vLyAxLiB0aGUgY2xpY2sgaGFuZGxlciB3aGVuIG5vZGUgaXMgbm90IGRyYWdnYWJsZSBvciBzZWxlY3ROb2Rlc09uRHJhZyA9IGZhbHNlXG4vLyBvclxuLy8gMi4gdGhlIG9uIGRyYWcgc3RhcnQgaGFuZGxlciB3aGVuIG5vZGUgaXMgZHJhZ2dhYmxlIGFuZCBzZWxlY3ROb2Rlc09uRHJhZyA9IHRydWVcbmZ1bmN0aW9uIGhhbmRsZU5vZGVDbGljayh7IGlkLCBzdG9yZSwgdW5zZWxlY3QgPSBmYWxzZSwgbm9kZVJlZiwgfSkge1xuICAgIGNvbnN0IHsgYWRkU2VsZWN0ZWROb2RlcywgdW5zZWxlY3ROb2Rlc0FuZEVkZ2VzLCBtdWx0aVNlbGVjdGlvbkFjdGl2ZSwgbm9kZUludGVybmFscywgb25FcnJvciB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBub2RlID0gbm9kZUludGVybmFscy5nZXQoaWQpO1xuICAgIGlmICghbm9kZSkge1xuICAgICAgICBvbkVycm9yPy4oJzAxMicsIGVycm9yTWVzc2FnZXNbJ2Vycm9yMDEyJ10oaWQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdG9yZS5zZXRTdGF0ZSh7IG5vZGVzU2VsZWN0aW9uQWN0aXZlOiBmYWxzZSB9KTtcbiAgICBpZiAoIW5vZGUuc2VsZWN0ZWQpIHtcbiAgICAgICAgYWRkU2VsZWN0ZWROb2RlcyhbaWRdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodW5zZWxlY3QgfHwgKG5vZGUuc2VsZWN0ZWQgJiYgbXVsdGlTZWxlY3Rpb25BY3RpdmUpKSB7XG4gICAgICAgIHVuc2VsZWN0Tm9kZXNBbmRFZGdlcyh7IG5vZGVzOiBbbm9kZV0sIGVkZ2VzOiBbXSB9KTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IG5vZGVSZWY/LmN1cnJlbnQ/LmJsdXIoKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1c2VHZXRQb2ludGVyUG9zaXRpb24oKSB7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICAgIC8vIHJldHVybnMgdGhlIHBvaW50ZXIgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBSRiBjb29yZGluYXRlIHN5c3RlbVxuICAgIGNvbnN0IGdldFBvaW50ZXJQb3NpdGlvbiA9IHVzZUNhbGxiYWNrKCh7IHNvdXJjZUV2ZW50IH0pID0+IHtcbiAgICAgICAgY29uc3QgeyB0cmFuc2Zvcm0sIHNuYXBHcmlkLCBzbmFwVG9HcmlkIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB4ID0gc291cmNlRXZlbnQudG91Y2hlcyA/IHNvdXJjZUV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IHNvdXJjZUV2ZW50LmNsaWVudFg7XG4gICAgICAgIGNvbnN0IHkgPSBzb3VyY2VFdmVudC50b3VjaGVzID8gc291cmNlRXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogc291cmNlRXZlbnQuY2xpZW50WTtcbiAgICAgICAgY29uc3QgcG9pbnRlclBvcyA9IHtcbiAgICAgICAgICAgIHg6ICh4IC0gdHJhbnNmb3JtWzBdKSAvIHRyYW5zZm9ybVsyXSxcbiAgICAgICAgICAgIHk6ICh5IC0gdHJhbnNmb3JtWzFdKSAvIHRyYW5zZm9ybVsyXSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gd2UgbmVlZCB0aGUgc25hcHBlZCBwb3NpdGlvbiBpbiBvcmRlciB0byBiZSBhYmxlIHRvIHNraXAgdW5uZWNlc3NhcnkgZHJhZyBldmVudHNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHhTbmFwcGVkOiBzbmFwVG9HcmlkID8gc25hcEdyaWRbMF0gKiBNYXRoLnJvdW5kKHBvaW50ZXJQb3MueCAvIHNuYXBHcmlkWzBdKSA6IHBvaW50ZXJQb3MueCxcbiAgICAgICAgICAgIHlTbmFwcGVkOiBzbmFwVG9HcmlkID8gc25hcEdyaWRbMV0gKiBNYXRoLnJvdW5kKHBvaW50ZXJQb3MueSAvIHNuYXBHcmlkWzFdKSA6IHBvaW50ZXJQb3MueSxcbiAgICAgICAgICAgIC4uLnBvaW50ZXJQb3MsXG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBnZXRQb2ludGVyUG9zaXRpb247XG59XG5cbmZ1bmN0aW9uIHdyYXBTZWxlY3Rpb25EcmFnRnVuYyhzZWxlY3Rpb25GdW5jKSB7XG4gICAgcmV0dXJuIChldmVudCwgXywgbm9kZXMpID0+IHNlbGVjdGlvbkZ1bmM/LihldmVudCwgbm9kZXMpO1xufVxuZnVuY3Rpb24gdXNlRHJhZyh7IG5vZGVSZWYsIGRpc2FibGVkID0gZmFsc2UsIG5vRHJhZ0NsYXNzTmFtZSwgaGFuZGxlU2VsZWN0b3IsIG5vZGVJZCwgaXNTZWxlY3RhYmxlLCBzZWxlY3ROb2Rlc09uRHJhZywgfSkge1xuICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgICBjb25zdCBbZHJhZ2dpbmcsIHNldERyYWdnaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBkcmFnSXRlbXMgPSB1c2VSZWYoW10pO1xuICAgIGNvbnN0IGxhc3RQb3MgPSB1c2VSZWYoeyB4OiBudWxsLCB5OiBudWxsIH0pO1xuICAgIGNvbnN0IGF1dG9QYW5JZCA9IHVzZVJlZigwKTtcbiAgICBjb25zdCBjb250YWluZXJCb3VuZHMgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgbW91c2VQb3NpdGlvbiA9IHVzZVJlZih7IHg6IDAsIHk6IDAgfSk7XG4gICAgY29uc3QgZHJhZ0V2ZW50ID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGF1dG9QYW5TdGFydGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBkcmFnU3RhcnRlZCA9IHVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgZ2V0UG9pbnRlclBvc2l0aW9uID0gdXNlR2V0UG9pbnRlclBvc2l0aW9uKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG5vZGVSZWY/LmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHNlbGVjdChub2RlUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlTm9kZXMgPSAoeyB4LCB5IH0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5vZGVJbnRlcm5hbHMsIG9uTm9kZURyYWcsIG9uU2VsZWN0aW9uRHJhZywgdXBkYXRlTm9kZVBvc2l0aW9ucywgbm9kZUV4dGVudCwgc25hcEdyaWQsIHNuYXBUb0dyaWQsIG5vZGVPcmlnaW4sIG9uRXJyb3IsIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGxhc3RQb3MuY3VycmVudCA9IHsgeCwgeSB9O1xuICAgICAgICAgICAgICAgIGxldCBoYXNDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgbm9kZXNCb3ggPSB7IHg6IDAsIHk6IDAsIHgyOiAwLCB5MjogMCB9O1xuICAgICAgICAgICAgICAgIGlmIChkcmFnSXRlbXMuY3VycmVudC5sZW5ndGggPiAxICYmIG5vZGVFeHRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGdldFJlY3RPZk5vZGVzKGRyYWdJdGVtcy5jdXJyZW50LCBub2RlT3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXNCb3ggPSByZWN0VG9Cb3gocmVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRyYWdJdGVtcy5jdXJyZW50ID0gZHJhZ0l0ZW1zLmN1cnJlbnQubWFwKChuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQb3NpdGlvbiA9IHsgeDogeCAtIG4uZGlzdGFuY2UueCwgeTogeSAtIG4uZGlzdGFuY2UueSB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc25hcFRvR3JpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBvc2l0aW9uLnggPSBzbmFwR3JpZFswXSAqIE1hdGgucm91bmQobmV4dFBvc2l0aW9uLnggLyBzbmFwR3JpZFswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UG9zaXRpb24ueSA9IHNuYXBHcmlkWzFdICogTWF0aC5yb3VuZChuZXh0UG9zaXRpb24ueSAvIHNuYXBHcmlkWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBzZWxlY3Rpb24gd2l0aCBtdWx0aXBsZSBub2RlcyBhbmQgYSBub2RlIGV4dGVudCBpcyBzZXQsIHdlIG5lZWQgdG8gYWRqdXN0IHRoZSBub2RlIGV4dGVudCBmb3IgZWFjaCBub2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIGJhc2VkIG9uIGl0cyBwb3NpdGlvbiBzbyB0aGF0IHRoZSBub2RlIHN0YXlzIGF0IGl0J3MgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHNlbGVjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWROb2RlRXh0ZW50ID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgW25vZGVFeHRlbnRbMF1bMF0sIG5vZGVFeHRlbnRbMF1bMV1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgW25vZGVFeHRlbnRbMV1bMF0sIG5vZGVFeHRlbnRbMV1bMV1dLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhZ0l0ZW1zLmN1cnJlbnQubGVuZ3RoID4gMSAmJiBub2RlRXh0ZW50ICYmICFuLmV4dGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRqdXN0ZWROb2RlRXh0ZW50WzBdWzBdID0gbi5wb3NpdGlvbkFic29sdXRlLnggLSBub2Rlc0JveC54ICsgbm9kZUV4dGVudFswXVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkanVzdGVkTm9kZUV4dGVudFsxXVswXSA9IG4ucG9zaXRpb25BYnNvbHV0ZS54ICsgKG4ud2lkdGggPz8gMCkgLSBub2Rlc0JveC54MiArIG5vZGVFeHRlbnRbMV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RlZE5vZGVFeHRlbnRbMF1bMV0gPSBuLnBvc2l0aW9uQWJzb2x1dGUueSAtIG5vZGVzQm94LnkgKyBub2RlRXh0ZW50WzBdWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRqdXN0ZWROb2RlRXh0ZW50WzFdWzFdID0gbi5wb3NpdGlvbkFic29sdXRlLnkgKyAobi5oZWlnaHQgPz8gMCkgLSBub2Rlc0JveC55MiArIG5vZGVFeHRlbnRbMV1bMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFBvcyA9IGNhbGNOZXh0UG9zaXRpb24obiwgbmV4dFBvc2l0aW9uLCBub2RlSW50ZXJuYWxzLCBhZGp1c3RlZE5vZGVFeHRlbnQsIG5vZGVPcmlnaW4sIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB0aGF0IHdlIG9ubHkgZmlyZSBhIGNoYW5nZSBldmVudCB3aGVuIHRoZXJlIGlzIGEgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZSA9IGhhc0NoYW5nZSB8fCBuLnBvc2l0aW9uLnggIT09IHVwZGF0ZWRQb3MucG9zaXRpb24ueCB8fCBuLnBvc2l0aW9uLnkgIT09IHVwZGF0ZWRQb3MucG9zaXRpb24ueTtcbiAgICAgICAgICAgICAgICAgICAgbi5wb3NpdGlvbiA9IHVwZGF0ZWRQb3MucG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgIG4ucG9zaXRpb25BYnNvbHV0ZSA9IHVwZGF0ZWRQb3MucG9zaXRpb25BYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cGRhdGVOb2RlUG9zaXRpb25zKGRyYWdJdGVtcy5jdXJyZW50LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzZXREcmFnZ2luZyh0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvbkRyYWcgPSBub2RlSWQgPyBvbk5vZGVEcmFnIDogd3JhcFNlbGVjdGlvbkRyYWdGdW5jKG9uU2VsZWN0aW9uRHJhZyk7XG4gICAgICAgICAgICAgICAgaWYgKG9uRHJhZyAmJiBkcmFnRXZlbnQuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbY3VycmVudE5vZGUsIG5vZGVzXSA9IGdldEV2ZW50SGFuZGxlclBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnSXRlbXM6IGRyYWdJdGVtcy5jdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUludGVybmFscyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG9uRHJhZyhkcmFnRXZlbnQuY3VycmVudCwgY3VycmVudE5vZGUsIG5vZGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYXV0b1BhbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lckJvdW5kcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgW3hNb3ZlbWVudCwgeU1vdmVtZW50XSA9IGNhbGNBdXRvUGFuKG1vdXNlUG9zaXRpb24uY3VycmVudCwgY29udGFpbmVyQm91bmRzLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGlmICh4TW92ZW1lbnQgIT09IDAgfHwgeU1vdmVtZW50ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdHJhbnNmb3JtLCBwYW5CeSB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFBvcy5jdXJyZW50LnggPSAobGFzdFBvcy5jdXJyZW50LnggPz8gMCkgLSB4TW92ZW1lbnQgLyB0cmFuc2Zvcm1bMl07XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQb3MuY3VycmVudC55ID0gKGxhc3RQb3MuY3VycmVudC55ID8/IDApIC0geU1vdmVtZW50IC8gdHJhbnNmb3JtWzJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFuQnkoeyB4OiB4TW92ZW1lbnQsIHk6IHlNb3ZlbWVudCB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlTm9kZXMobGFzdFBvcy5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhdXRvUGFuSWQuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhdXRvUGFuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzdGFydERyYWcgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5vZGVJbnRlcm5hbHMsIG11bHRpU2VsZWN0aW9uQWN0aXZlLCBub2Rlc0RyYWdnYWJsZSwgdW5zZWxlY3ROb2Rlc0FuZEVkZ2VzLCBvbk5vZGVEcmFnU3RhcnQsIG9uU2VsZWN0aW9uRHJhZ1N0YXJ0LCB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICBkcmFnU3RhcnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBvblN0YXJ0ID0gbm9kZUlkID8gb25Ob2RlRHJhZ1N0YXJ0IDogd3JhcFNlbGVjdGlvbkRyYWdGdW5jKG9uU2VsZWN0aW9uRHJhZ1N0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoKCFzZWxlY3ROb2Rlc09uRHJhZyB8fCAhaXNTZWxlY3RhYmxlKSAmJiAhbXVsdGlTZWxlY3Rpb25BY3RpdmUgJiYgbm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9kZUludGVybmFscy5nZXQobm9kZUlkKT8uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVzZXQgc2VsZWN0ZWQgbm9kZXMgd2hlbiBzZWxlY3ROb2Rlc09uRHJhZz1mYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdW5zZWxlY3ROb2Rlc0FuZEVkZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVJZCAmJiBpc1NlbGVjdGFibGUgJiYgc2VsZWN0Tm9kZXNPbkRyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlTm9kZUNsaWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBub2RlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVSZWY6IG5vZGVSZWYsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludGVyUG9zID0gZ2V0UG9pbnRlclBvc2l0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBsYXN0UG9zLmN1cnJlbnQgPSBwb2ludGVyUG9zO1xuICAgICAgICAgICAgICAgIGRyYWdJdGVtcy5jdXJyZW50ID0gZ2V0RHJhZ0l0ZW1zKG5vZGVJbnRlcm5hbHMsIG5vZGVzRHJhZ2dhYmxlLCBwb2ludGVyUG9zLCBub2RlSWQpO1xuICAgICAgICAgICAgICAgIGlmIChvblN0YXJ0ICYmIGRyYWdJdGVtcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtjdXJyZW50Tm9kZSwgbm9kZXNdID0gZ2V0RXZlbnRIYW5kbGVyUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdJdGVtczogZHJhZ0l0ZW1zLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgb25TdGFydChldmVudC5zb3VyY2VFdmVudCwgY3VycmVudE5vZGUsIG5vZGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLm9uKCcuZHJhZycsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJhZ0hhbmRsZXIgPSBkcmFnKClcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdzdGFydCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRvbU5vZGUsIG5vZGVEcmFnVGhyZXNob2xkIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZURyYWdUaHJlc2hvbGQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RHJhZyhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRlclBvcyA9IGdldFBvaW50ZXJQb3NpdGlvbihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQb3MuY3VycmVudCA9IHBvaW50ZXJQb3M7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckJvdW5kcy5jdXJyZW50ID0gZG9tTm9kZT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VQb3NpdGlvbi5jdXJyZW50ID0gZ2V0RXZlbnRQb3NpdGlvbihldmVudC5zb3VyY2VFdmVudCwgY29udGFpbmVyQm91bmRzLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vbignZHJhZycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludGVyUG9zID0gZ2V0UG9pbnRlclBvc2l0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhdXRvUGFuT25Ob2RlRHJhZywgbm9kZURyYWdUaHJlc2hvbGQgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYXV0b1BhblN0YXJ0ZWQuY3VycmVudCAmJiBkcmFnU3RhcnRlZC5jdXJyZW50ICYmIGF1dG9QYW5Pbk5vZGVEcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvUGFuU3RhcnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9QYW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYWdTdGFydGVkLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBwb2ludGVyUG9zLnhTbmFwcGVkIC0gKGxhc3RQb3M/LmN1cnJlbnQ/LnggPz8gMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gcG9pbnRlclBvcy55U25hcHBlZCAtIChsYXN0UG9zPy5jdXJyZW50Py55ID8/IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPiBub2RlRHJhZ1RocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RHJhZyhldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBldmVudHMgd2l0aG91dCBtb3ZlbWVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoKGxhc3RQb3MuY3VycmVudC54ICE9PSBwb2ludGVyUG9zLnhTbmFwcGVkIHx8IGxhc3RQb3MuY3VycmVudC55ICE9PSBwb2ludGVyUG9zLnlTbmFwcGVkKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0l0ZW1zLmN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdTdGFydGVkLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdFdmVudC5jdXJyZW50ID0gZXZlbnQuc291cmNlRXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZVBvc2l0aW9uLmN1cnJlbnQgPSBnZXRFdmVudFBvc2l0aW9uKGV2ZW50LnNvdXJjZUV2ZW50LCBjb250YWluZXJCb3VuZHMuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVOb2Rlcyhwb2ludGVyUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vbignZW5kJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZHJhZ1N0YXJ0ZWQuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldERyYWdnaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYXV0b1BhblN0YXJ0ZWQuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkcmFnU3RhcnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGF1dG9QYW5JZC5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdJdGVtcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHVwZGF0ZU5vZGVQb3NpdGlvbnMsIG5vZGVJbnRlcm5hbHMsIG9uTm9kZURyYWdTdG9wLCBvblNlbGVjdGlvbkRyYWdTdG9wIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25TdG9wID0gbm9kZUlkID8gb25Ob2RlRHJhZ1N0b3AgOiB3cmFwU2VsZWN0aW9uRHJhZ0Z1bmMob25TZWxlY3Rpb25EcmFnU3RvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVOb2RlUG9zaXRpb25zKGRyYWdJdGVtcy5jdXJyZW50LCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uU3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtjdXJyZW50Tm9kZSwgbm9kZXNdID0gZ2V0RXZlbnRIYW5kbGVyUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnSXRlbXM6IGRyYWdJdGVtcy5jdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3RvcChldmVudC5zb3VyY2VFdmVudCwgY3VycmVudE5vZGUsIG5vZGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNEcmFnZ2FibGUgPSAhZXZlbnQuYnV0dG9uICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoIW5vRHJhZ0NsYXNzTmFtZSB8fCAhaGFzU2VsZWN0b3IodGFyZ2V0LCBgLiR7bm9EcmFnQ2xhc3NOYW1lfWAsIG5vZGVSZWYpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKCFoYW5kbGVTZWxlY3RvciB8fCBoYXNTZWxlY3Rvcih0YXJnZXQsIGhhbmRsZVNlbGVjdG9yLCBub2RlUmVmKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0RyYWdnYWJsZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uY2FsbChkcmFnSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLm9uKCcuZHJhZycsIG51bGwpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIG5vZGVSZWYsXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICBub0RyYWdDbGFzc05hbWUsXG4gICAgICAgIGhhbmRsZVNlbGVjdG9yLFxuICAgICAgICBpc1NlbGVjdGFibGUsXG4gICAgICAgIHN0b3JlLFxuICAgICAgICBub2RlSWQsXG4gICAgICAgIHNlbGVjdE5vZGVzT25EcmFnLFxuICAgICAgICBnZXRQb2ludGVyUG9zaXRpb24sXG4gICAgXSk7XG4gICAgcmV0dXJuIGRyYWdnaW5nO1xufVxuXG5mdW5jdGlvbiB1c2VVcGRhdGVOb2RlUG9zaXRpb25zKCkge1xuICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgICBjb25zdCB1cGRhdGVQb3NpdGlvbnMgPSB1c2VDYWxsYmFjaygocGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbm9kZUludGVybmFscywgbm9kZUV4dGVudCwgdXBkYXRlTm9kZVBvc2l0aW9ucywgZ2V0Tm9kZXMsIHNuYXBUb0dyaWQsIHNuYXBHcmlkLCBvbkVycm9yLCBub2Rlc0RyYWdnYWJsZSB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWROb2RlcyA9IGdldE5vZGVzKCkuZmlsdGVyKChuKSA9PiBuLnNlbGVjdGVkICYmIChuLmRyYWdnYWJsZSB8fCAobm9kZXNEcmFnZ2FibGUgJiYgdHlwZW9mIG4uZHJhZ2dhYmxlID09PSAndW5kZWZpbmVkJykpKTtcbiAgICAgICAgLy8gYnkgZGVmYXVsdCBhIG5vZGUgbW92ZXMgNXB4IG9uIGVhY2gga2V5IHByZXNzLCBvciAyMHB4IGlmIHNoaWZ0IGlzIHByZXNzZWRcbiAgICAgICAgLy8gaWYgc25hcCBncmlkIGlzIGVuYWJsZWQsIHdlIHVzZSB0aGF0IGZvciB0aGUgdmVsb2NpdHkuXG4gICAgICAgIGNvbnN0IHhWZWxvID0gc25hcFRvR3JpZCA/IHNuYXBHcmlkWzBdIDogNTtcbiAgICAgICAgY29uc3QgeVZlbG8gPSBzbmFwVG9HcmlkID8gc25hcEdyaWRbMV0gOiA1O1xuICAgICAgICBjb25zdCBmYWN0b3IgPSBwYXJhbXMuaXNTaGlmdFByZXNzZWQgPyA0IDogMTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25EaWZmWCA9IHBhcmFtcy54ICogeFZlbG8gKiBmYWN0b3I7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uRGlmZlkgPSBwYXJhbXMueSAqIHlWZWxvICogZmFjdG9yO1xuICAgICAgICBjb25zdCBub2RlVXBkYXRlcyA9IHNlbGVjdGVkTm9kZXMubWFwKChuKSA9PiB7XG4gICAgICAgICAgICBpZiAobi5wb3NpdGlvbkFic29sdXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFBvc2l0aW9uID0geyB4OiBuLnBvc2l0aW9uQWJzb2x1dGUueCArIHBvc2l0aW9uRGlmZlgsIHk6IG4ucG9zaXRpb25BYnNvbHV0ZS55ICsgcG9zaXRpb25EaWZmWSB9O1xuICAgICAgICAgICAgICAgIGlmIChzbmFwVG9HcmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRQb3NpdGlvbi54ID0gc25hcEdyaWRbMF0gKiBNYXRoLnJvdW5kKG5leHRQb3NpdGlvbi54IC8gc25hcEdyaWRbMF0pO1xuICAgICAgICAgICAgICAgICAgICBuZXh0UG9zaXRpb24ueSA9IHNuYXBHcmlkWzFdICogTWF0aC5yb3VuZChuZXh0UG9zaXRpb24ueSAvIHNuYXBHcmlkWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwb3NpdGlvbkFic29sdXRlLCBwb3NpdGlvbiB9ID0gY2FsY05leHRQb3NpdGlvbihuLCBuZXh0UG9zaXRpb24sIG5vZGVJbnRlcm5hbHMsIG5vZGVFeHRlbnQsIHVuZGVmaW5lZCwgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgbi5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIG4ucG9zaXRpb25BYnNvbHV0ZSA9IHBvc2l0aW9uQWJzb2x1dGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZU5vZGVQb3NpdGlvbnMobm9kZVVwZGF0ZXMsIHRydWUsIGZhbHNlKTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHVwZGF0ZVBvc2l0aW9ucztcbn1cblxuY29uc3QgYXJyb3dLZXlEaWZmcyA9IHtcbiAgICBBcnJvd1VwOiB7IHg6IDAsIHk6IC0xIH0sXG4gICAgQXJyb3dEb3duOiB7IHg6IDAsIHk6IDEgfSxcbiAgICBBcnJvd0xlZnQ6IHsgeDogLTEsIHk6IDAgfSxcbiAgICBBcnJvd1JpZ2h0OiB7IHg6IDEsIHk6IDAgfSxcbn07XG52YXIgd3JhcE5vZGUgPSAoTm9kZUNvbXBvbmVudCkgPT4ge1xuICAgIGNvbnN0IE5vZGVXcmFwcGVyID0gKHsgaWQsIHR5cGUsIGRhdGEsIHhQb3MsIHlQb3MsIHhQb3NPcmlnaW4sIHlQb3NPcmlnaW4sIHNlbGVjdGVkLCBvbkNsaWNrLCBvbk1vdXNlRW50ZXIsIG9uTW91c2VNb3ZlLCBvbk1vdXNlTGVhdmUsIG9uQ29udGV4dE1lbnUsIG9uRG91YmxlQ2xpY2ssIHN0eWxlLCBjbGFzc05hbWUsIGlzRHJhZ2dhYmxlLCBpc1NlbGVjdGFibGUsIGlzQ29ubmVjdGFibGUsIGlzRm9jdXNhYmxlLCBzZWxlY3ROb2Rlc09uRHJhZywgc291cmNlUG9zaXRpb24sIHRhcmdldFBvc2l0aW9uLCBoaWRkZW4sIHJlc2l6ZU9ic2VydmVyLCBkcmFnSGFuZGxlLCB6SW5kZXgsIGlzUGFyZW50LCBub0RyYWdDbGFzc05hbWUsIG5vUGFuQ2xhc3NOYW1lLCBpbml0aWFsaXplZCwgZGlzYWJsZUtleWJvYXJkQTExeSwgYXJpYUxhYmVsLCByZklkLCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgICAgICAgY29uc3Qgbm9kZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgICAgY29uc3QgcHJldlNvdXJjZVBvc2l0aW9uID0gdXNlUmVmKHNvdXJjZVBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgcHJldlRhcmdldFBvc2l0aW9uID0gdXNlUmVmKHRhcmdldFBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgcHJldlR5cGUgPSB1c2VSZWYodHlwZSk7XG4gICAgICAgIGNvbnN0IGhhc1BvaW50ZXJFdmVudHMgPSBpc1NlbGVjdGFibGUgfHwgaXNEcmFnZ2FibGUgfHwgb25DbGljayB8fCBvbk1vdXNlRW50ZXIgfHwgb25Nb3VzZU1vdmUgfHwgb25Nb3VzZUxlYXZlO1xuICAgICAgICBjb25zdCB1cGRhdGVQb3NpdGlvbnMgPSB1c2VVcGRhdGVOb2RlUG9zaXRpb25zKCk7XG4gICAgICAgIGNvbnN0IG9uTW91c2VFbnRlckhhbmRsZXIgPSBnZXRNb3VzZUhhbmRsZXIoaWQsIHN0b3JlLmdldFN0YXRlLCBvbk1vdXNlRW50ZXIpO1xuICAgICAgICBjb25zdCBvbk1vdXNlTW92ZUhhbmRsZXIgPSBnZXRNb3VzZUhhbmRsZXIoaWQsIHN0b3JlLmdldFN0YXRlLCBvbk1vdXNlTW92ZSk7XG4gICAgICAgIGNvbnN0IG9uTW91c2VMZWF2ZUhhbmRsZXIgPSBnZXRNb3VzZUhhbmRsZXIoaWQsIHN0b3JlLmdldFN0YXRlLCBvbk1vdXNlTGVhdmUpO1xuICAgICAgICBjb25zdCBvbkNvbnRleHRNZW51SGFuZGxlciA9IGdldE1vdXNlSGFuZGxlcihpZCwgc3RvcmUuZ2V0U3RhdGUsIG9uQ29udGV4dE1lbnUpO1xuICAgICAgICBjb25zdCBvbkRvdWJsZUNsaWNrSGFuZGxlciA9IGdldE1vdXNlSGFuZGxlcihpZCwgc3RvcmUuZ2V0U3RhdGUsIG9uRG91YmxlQ2xpY2spO1xuICAgICAgICBjb25zdCBvblNlbGVjdE5vZGVIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG5vZGVEcmFnVGhyZXNob2xkIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKGlzU2VsZWN0YWJsZSAmJiAoIXNlbGVjdE5vZGVzT25EcmFnIHx8ICFpc0RyYWdnYWJsZSB8fCBub2RlRHJhZ1RocmVzaG9sZCA+IDApKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBoYW5kbGVyIGdldHMgY2FsbGVkIHdpdGhpbiB0aGUgZHJhZyBzdGFydCBldmVudCB3aGVuIHNlbGVjdE5vZGVzT25EcmFnPXRydWVcbiAgICAgICAgICAgICAgICBoYW5kbGVOb2RlQ2xpY2soe1xuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUsXG4gICAgICAgICAgICAgICAgICAgIG5vZGVSZWYsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBzdG9yZS5nZXRTdGF0ZSgpLm5vZGVJbnRlcm5hbHMuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrKGV2ZW50LCB7IC4uLm5vZGUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvbktleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0lucHV0RE9NTm9kZShldmVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWxlbWVudFNlbGVjdGlvbktleXMuaW5jbHVkZXMoZXZlbnQua2V5KSAmJiBpc1NlbGVjdGFibGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1bnNlbGVjdCA9IGV2ZW50LmtleSA9PT0gJ0VzY2FwZSc7XG4gICAgICAgICAgICAgICAgaGFuZGxlTm9kZUNsaWNrKHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdCxcbiAgICAgICAgICAgICAgICAgICAgbm9kZVJlZixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFkaXNhYmxlS2V5Ym9hcmRBMTF5ICYmXG4gICAgICAgICAgICAgICAgaXNEcmFnZ2FibGUgJiZcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCAmJlxuICAgICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcnJvd0tleURpZmZzLCBldmVudC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBhcmlhTGl2ZU1lc3NhZ2U6IGBNb3ZlZCBzZWxlY3RlZCBub2RlICR7ZXZlbnQua2V5XG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnQXJyb3cnLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpfS4gTmV3IHBvc2l0aW9uLCB4OiAke35+eFBvc30sIHk6ICR7fn55UG9zfWAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlUG9zaXRpb25zKHtcbiAgICAgICAgICAgICAgICAgICAgeDogYXJyb3dLZXlEaWZmc1tldmVudC5rZXldLngsXG4gICAgICAgICAgICAgICAgICAgIHk6IGFycm93S2V5RGlmZnNbZXZlbnQua2V5XS55LFxuICAgICAgICAgICAgICAgICAgICBpc1NoaWZ0UHJlc3NlZDogZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZVJlZi5jdXJyZW50ICYmICFoaWRkZW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyTm9kZSA9IG5vZGVSZWYuY3VycmVudDtcbiAgICAgICAgICAgICAgICByZXNpemVPYnNlcnZlcj8ub2JzZXJ2ZShjdXJyTm9kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHJlc2l6ZU9ic2VydmVyPy51bm9ic2VydmUoY3Vyck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBbaGlkZGVuXSk7XG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAvLyB3aGVuIHRoZSB1c2VyIHByb2dyYW1tYXRpY2FsbHkgY2hhbmdlcyB0aGUgc291cmNlIG9yIGhhbmRsZSBwb3NpdGlvbiwgd2UgcmUtaW5pdGlhbGl6ZSB0aGUgbm9kZVxuICAgICAgICAgICAgY29uc3QgdHlwZUNoYW5nZWQgPSBwcmV2VHlwZS5jdXJyZW50ICE9PSB0eXBlO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlUG9zQ2hhbmdlZCA9IHByZXZTb3VyY2VQb3NpdGlvbi5jdXJyZW50ICE9PSBzb3VyY2VQb3NpdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFBvc0NoYW5nZWQgPSBwcmV2VGFyZ2V0UG9zaXRpb24uY3VycmVudCAhPT0gdGFyZ2V0UG9zaXRpb247XG4gICAgICAgICAgICBpZiAobm9kZVJlZi5jdXJyZW50ICYmICh0eXBlQ2hhbmdlZCB8fCBzb3VyY2VQb3NDaGFuZ2VkIHx8IHRhcmdldFBvc0NoYW5nZWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZUeXBlLmN1cnJlbnQgPSB0eXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlUG9zQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2U291cmNlUG9zaXRpb24uY3VycmVudCA9IHNvdXJjZVBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0UG9zQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VGFyZ2V0UG9zaXRpb24uY3VycmVudCA9IHRhcmdldFBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdG9yZS5nZXRTdGF0ZSgpLnVwZGF0ZU5vZGVEaW1lbnNpb25zKFt7IGlkLCBub2RlRWxlbWVudDogbm9kZVJlZi5jdXJyZW50LCBmb3JjZVVwZGF0ZTogdHJ1ZSB9XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIFtpZCwgdHlwZSwgc291cmNlUG9zaXRpb24sIHRhcmdldFBvc2l0aW9uXSk7XG4gICAgICAgIGNvbnN0IGRyYWdnaW5nID0gdXNlRHJhZyh7XG4gICAgICAgICAgICBub2RlUmVmLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGhpZGRlbiB8fCAhaXNEcmFnZ2FibGUsXG4gICAgICAgICAgICBub0RyYWdDbGFzc05hbWUsXG4gICAgICAgICAgICBoYW5kbGVTZWxlY3RvcjogZHJhZ0hhbmRsZSxcbiAgICAgICAgICAgIG5vZGVJZDogaWQsXG4gICAgICAgICAgICBpc1NlbGVjdGFibGUsXG4gICAgICAgICAgICBzZWxlY3ROb2Rlc09uRHJhZyxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChoaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2MoW1xuICAgICAgICAgICAgICAgICdyZWFjdC1mbG93X19ub2RlJyxcbiAgICAgICAgICAgICAgICBgcmVhY3QtZmxvd19fbm9kZS0ke3R5cGV9YCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgb3ZlcndyaXRhYmxlIGJ5IHBhc3NpbmcgYG5vcGFuYCBhcyBhIGNsYXNzIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgW25vUGFuQ2xhc3NOYW1lXTogaXNEcmFnZ2FibGUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogaXNTZWxlY3RhYmxlLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGlzUGFyZW50LFxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSksIHJlZjogbm9kZVJlZiwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICB6SW5kZXgsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7eFBvc09yaWdpbn1weCwke3lQb3NPcmlnaW59cHgpYCxcbiAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBoYXNQb2ludGVyRXZlbnRzID8gJ2FsbCcgOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogaW5pdGlhbGl6ZWQgPyAndmlzaWJsZScgOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIH0sIFwiZGF0YS1pZFwiOiBpZCwgXCJkYXRhLXRlc3RpZFwiOiBgcmZfX25vZGUtJHtpZH1gLCBvbk1vdXNlRW50ZXI6IG9uTW91c2VFbnRlckhhbmRsZXIsIG9uTW91c2VNb3ZlOiBvbk1vdXNlTW92ZUhhbmRsZXIsIG9uTW91c2VMZWF2ZTogb25Nb3VzZUxlYXZlSGFuZGxlciwgb25Db250ZXh0TWVudTogb25Db250ZXh0TWVudUhhbmRsZXIsIG9uQ2xpY2s6IG9uU2VsZWN0Tm9kZUhhbmRsZXIsIG9uRG91YmxlQ2xpY2s6IG9uRG91YmxlQ2xpY2tIYW5kbGVyLCBvbktleURvd246IGlzRm9jdXNhYmxlID8gb25LZXlEb3duIDogdW5kZWZpbmVkLCB0YWJJbmRleDogaXNGb2N1c2FibGUgPyAwIDogdW5kZWZpbmVkLCByb2xlOiBpc0ZvY3VzYWJsZSA/ICdidXR0b24nIDogdW5kZWZpbmVkLCBcImFyaWEtZGVzY3JpYmVkYnlcIjogZGlzYWJsZUtleWJvYXJkQTExeSA/IHVuZGVmaW5lZCA6IGAke0FSSUFfTk9ERV9ERVNDX0tFWX0tJHtyZklkfWAsIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIsIHsgdmFsdWU6IGlkIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChOb2RlQ29tcG9uZW50LCB7IGlkOiBpZCwgZGF0YTogZGF0YSwgdHlwZTogdHlwZSwgeFBvczogeFBvcywgeVBvczogeVBvcywgc2VsZWN0ZWQ6IHNlbGVjdGVkLCBpc0Nvbm5lY3RhYmxlOiBpc0Nvbm5lY3RhYmxlLCBzb3VyY2VQb3NpdGlvbjogc291cmNlUG9zaXRpb24sIHRhcmdldFBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvbiwgZHJhZ2dpbmc6IGRyYWdnaW5nLCBkcmFnSGFuZGxlOiBkcmFnSGFuZGxlLCB6SW5kZXg6IHpJbmRleCB9KSkpKTtcbiAgICB9O1xuICAgIE5vZGVXcmFwcGVyLmRpc3BsYXlOYW1lID0gJ05vZGVXcmFwcGVyJztcbiAgICByZXR1cm4gbWVtbyhOb2RlV3JhcHBlcik7XG59O1xuXG4vKipcbiAqIFRoZSBub2RlcyBzZWxlY3Rpb24gcmVjdGFuZ2xlIGdldHMgZGlzcGxheWVkIHdoZW4gYSB1c2VyXG4gKiBtYWRlIGEgc2VsZWN0aW9uIHdpdGggb24gb3Igc2V2ZXJhbCBub2Rlc1xuICovXG5jb25zdCBzZWxlY3RvciQ3ID0gKHMpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZE5vZGVzID0gcy5nZXROb2RlcygpLmZpbHRlcigobikgPT4gbi5zZWxlY3RlZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZ2V0UmVjdE9mTm9kZXMoc2VsZWN0ZWROb2Rlcywgcy5ub2RlT3JpZ2luKSxcbiAgICAgICAgdHJhbnNmb3JtU3RyaW5nOiBgdHJhbnNsYXRlKCR7cy50cmFuc2Zvcm1bMF19cHgsJHtzLnRyYW5zZm9ybVsxXX1weCkgc2NhbGUoJHtzLnRyYW5zZm9ybVsyXX0pYCxcbiAgICAgICAgdXNlclNlbGVjdGlvbkFjdGl2ZTogcy51c2VyU2VsZWN0aW9uQWN0aXZlLFxuICAgIH07XG59O1xuZnVuY3Rpb24gTm9kZXNTZWxlY3Rpb24oeyBvblNlbGVjdGlvbkNvbnRleHRNZW51LCBub1BhbkNsYXNzTmFtZSwgZGlzYWJsZUtleWJvYXJkQTExeSB9KSB7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgeDogbGVmdCwgeTogdG9wLCB0cmFuc2Zvcm1TdHJpbmcsIHVzZXJTZWxlY3Rpb25BY3RpdmUgfSA9IHVzZVN0b3JlKHNlbGVjdG9yJDcsIHNoYWxsb3cpO1xuICAgIGNvbnN0IHVwZGF0ZVBvc2l0aW9ucyA9IHVzZVVwZGF0ZU5vZGVQb3NpdGlvbnMoKTtcbiAgICBjb25zdCBub2RlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZGlzYWJsZUtleWJvYXJkQTExeSkge1xuICAgICAgICAgICAgbm9kZVJlZi5jdXJyZW50Py5mb2N1cyh7XG4gICAgICAgICAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2Rpc2FibGVLZXlib2FyZEExMXldKTtcbiAgICB1c2VEcmFnKHtcbiAgICAgICAgbm9kZVJlZixcbiAgICB9KTtcbiAgICBpZiAodXNlclNlbGVjdGlvbkFjdGl2ZSB8fCAhd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgb25Db250ZXh0TWVudSA9IG9uU2VsZWN0aW9uQ29udGV4dE1lbnVcbiAgICAgICAgPyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkTm9kZXMgPSBzdG9yZVxuICAgICAgICAgICAgICAgIC5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAgICAgLmdldE5vZGVzKClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChuKSA9PiBuLnNlbGVjdGVkKTtcbiAgICAgICAgICAgIG9uU2VsZWN0aW9uQ29udGV4dE1lbnUoZXZlbnQsIHNlbGVjdGVkTm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG9uS2V5RG93biA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFycm93S2V5RGlmZnMsIGV2ZW50LmtleSkpIHtcbiAgICAgICAgICAgIHVwZGF0ZVBvc2l0aW9ucyh7XG4gICAgICAgICAgICAgICAgeDogYXJyb3dLZXlEaWZmc1tldmVudC5rZXldLngsXG4gICAgICAgICAgICAgICAgeTogYXJyb3dLZXlEaWZmc1tldmVudC5rZXldLnksXG4gICAgICAgICAgICAgICAgaXNTaGlmdFByZXNzZWQ6IGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2MoWydyZWFjdC1mbG93X19ub2Rlc3NlbGVjdGlvbicsICdyZWFjdC1mbG93X19jb250YWluZXInLCBub1BhbkNsYXNzTmFtZV0pLCBzdHlsZToge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1TdHJpbmcsXG4gICAgICAgIH0gfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogbm9kZVJlZiwgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX25vZGVzc2VsZWN0aW9uLXJlY3RcIiwgb25Db250ZXh0TWVudTogb25Db250ZXh0TWVudSwgdGFiSW5kZXg6IGRpc2FibGVLZXlib2FyZEExMXkgPyB1bmRlZmluZWQgOiAtMSwgb25LZXlEb3duOiBkaXNhYmxlS2V5Ym9hcmRBMTF5ID8gdW5kZWZpbmVkIDogb25LZXlEb3duLCBzdHlsZToge1xuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIH0gfSkpKTtcbn1cbnZhciBOb2Rlc1NlbGVjdGlvbiQxID0gbWVtbyhOb2Rlc1NlbGVjdGlvbik7XG5cbmNvbnN0IHNlbGVjdG9yJDYgPSAocykgPT4gcy5ub2Rlc1NlbGVjdGlvbkFjdGl2ZTtcbmNvbnN0IEZsb3dSZW5kZXJlciA9ICh7IGNoaWxkcmVuLCBvblBhbmVDbGljaywgb25QYW5lTW91c2VFbnRlciwgb25QYW5lTW91c2VNb3ZlLCBvblBhbmVNb3VzZUxlYXZlLCBvblBhbmVDb250ZXh0TWVudSwgb25QYW5lU2Nyb2xsLCBkZWxldGVLZXlDb2RlLCBvbk1vdmUsIG9uTW92ZVN0YXJ0LCBvbk1vdmVFbmQsIHNlbGVjdGlvbktleUNvZGUsIHNlbGVjdGlvbk9uRHJhZywgc2VsZWN0aW9uTW9kZSwgb25TZWxlY3Rpb25TdGFydCwgb25TZWxlY3Rpb25FbmQsIG11bHRpU2VsZWN0aW9uS2V5Q29kZSwgcGFuQWN0aXZhdGlvbktleUNvZGUsIHpvb21BY3RpdmF0aW9uS2V5Q29kZSwgZWxlbWVudHNTZWxlY3RhYmxlLCB6b29tT25TY3JvbGwsIHpvb21PblBpbmNoLCBwYW5PblNjcm9sbCwgcGFuT25TY3JvbGxTcGVlZCwgcGFuT25TY3JvbGxNb2RlLCB6b29tT25Eb3VibGVDbGljaywgcGFuT25EcmFnOiBfcGFuT25EcmFnLCBkZWZhdWx0Vmlld3BvcnQsIHRyYW5zbGF0ZUV4dGVudCwgbWluWm9vbSwgbWF4Wm9vbSwgcHJldmVudFNjcm9sbGluZywgb25TZWxlY3Rpb25Db250ZXh0TWVudSwgbm9XaGVlbENsYXNzTmFtZSwgbm9QYW5DbGFzc05hbWUsIGRpc2FibGVLZXlib2FyZEExMXksIH0pID0+IHtcbiAgICBjb25zdCBub2Rlc1NlbGVjdGlvbkFjdGl2ZSA9IHVzZVN0b3JlKHNlbGVjdG9yJDYpO1xuICAgIGNvbnN0IHNlbGVjdGlvbktleVByZXNzZWQgPSB1c2VLZXlQcmVzcyhzZWxlY3Rpb25LZXlDb2RlKTtcbiAgICBjb25zdCBwYW5BY3RpdmF0aW9uS2V5UHJlc3NlZCA9IHVzZUtleVByZXNzKHBhbkFjdGl2YXRpb25LZXlDb2RlKTtcbiAgICBjb25zdCBwYW5PbkRyYWcgPSBwYW5BY3RpdmF0aW9uS2V5UHJlc3NlZCB8fCBfcGFuT25EcmFnO1xuICAgIGNvbnN0IGlzU2VsZWN0aW5nID0gc2VsZWN0aW9uS2V5UHJlc3NlZCB8fCAoc2VsZWN0aW9uT25EcmFnICYmIHBhbk9uRHJhZyAhPT0gdHJ1ZSk7XG4gICAgdXNlR2xvYmFsS2V5SGFuZGxlcih7IGRlbGV0ZUtleUNvZGUsIG11bHRpU2VsZWN0aW9uS2V5Q29kZSB9KTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbVBhbmUsIHsgb25Nb3ZlOiBvbk1vdmUsIG9uTW92ZVN0YXJ0OiBvbk1vdmVTdGFydCwgb25Nb3ZlRW5kOiBvbk1vdmVFbmQsIG9uUGFuZUNvbnRleHRNZW51OiBvblBhbmVDb250ZXh0TWVudSwgZWxlbWVudHNTZWxlY3RhYmxlOiBlbGVtZW50c1NlbGVjdGFibGUsIHpvb21PblNjcm9sbDogem9vbU9uU2Nyb2xsLCB6b29tT25QaW5jaDogem9vbU9uUGluY2gsIHBhbk9uU2Nyb2xsOiBwYW5PblNjcm9sbCwgcGFuT25TY3JvbGxTcGVlZDogcGFuT25TY3JvbGxTcGVlZCwgcGFuT25TY3JvbGxNb2RlOiBwYW5PblNjcm9sbE1vZGUsIHpvb21PbkRvdWJsZUNsaWNrOiB6b29tT25Eb3VibGVDbGljaywgcGFuT25EcmFnOiAhc2VsZWN0aW9uS2V5UHJlc3NlZCAmJiBwYW5PbkRyYWcsIGRlZmF1bHRWaWV3cG9ydDogZGVmYXVsdFZpZXdwb3J0LCB0cmFuc2xhdGVFeHRlbnQ6IHRyYW5zbGF0ZUV4dGVudCwgbWluWm9vbTogbWluWm9vbSwgbWF4Wm9vbTogbWF4Wm9vbSwgem9vbUFjdGl2YXRpb25LZXlDb2RlOiB6b29tQWN0aXZhdGlvbktleUNvZGUsIHByZXZlbnRTY3JvbGxpbmc6IHByZXZlbnRTY3JvbGxpbmcsIG5vV2hlZWxDbGFzc05hbWU6IG5vV2hlZWxDbGFzc05hbWUsIG5vUGFuQ2xhc3NOYW1lOiBub1BhbkNsYXNzTmFtZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFBhbmUsIHsgb25TZWxlY3Rpb25TdGFydDogb25TZWxlY3Rpb25TdGFydCwgb25TZWxlY3Rpb25FbmQ6IG9uU2VsZWN0aW9uRW5kLCBvblBhbmVDbGljazogb25QYW5lQ2xpY2ssIG9uUGFuZU1vdXNlRW50ZXI6IG9uUGFuZU1vdXNlRW50ZXIsIG9uUGFuZU1vdXNlTW92ZTogb25QYW5lTW91c2VNb3ZlLCBvblBhbmVNb3VzZUxlYXZlOiBvblBhbmVNb3VzZUxlYXZlLCBvblBhbmVDb250ZXh0TWVudTogb25QYW5lQ29udGV4dE1lbnUsIG9uUGFuZVNjcm9sbDogb25QYW5lU2Nyb2xsLCBwYW5PbkRyYWc6IHBhbk9uRHJhZywgaXNTZWxlY3Rpbmc6ICEhaXNTZWxlY3RpbmcsIHNlbGVjdGlvbk1vZGU6IHNlbGVjdGlvbk1vZGUgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAgbm9kZXNTZWxlY3Rpb25BY3RpdmUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTm9kZXNTZWxlY3Rpb24kMSwgeyBvblNlbGVjdGlvbkNvbnRleHRNZW51OiBvblNlbGVjdGlvbkNvbnRleHRNZW51LCBub1BhbkNsYXNzTmFtZTogbm9QYW5DbGFzc05hbWUsIGRpc2FibGVLZXlib2FyZEExMXk6IGRpc2FibGVLZXlib2FyZEExMXkgfSkpKSkpO1xufTtcbkZsb3dSZW5kZXJlci5kaXNwbGF5TmFtZSA9ICdGbG93UmVuZGVyZXInO1xudmFyIEZsb3dSZW5kZXJlciQxID0gbWVtbyhGbG93UmVuZGVyZXIpO1xuXG5mdW5jdGlvbiB1c2VWaXNpYmxlTm9kZXMob25seVJlbmRlclZpc2libGUpIHtcbiAgICBjb25zdCBub2RlcyA9IHVzZVN0b3JlKHVzZUNhbGxiYWNrKChzKSA9PiBvbmx5UmVuZGVyVmlzaWJsZVxuICAgICAgICA/IGdldE5vZGVzSW5zaWRlKHMubm9kZUludGVybmFscywgeyB4OiAwLCB5OiAwLCB3aWR0aDogcy53aWR0aCwgaGVpZ2h0OiBzLmhlaWdodCB9LCBzLnRyYW5zZm9ybSwgdHJ1ZSlcbiAgICAgICAgOiBzLmdldE5vZGVzKCksIFtvbmx5UmVuZGVyVmlzaWJsZV0pKTtcbiAgICByZXR1cm4gbm9kZXM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVUeXBlcyhub2RlVHlwZXMpIHtcbiAgICBjb25zdCBzdGFuZGFyZFR5cGVzID0ge1xuICAgICAgICBpbnB1dDogd3JhcE5vZGUoKG5vZGVUeXBlcy5pbnB1dCB8fCBJbnB1dE5vZGUkMSkpLFxuICAgICAgICBkZWZhdWx0OiB3cmFwTm9kZSgobm9kZVR5cGVzLmRlZmF1bHQgfHwgRGVmYXVsdE5vZGUkMSkpLFxuICAgICAgICBvdXRwdXQ6IHdyYXBOb2RlKChub2RlVHlwZXMub3V0cHV0IHx8IE91dHB1dE5vZGUkMSkpLFxuICAgICAgICBncm91cDogd3JhcE5vZGUoKG5vZGVUeXBlcy5ncm91cCB8fCBHcm91cE5vZGUpKSxcbiAgICB9O1xuICAgIGNvbnN0IHdyYXBwZWRUeXBlcyA9IHt9O1xuICAgIGNvbnN0IHNwZWNpYWxUeXBlcyA9IE9iamVjdC5rZXlzKG5vZGVUeXBlcylcbiAgICAgICAgLmZpbHRlcigoaykgPT4gIVsnaW5wdXQnLCAnZGVmYXVsdCcsICdvdXRwdXQnLCAnZ3JvdXAnXS5pbmNsdWRlcyhrKSlcbiAgICAgICAgLnJlZHVjZSgocmVzLCBrZXkpID0+IHtcbiAgICAgICAgcmVzW2tleV0gPSB3cmFwTm9kZSgobm9kZVR5cGVzW2tleV0gfHwgRGVmYXVsdE5vZGUkMSkpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0sIHdyYXBwZWRUeXBlcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhbmRhcmRUeXBlcyxcbiAgICAgICAgLi4uc3BlY2lhbFR5cGVzLFxuICAgIH07XG59XG5jb25zdCBnZXRQb3NpdGlvbldpdGhPcmlnaW4gPSAoeyB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBvcmlnaW4sIH0pID0+IHtcbiAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgIH1cbiAgICBpZiAob3JpZ2luWzBdIDwgMCB8fCBvcmlnaW5bMV0gPCAwIHx8IG9yaWdpblswXSA+IDEgfHwgb3JpZ2luWzFdID4gMSkge1xuICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggLSB3aWR0aCAqIG9yaWdpblswXSxcbiAgICAgICAgeTogeSAtIGhlaWdodCAqIG9yaWdpblsxXSxcbiAgICB9O1xufTtcblxuY29uc3Qgc2VsZWN0b3IkNSA9IChzKSA9PiAoe1xuICAgIG5vZGVzRHJhZ2dhYmxlOiBzLm5vZGVzRHJhZ2dhYmxlLFxuICAgIG5vZGVzQ29ubmVjdGFibGU6IHMubm9kZXNDb25uZWN0YWJsZSxcbiAgICBub2Rlc0ZvY3VzYWJsZTogcy5ub2Rlc0ZvY3VzYWJsZSxcbiAgICBlbGVtZW50c1NlbGVjdGFibGU6IHMuZWxlbWVudHNTZWxlY3RhYmxlLFxuICAgIHVwZGF0ZU5vZGVEaW1lbnNpb25zOiBzLnVwZGF0ZU5vZGVEaW1lbnNpb25zLFxuICAgIG9uRXJyb3I6IHMub25FcnJvcixcbn0pO1xuY29uc3QgTm9kZVJlbmRlcmVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBub2Rlc0RyYWdnYWJsZSwgbm9kZXNDb25uZWN0YWJsZSwgbm9kZXNGb2N1c2FibGUsIGVsZW1lbnRzU2VsZWN0YWJsZSwgdXBkYXRlTm9kZURpbWVuc2lvbnMsIG9uRXJyb3IgfSA9IHVzZVN0b3JlKHNlbGVjdG9yJDUsIHNoYWxsb3cpO1xuICAgIGNvbnN0IG5vZGVzID0gdXNlVmlzaWJsZU5vZGVzKHByb3BzLm9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMpO1xuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyUmVmID0gdXNlUmVmKCk7XG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVzID0gZW50cmllcy5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICAgICAgICAgIGlkOiBlbnRyeS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyksXG4gICAgICAgICAgICAgICAgbm9kZUVsZW1lbnQ6IGVudHJ5LnRhcmdldCxcbiAgICAgICAgICAgICAgICBmb3JjZVVwZGF0ZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHVwZGF0ZU5vZGVEaW1lbnNpb25zKHVwZGF0ZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudCA9IG9ic2VydmVyO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgfSwgW10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXNpemVPYnNlcnZlclJlZj8uY3VycmVudD8uZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fbm9kZXNcIiwgc3R5bGU6IGNvbnRhaW5lclN0eWxlIH0sIG5vZGVzLm1hcCgobm9kZSkgPT4ge1xuICAgICAgICBsZXQgbm9kZVR5cGUgPSBub2RlLnR5cGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICBpZiAoIXByb3BzLm5vZGVUeXBlc1tub2RlVHlwZV0pIHtcbiAgICAgICAgICAgIG9uRXJyb3I/LignMDAzJywgZXJyb3JNZXNzYWdlc1snZXJyb3IwMDMnXShub2RlVHlwZSkpO1xuICAgICAgICAgICAgbm9kZVR5cGUgPSAnZGVmYXVsdCc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgTm9kZUNvbXBvbmVudCA9IChwcm9wcy5ub2RlVHlwZXNbbm9kZVR5cGVdIHx8IHByb3BzLm5vZGVUeXBlcy5kZWZhdWx0KTtcbiAgICAgICAgY29uc3QgaXNEcmFnZ2FibGUgPSAhIShub2RlLmRyYWdnYWJsZSB8fCAobm9kZXNEcmFnZ2FibGUgJiYgdHlwZW9mIG5vZGUuZHJhZ2dhYmxlID09PSAndW5kZWZpbmVkJykpO1xuICAgICAgICBjb25zdCBpc1NlbGVjdGFibGUgPSAhIShub2RlLnNlbGVjdGFibGUgfHwgKGVsZW1lbnRzU2VsZWN0YWJsZSAmJiB0eXBlb2Ygbm9kZS5zZWxlY3RhYmxlID09PSAndW5kZWZpbmVkJykpO1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RhYmxlID0gISEobm9kZS5jb25uZWN0YWJsZSB8fCAobm9kZXNDb25uZWN0YWJsZSAmJiB0eXBlb2Ygbm9kZS5jb25uZWN0YWJsZSA9PT0gJ3VuZGVmaW5lZCcpKTtcbiAgICAgICAgY29uc3QgaXNGb2N1c2FibGUgPSAhIShub2RlLmZvY3VzYWJsZSB8fCAobm9kZXNGb2N1c2FibGUgJiYgdHlwZW9mIG5vZGUuZm9jdXNhYmxlID09PSAndW5kZWZpbmVkJykpO1xuICAgICAgICBjb25zdCBjbGFtcGVkUG9zaXRpb24gPSBwcm9wcy5ub2RlRXh0ZW50XG4gICAgICAgICAgICA/IGNsYW1wUG9zaXRpb24obm9kZS5wb3NpdGlvbkFic29sdXRlLCBwcm9wcy5ub2RlRXh0ZW50KVxuICAgICAgICAgICAgOiBub2RlLnBvc2l0aW9uQWJzb2x1dGU7XG4gICAgICAgIGNvbnN0IHBvc1ggPSBjbGFtcGVkUG9zaXRpb24/LnggPz8gMDtcbiAgICAgICAgY29uc3QgcG9zWSA9IGNsYW1wZWRQb3NpdGlvbj8ueSA/PyAwO1xuICAgICAgICBjb25zdCBwb3NPcmlnaW4gPSBnZXRQb3NpdGlvbldpdGhPcmlnaW4oe1xuICAgICAgICAgICAgeDogcG9zWCxcbiAgICAgICAgICAgIHk6IHBvc1ksXG4gICAgICAgICAgICB3aWR0aDogbm9kZS53aWR0aCA/PyAwLFxuICAgICAgICAgICAgaGVpZ2h0OiBub2RlLmhlaWdodCA/PyAwLFxuICAgICAgICAgICAgb3JpZ2luOiBwcm9wcy5ub2RlT3JpZ2luLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KE5vZGVDb21wb25lbnQsIHsga2V5OiBub2RlLmlkLCBpZDogbm9kZS5pZCwgY2xhc3NOYW1lOiBub2RlLmNsYXNzTmFtZSwgc3R5bGU6IG5vZGUuc3R5bGUsIHR5cGU6IG5vZGVUeXBlLCBkYXRhOiBub2RlLmRhdGEsIHNvdXJjZVBvc2l0aW9uOiBub2RlLnNvdXJjZVBvc2l0aW9uIHx8IFBvc2l0aW9uLkJvdHRvbSwgdGFyZ2V0UG9zaXRpb246IG5vZGUudGFyZ2V0UG9zaXRpb24gfHwgUG9zaXRpb24uVG9wLCBoaWRkZW46IG5vZGUuaGlkZGVuLCB4UG9zOiBwb3NYLCB5UG9zOiBwb3NZLCB4UG9zT3JpZ2luOiBwb3NPcmlnaW4ueCwgeVBvc09yaWdpbjogcG9zT3JpZ2luLnksIHNlbGVjdE5vZGVzT25EcmFnOiBwcm9wcy5zZWxlY3ROb2Rlc09uRHJhZywgb25DbGljazogcHJvcHMub25Ob2RlQ2xpY2ssIG9uTW91c2VFbnRlcjogcHJvcHMub25Ob2RlTW91c2VFbnRlciwgb25Nb3VzZU1vdmU6IHByb3BzLm9uTm9kZU1vdXNlTW92ZSwgb25Nb3VzZUxlYXZlOiBwcm9wcy5vbk5vZGVNb3VzZUxlYXZlLCBvbkNvbnRleHRNZW51OiBwcm9wcy5vbk5vZGVDb250ZXh0TWVudSwgb25Eb3VibGVDbGljazogcHJvcHMub25Ob2RlRG91YmxlQ2xpY2ssIHNlbGVjdGVkOiAhIW5vZGUuc2VsZWN0ZWQsIGlzRHJhZ2dhYmxlOiBpc0RyYWdnYWJsZSwgaXNTZWxlY3RhYmxlOiBpc1NlbGVjdGFibGUsIGlzQ29ubmVjdGFibGU6IGlzQ29ubmVjdGFibGUsIGlzRm9jdXNhYmxlOiBpc0ZvY3VzYWJsZSwgcmVzaXplT2JzZXJ2ZXI6IHJlc2l6ZU9ic2VydmVyLCBkcmFnSGFuZGxlOiBub2RlLmRyYWdIYW5kbGUsIHpJbmRleDogbm9kZVtpbnRlcm5hbHNTeW1ib2xdPy56ID8/IDAsIGlzUGFyZW50OiAhIW5vZGVbaW50ZXJuYWxzU3ltYm9sXT8uaXNQYXJlbnQsIG5vRHJhZ0NsYXNzTmFtZTogcHJvcHMubm9EcmFnQ2xhc3NOYW1lLCBub1BhbkNsYXNzTmFtZTogcHJvcHMubm9QYW5DbGFzc05hbWUsIGluaXRpYWxpemVkOiAhIW5vZGUud2lkdGggJiYgISFub2RlLmhlaWdodCwgcmZJZDogcHJvcHMucmZJZCwgZGlzYWJsZUtleWJvYXJkQTExeTogcHJvcHMuZGlzYWJsZUtleWJvYXJkQTExeSwgYXJpYUxhYmVsOiBub2RlLmFyaWFMYWJlbCB9KSk7XG4gICAgfSkpKTtcbn07XG5Ob2RlUmVuZGVyZXIuZGlzcGxheU5hbWUgPSAnTm9kZVJlbmRlcmVyJztcbnZhciBOb2RlUmVuZGVyZXIkMSA9IG1lbW8oTm9kZVJlbmRlcmVyKTtcblxuY29uc3Qgc2hpZnRYID0gKHgsIHNoaWZ0LCBwb3NpdGlvbikgPT4ge1xuICAgIGlmIChwb3NpdGlvbiA9PT0gUG9zaXRpb24uTGVmdClcbiAgICAgICAgcmV0dXJuIHggLSBzaGlmdDtcbiAgICBpZiAocG9zaXRpb24gPT09IFBvc2l0aW9uLlJpZ2h0KVxuICAgICAgICByZXR1cm4geCArIHNoaWZ0O1xuICAgIHJldHVybiB4O1xufTtcbmNvbnN0IHNoaWZ0WSA9ICh5LCBzaGlmdCwgcG9zaXRpb24pID0+IHtcbiAgICBpZiAocG9zaXRpb24gPT09IFBvc2l0aW9uLlRvcClcbiAgICAgICAgcmV0dXJuIHkgLSBzaGlmdDtcbiAgICBpZiAocG9zaXRpb24gPT09IFBvc2l0aW9uLkJvdHRvbSlcbiAgICAgICAgcmV0dXJuIHkgKyBzaGlmdDtcbiAgICByZXR1cm4geTtcbn07XG5jb25zdCBFZGdlVXBkYXRlckNsYXNzTmFtZSA9ICdyZWFjdC1mbG93X19lZGdldXBkYXRlcic7XG5jb25zdCBFZGdlQW5jaG9yID0gKHsgcG9zaXRpb24sIGNlbnRlclgsIGNlbnRlclksIHJhZGl1cyA9IDEwLCBvbk1vdXNlRG93biwgb25Nb3VzZUVudGVyLCBvbk1vdXNlT3V0LCB0eXBlLCB9KSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7IG9uTW91c2VEb3duOiBvbk1vdXNlRG93biwgb25Nb3VzZUVudGVyOiBvbk1vdXNlRW50ZXIsIG9uTW91c2VPdXQ6IG9uTW91c2VPdXQsIGNsYXNzTmFtZTogY2MoW0VkZ2VVcGRhdGVyQ2xhc3NOYW1lLCBgJHtFZGdlVXBkYXRlckNsYXNzTmFtZX0tJHt0eXBlfWBdKSwgY3g6IHNoaWZ0WChjZW50ZXJYLCByYWRpdXMsIHBvc2l0aW9uKSwgY3k6IHNoaWZ0WShjZW50ZXJZLCByYWRpdXMsIHBvc2l0aW9uKSwgcjogcmFkaXVzLCBzdHJva2U6IFwidHJhbnNwYXJlbnRcIiwgZmlsbDogXCJ0cmFuc3BhcmVudFwiIH0pKTtcblxuY29uc3QgYWx3YXlzVmFsaWRDb25uZWN0aW9uID0gKCkgPT4gdHJ1ZTtcbnZhciB3cmFwRWRnZSA9IChFZGdlQ29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgRWRnZVdyYXBwZXIgPSAoeyBpZCwgY2xhc3NOYW1lLCB0eXBlLCBkYXRhLCBvbkNsaWNrLCBvbkVkZ2VEb3VibGVDbGljaywgc2VsZWN0ZWQsIGFuaW1hdGVkLCBsYWJlbCwgbGFiZWxTdHlsZSwgbGFiZWxTaG93QmcsIGxhYmVsQmdTdHlsZSwgbGFiZWxCZ1BhZGRpbmcsIGxhYmVsQmdCb3JkZXJSYWRpdXMsIHN0eWxlLCBzb3VyY2UsIHRhcmdldCwgc291cmNlWCwgc291cmNlWSwgdGFyZ2V0WCwgdGFyZ2V0WSwgc291cmNlUG9zaXRpb24sIHRhcmdldFBvc2l0aW9uLCBlbGVtZW50c1NlbGVjdGFibGUsIGhpZGRlbiwgc291cmNlSGFuZGxlSWQsIHRhcmdldEhhbmRsZUlkLCBvbkNvbnRleHRNZW51LCBvbk1vdXNlRW50ZXIsIG9uTW91c2VNb3ZlLCBvbk1vdXNlTGVhdmUsIGVkZ2VVcGRhdGVyUmFkaXVzLCBvbkVkZ2VVcGRhdGUsIG9uRWRnZVVwZGF0ZVN0YXJ0LCBvbkVkZ2VVcGRhdGVFbmQsIG1hcmtlckVuZCwgbWFya2VyU3RhcnQsIHJmSWQsIGFyaWFMYWJlbCwgaXNGb2N1c2FibGUsIGlzVXBkYXRhYmxlLCBwYXRoT3B0aW9ucywgaW50ZXJhY3Rpb25XaWR0aCwgfSkgPT4ge1xuICAgICAgICBjb25zdCBlZGdlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgICAgICBjb25zdCBbdXBkYXRlSG92ZXIsIHNldFVwZGF0ZUhvdmVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgY29uc3QgW3VwZGF0aW5nLCBzZXRVcGRhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgICAgICAgY29uc3QgbWFya2VyU3RhcnRVcmwgPSB1c2VNZW1vKCgpID0+IGB1cmwoIyR7Z2V0TWFya2VySWQobWFya2VyU3RhcnQsIHJmSWQpfSlgLCBbbWFya2VyU3RhcnQsIHJmSWRdKTtcbiAgICAgICAgY29uc3QgbWFya2VyRW5kVXJsID0gdXNlTWVtbygoKSA9PiBgdXJsKCMke2dldE1hcmtlcklkKG1hcmtlckVuZCwgcmZJZCl9KWAsIFttYXJrZXJFbmQsIHJmSWRdKTtcbiAgICAgICAgaWYgKGhpZGRlbikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb25FZGdlQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZWRnZXMsIGFkZFNlbGVjdGVkRWRnZXMsIHVuc2VsZWN0Tm9kZXNBbmRFZGdlcywgbXVsdGlTZWxlY3Rpb25BY3RpdmUgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCBlZGdlID0gZWRnZXMuZmluZCgoZSkgPT4gZS5pZCA9PT0gaWQpO1xuICAgICAgICAgICAgaWYgKCFlZGdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzU2VsZWN0YWJsZSkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnNldFN0YXRlKHsgbm9kZXNTZWxlY3Rpb25BY3RpdmU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIGlmIChlZGdlLnNlbGVjdGVkICYmIG11bHRpU2VsZWN0aW9uQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0Tm9kZXNBbmRFZGdlcyh7IG5vZGVzOiBbXSwgZWRnZXM6IFtlZGdlXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgZWRnZVJlZi5jdXJyZW50Py5ibHVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRTZWxlY3RlZEVkZ2VzKFtpZF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgb25DbGljayhldmVudCwgZWRnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uRWRnZURvdWJsZUNsaWNrSGFuZGxlciA9IGdldE1vdXNlSGFuZGxlciQxKGlkLCBzdG9yZS5nZXRTdGF0ZSwgb25FZGdlRG91YmxlQ2xpY2spO1xuICAgICAgICBjb25zdCBvbkVkZ2VDb250ZXh0TWVudSA9IGdldE1vdXNlSGFuZGxlciQxKGlkLCBzdG9yZS5nZXRTdGF0ZSwgb25Db250ZXh0TWVudSk7XG4gICAgICAgIGNvbnN0IG9uRWRnZU1vdXNlRW50ZXIgPSBnZXRNb3VzZUhhbmRsZXIkMShpZCwgc3RvcmUuZ2V0U3RhdGUsIG9uTW91c2VFbnRlcik7XG4gICAgICAgIGNvbnN0IG9uRWRnZU1vdXNlTW92ZSA9IGdldE1vdXNlSGFuZGxlciQxKGlkLCBzdG9yZS5nZXRTdGF0ZSwgb25Nb3VzZU1vdmUpO1xuICAgICAgICBjb25zdCBvbkVkZ2VNb3VzZUxlYXZlID0gZ2V0TW91c2VIYW5kbGVyJDEoaWQsIHN0b3JlLmdldFN0YXRlLCBvbk1vdXNlTGVhdmUpO1xuICAgICAgICBjb25zdCBoYW5kbGVFZGdlVXBkYXRlciA9IChldmVudCwgaXNTb3VyY2VIYW5kbGUpID0+IHtcbiAgICAgICAgICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgZWRnZSB1cGRhdGVyIGlmIG1vdXNlIGJ0biBpcyBub3QgbGVmdFxuICAgICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgZWRnZXMsIGlzVmFsaWRDb25uZWN0aW9uOiBpc1ZhbGlkQ29ubmVjdGlvblN0b3JlIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgY29uc3Qgbm9kZUlkID0gaXNTb3VyY2VIYW5kbGUgPyB0YXJnZXQgOiBzb3VyY2U7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVJZCA9IChpc1NvdXJjZUhhbmRsZSA/IHRhcmdldEhhbmRsZUlkIDogc291cmNlSGFuZGxlSWQpIHx8IG51bGw7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVUeXBlID0gaXNTb3VyY2VIYW5kbGUgPyAndGFyZ2V0JyA6ICdzb3VyY2UnO1xuICAgICAgICAgICAgY29uc3QgaXNWYWxpZENvbm5lY3Rpb24gPSBpc1ZhbGlkQ29ubmVjdGlvblN0b3JlIHx8IGFsd2F5c1ZhbGlkQ29ubmVjdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGlzVGFyZ2V0ID0gaXNTb3VyY2VIYW5kbGU7XG4gICAgICAgICAgICBjb25zdCBlZGdlID0gZWRnZXMuZmluZCgoZSkgPT4gZS5pZCA9PT0gaWQpO1xuICAgICAgICAgICAgc2V0VXBkYXRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBvbkVkZ2VVcGRhdGVTdGFydD8uKGV2ZW50LCBlZGdlLCBoYW5kbGVUeXBlKTtcbiAgICAgICAgICAgIGNvbnN0IF9vbkVkZ2VVcGRhdGVFbmQgPSAoZXZ0KSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VXBkYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIG9uRWRnZVVwZGF0ZUVuZD8uKGV2dCwgZWRnZSwgaGFuZGxlVHlwZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgb25Db25uZWN0RWRnZSA9IChjb25uZWN0aW9uKSA9PiBvbkVkZ2VVcGRhdGU/LihlZGdlLCBjb25uZWN0aW9uKTtcbiAgICAgICAgICAgIGhhbmRsZVBvaW50ZXJEb3duKHtcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBoYW5kbGVJZCxcbiAgICAgICAgICAgICAgICBub2RlSWQsXG4gICAgICAgICAgICAgICAgb25Db25uZWN0OiBvbkNvbm5lY3RFZGdlLFxuICAgICAgICAgICAgICAgIGlzVGFyZ2V0LFxuICAgICAgICAgICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZTogc3RvcmUuc2V0U3RhdGUsXG4gICAgICAgICAgICAgICAgaXNWYWxpZENvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgZWRnZVVwZGF0ZXJUeXBlOiBoYW5kbGVUeXBlLFxuICAgICAgICAgICAgICAgIG9uRWRnZVVwZGF0ZUVuZDogX29uRWRnZVVwZGF0ZUVuZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvbkVkZ2VVcGRhdGVyU291cmNlTW91c2VEb3duID0gKGV2ZW50KSA9PiBoYW5kbGVFZGdlVXBkYXRlcihldmVudCwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IG9uRWRnZVVwZGF0ZXJUYXJnZXRNb3VzZURvd24gPSAoZXZlbnQpID0+IGhhbmRsZUVkZ2VVcGRhdGVyKGV2ZW50LCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG9uRWRnZVVwZGF0ZXJNb3VzZUVudGVyID0gKCkgPT4gc2V0VXBkYXRlSG92ZXIodHJ1ZSk7XG4gICAgICAgIGNvbnN0IG9uRWRnZVVwZGF0ZXJNb3VzZU91dCA9ICgpID0+IHNldFVwZGF0ZUhvdmVyKGZhbHNlKTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmUgPSAhZWxlbWVudHNTZWxlY3RhYmxlICYmICFvbkNsaWNrO1xuICAgICAgICBjb25zdCBvbktleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50U2VsZWN0aW9uS2V5cy5pbmNsdWRlcyhldmVudC5rZXkpICYmIGVsZW1lbnRzU2VsZWN0YWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdW5zZWxlY3ROb2Rlc0FuZEVkZ2VzLCBhZGRTZWxlY3RlZEVkZ2VzLCBlZGdlcyB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bnNlbGVjdCA9IGV2ZW50LmtleSA9PT0gJ0VzY2FwZSc7XG4gICAgICAgICAgICAgICAgaWYgKHVuc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGVkZ2VSZWYuY3VycmVudD8uYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdE5vZGVzQW5kRWRnZXMoeyBlZGdlczogW2VkZ2VzLmZpbmQoKGUpID0+IGUuaWQgPT09IGlkKV0gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRTZWxlY3RlZEVkZ2VzKFtpZF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IGNsYXNzTmFtZTogY2MoW1xuICAgICAgICAgICAgICAgICdyZWFjdC1mbG93X19lZGdlJyxcbiAgICAgICAgICAgICAgICBgcmVhY3QtZmxvd19fZWRnZS0ke3R5cGV9YCxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgeyBzZWxlY3RlZCwgYW5pbWF0ZWQsIGluYWN0aXZlLCB1cGRhdGluZzogdXBkYXRlSG92ZXIgfSxcbiAgICAgICAgICAgIF0pLCBvbkNsaWNrOiBvbkVkZ2VDbGljaywgb25Eb3VibGVDbGljazogb25FZGdlRG91YmxlQ2xpY2tIYW5kbGVyLCBvbkNvbnRleHRNZW51OiBvbkVkZ2VDb250ZXh0TWVudSwgb25Nb3VzZUVudGVyOiBvbkVkZ2VNb3VzZUVudGVyLCBvbk1vdXNlTW92ZTogb25FZGdlTW91c2VNb3ZlLCBvbk1vdXNlTGVhdmU6IG9uRWRnZU1vdXNlTGVhdmUsIG9uS2V5RG93bjogaXNGb2N1c2FibGUgPyBvbktleURvd24gOiB1bmRlZmluZWQsIHRhYkluZGV4OiBpc0ZvY3VzYWJsZSA/IDAgOiB1bmRlZmluZWQsIHJvbGU6IGlzRm9jdXNhYmxlID8gJ2J1dHRvbicgOiAnaW1nJywgXCJkYXRhLXRlc3RpZFwiOiBgcmZfX2VkZ2UtJHtpZH1gLCBcImFyaWEtbGFiZWxcIjogYXJpYUxhYmVsID09PSBudWxsID8gdW5kZWZpbmVkIDogYXJpYUxhYmVsID8gYXJpYUxhYmVsIDogYEVkZ2UgZnJvbSAke3NvdXJjZX0gdG8gJHt0YXJnZXR9YCwgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IGlzRm9jdXNhYmxlID8gYCR7QVJJQV9FREdFX0RFU0NfS0VZfS0ke3JmSWR9YCA6IHVuZGVmaW5lZCwgcmVmOiBlZGdlUmVmIH0sXG4gICAgICAgICAgICAhdXBkYXRpbmcgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRWRnZUNvbXBvbmVudCwgeyBpZDogaWQsIHNvdXJjZTogc291cmNlLCB0YXJnZXQ6IHRhcmdldCwgc2VsZWN0ZWQ6IHNlbGVjdGVkLCBhbmltYXRlZDogYW5pbWF0ZWQsIGxhYmVsOiBsYWJlbCwgbGFiZWxTdHlsZTogbGFiZWxTdHlsZSwgbGFiZWxTaG93Qmc6IGxhYmVsU2hvd0JnLCBsYWJlbEJnU3R5bGU6IGxhYmVsQmdTdHlsZSwgbGFiZWxCZ1BhZGRpbmc6IGxhYmVsQmdQYWRkaW5nLCBsYWJlbEJnQm9yZGVyUmFkaXVzOiBsYWJlbEJnQm9yZGVyUmFkaXVzLCBkYXRhOiBkYXRhLCBzdHlsZTogc3R5bGUsIHNvdXJjZVg6IHNvdXJjZVgsIHNvdXJjZVk6IHNvdXJjZVksIHRhcmdldFg6IHRhcmdldFgsIHRhcmdldFk6IHRhcmdldFksIHNvdXJjZVBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb246IHRhcmdldFBvc2l0aW9uLCBzb3VyY2VIYW5kbGVJZDogc291cmNlSGFuZGxlSWQsIHRhcmdldEhhbmRsZUlkOiB0YXJnZXRIYW5kbGVJZCwgbWFya2VyU3RhcnQ6IG1hcmtlclN0YXJ0VXJsLCBtYXJrZXJFbmQ6IG1hcmtlckVuZFVybCwgcGF0aE9wdGlvbnM6IHBhdGhPcHRpb25zLCBpbnRlcmFjdGlvbldpZHRoOiBpbnRlcmFjdGlvbldpZHRoIH0pKSxcbiAgICAgICAgICAgIGlzVXBkYXRhYmxlICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgICAgIChpc1VwZGF0YWJsZSA9PT0gJ3NvdXJjZScgfHwgaXNVcGRhdGFibGUgPT09IHRydWUpICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KEVkZ2VBbmNob3IsIHsgcG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLCBjZW50ZXJYOiBzb3VyY2VYLCBjZW50ZXJZOiBzb3VyY2VZLCByYWRpdXM6IGVkZ2VVcGRhdGVyUmFkaXVzLCBvbk1vdXNlRG93bjogb25FZGdlVXBkYXRlclNvdXJjZU1vdXNlRG93biwgb25Nb3VzZUVudGVyOiBvbkVkZ2VVcGRhdGVyTW91c2VFbnRlciwgb25Nb3VzZU91dDogb25FZGdlVXBkYXRlck1vdXNlT3V0LCB0eXBlOiBcInNvdXJjZVwiIH0pKSxcbiAgICAgICAgICAgICAgICAoaXNVcGRhdGFibGUgPT09ICd0YXJnZXQnIHx8IGlzVXBkYXRhYmxlID09PSB0cnVlKSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChFZGdlQW5jaG9yLCB7IHBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvbiwgY2VudGVyWDogdGFyZ2V0WCwgY2VudGVyWTogdGFyZ2V0WSwgcmFkaXVzOiBlZGdlVXBkYXRlclJhZGl1cywgb25Nb3VzZURvd246IG9uRWRnZVVwZGF0ZXJUYXJnZXRNb3VzZURvd24sIG9uTW91c2VFbnRlcjogb25FZGdlVXBkYXRlck1vdXNlRW50ZXIsIG9uTW91c2VPdXQ6IG9uRWRnZVVwZGF0ZXJNb3VzZU91dCwgdHlwZTogXCJ0YXJnZXRcIiB9KSkpKSkpO1xuICAgIH07XG4gICAgRWRnZVdyYXBwZXIuZGlzcGxheU5hbWUgPSAnRWRnZVdyYXBwZXInO1xuICAgIHJldHVybiBtZW1vKEVkZ2VXcmFwcGVyKTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUVkZ2VUeXBlcyhlZGdlVHlwZXMpIHtcbiAgICBjb25zdCBzdGFuZGFyZFR5cGVzID0ge1xuICAgICAgICBkZWZhdWx0OiB3cmFwRWRnZSgoZWRnZVR5cGVzLmRlZmF1bHQgfHwgQmV6aWVyRWRnZSkpLFxuICAgICAgICBzdHJhaWdodDogd3JhcEVkZ2UoKGVkZ2VUeXBlcy5iZXppZXIgfHwgU3RyYWlnaHRFZGdlKSksXG4gICAgICAgIHN0ZXA6IHdyYXBFZGdlKChlZGdlVHlwZXMuc3RlcCB8fCBTdGVwRWRnZSkpLFxuICAgICAgICBzbW9vdGhzdGVwOiB3cmFwRWRnZSgoZWRnZVR5cGVzLnN0ZXAgfHwgU21vb3RoU3RlcEVkZ2UpKSxcbiAgICAgICAgc2ltcGxlYmV6aWVyOiB3cmFwRWRnZSgoZWRnZVR5cGVzLnNpbXBsZWJlemllciB8fCBTaW1wbGVCZXppZXJFZGdlKSksXG4gICAgfTtcbiAgICBjb25zdCB3cmFwcGVkVHlwZXMgPSB7fTtcbiAgICBjb25zdCBzcGVjaWFsVHlwZXMgPSBPYmplY3Qua2V5cyhlZGdlVHlwZXMpXG4gICAgICAgIC5maWx0ZXIoKGspID0+ICFbJ2RlZmF1bHQnLCAnYmV6aWVyJ10uaW5jbHVkZXMoaykpXG4gICAgICAgIC5yZWR1Y2UoKHJlcywga2V5KSA9PiB7XG4gICAgICAgIHJlc1trZXldID0gd3JhcEVkZ2UoKGVkZ2VUeXBlc1trZXldIHx8IEJlemllckVkZ2UpKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9LCB3cmFwcGVkVHlwZXMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YW5kYXJkVHlwZXMsXG4gICAgICAgIC4uLnNwZWNpYWxUeXBlcyxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0SGFuZGxlUG9zaXRpb24ocG9zaXRpb24sIG5vZGVSZWN0LCBoYW5kbGUgPSBudWxsKSB7XG4gICAgY29uc3QgeCA9IChoYW5kbGU/LnggfHwgMCkgKyBub2RlUmVjdC54O1xuICAgIGNvbnN0IHkgPSAoaGFuZGxlPy55IHx8IDApICsgbm9kZVJlY3QueTtcbiAgICBjb25zdCB3aWR0aCA9IGhhbmRsZT8ud2lkdGggfHwgbm9kZVJlY3Qud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gaGFuZGxlPy5oZWlnaHQgfHwgbm9kZVJlY3QuaGVpZ2h0O1xuICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSBQb3NpdGlvbi5Ub3A6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHggKyB3aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgUG9zaXRpb24uUmlnaHQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHggKyB3aWR0aCxcbiAgICAgICAgICAgICAgICB5OiB5ICsgaGVpZ2h0IC8gMixcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgUG9zaXRpb24uQm90dG9tOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiB4ICsgd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHk6IHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFBvc2l0aW9uLkxlZnQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgICAgeTogeSArIGhlaWdodCAvIDIsXG4gICAgICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEhhbmRsZShib3VuZHMsIGhhbmRsZUlkKSB7XG4gICAgaWYgKCFib3VuZHMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChib3VuZHMubGVuZ3RoID09PSAxIHx8ICFoYW5kbGVJZCkge1xuICAgICAgICByZXR1cm4gYm91bmRzWzBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChoYW5kbGVJZCkge1xuICAgICAgICByZXR1cm4gYm91bmRzLmZpbmQoKGQpID0+IGQuaWQgPT09IGhhbmRsZUlkKSB8fCBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IGdldEVkZ2VQb3NpdGlvbnMgPSAoc291cmNlTm9kZVJlY3QsIHNvdXJjZUhhbmRsZSwgc291cmNlUG9zaXRpb24sIHRhcmdldE5vZGVSZWN0LCB0YXJnZXRIYW5kbGUsIHRhcmdldFBvc2l0aW9uKSA9PiB7XG4gICAgY29uc3Qgc291cmNlSGFuZGxlUG9zID0gZ2V0SGFuZGxlUG9zaXRpb24oc291cmNlUG9zaXRpb24sIHNvdXJjZU5vZGVSZWN0LCBzb3VyY2VIYW5kbGUpO1xuICAgIGNvbnN0IHRhcmdldEhhbmRsZVBvcyA9IGdldEhhbmRsZVBvc2l0aW9uKHRhcmdldFBvc2l0aW9uLCB0YXJnZXROb2RlUmVjdCwgdGFyZ2V0SGFuZGxlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2VYOiBzb3VyY2VIYW5kbGVQb3MueCxcbiAgICAgICAgc291cmNlWTogc291cmNlSGFuZGxlUG9zLnksXG4gICAgICAgIHRhcmdldFg6IHRhcmdldEhhbmRsZVBvcy54LFxuICAgICAgICB0YXJnZXRZOiB0YXJnZXRIYW5kbGVQb3MueSxcbiAgICB9O1xufTtcbmZ1bmN0aW9uIGlzRWRnZVZpc2libGUoeyBzb3VyY2VQb3MsIHRhcmdldFBvcywgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCwgdGFyZ2V0V2lkdGgsIHRhcmdldEhlaWdodCwgd2lkdGgsIGhlaWdodCwgdHJhbnNmb3JtLCB9KSB7XG4gICAgY29uc3QgZWRnZUJveCA9IHtcbiAgICAgICAgeDogTWF0aC5taW4oc291cmNlUG9zLngsIHRhcmdldFBvcy54KSxcbiAgICAgICAgeTogTWF0aC5taW4oc291cmNlUG9zLnksIHRhcmdldFBvcy55KSxcbiAgICAgICAgeDI6IE1hdGgubWF4KHNvdXJjZVBvcy54ICsgc291cmNlV2lkdGgsIHRhcmdldFBvcy54ICsgdGFyZ2V0V2lkdGgpLFxuICAgICAgICB5MjogTWF0aC5tYXgoc291cmNlUG9zLnkgKyBzb3VyY2VIZWlnaHQsIHRhcmdldFBvcy55ICsgdGFyZ2V0SGVpZ2h0KSxcbiAgICB9O1xuICAgIGlmIChlZGdlQm94LnggPT09IGVkZ2VCb3gueDIpIHtcbiAgICAgICAgZWRnZUJveC54MiArPSAxO1xuICAgIH1cbiAgICBpZiAoZWRnZUJveC55ID09PSBlZGdlQm94LnkyKSB7XG4gICAgICAgIGVkZ2VCb3gueTIgKz0gMTtcbiAgICB9XG4gICAgY29uc3Qgdmlld0JveCA9IHJlY3RUb0JveCh7XG4gICAgICAgIHg6ICgwIC0gdHJhbnNmb3JtWzBdKSAvIHRyYW5zZm9ybVsyXSxcbiAgICAgICAgeTogKDAgLSB0cmFuc2Zvcm1bMV0pIC8gdHJhbnNmb3JtWzJdLFxuICAgICAgICB3aWR0aDogd2lkdGggLyB0cmFuc2Zvcm1bMl0sXG4gICAgICAgIGhlaWdodDogaGVpZ2h0IC8gdHJhbnNmb3JtWzJdLFxuICAgIH0pO1xuICAgIGNvbnN0IHhPdmVybGFwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odmlld0JveC54MiwgZWRnZUJveC54MikgLSBNYXRoLm1heCh2aWV3Qm94LngsIGVkZ2VCb3gueCkpO1xuICAgIGNvbnN0IHlPdmVybGFwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odmlld0JveC55MiwgZWRnZUJveC55MikgLSBNYXRoLm1heCh2aWV3Qm94LnksIGVkZ2VCb3gueSkpO1xuICAgIGNvbnN0IG92ZXJsYXBwaW5nQXJlYSA9IE1hdGguY2VpbCh4T3ZlcmxhcCAqIHlPdmVybGFwKTtcbiAgICByZXR1cm4gb3ZlcmxhcHBpbmdBcmVhID4gMDtcbn1cbmZ1bmN0aW9uIGdldE5vZGVEYXRhKG5vZGUpIHtcbiAgICBjb25zdCBoYW5kbGVCb3VuZHMgPSBub2RlPy5baW50ZXJuYWxzU3ltYm9sXT8uaGFuZGxlQm91bmRzIHx8IG51bGw7XG4gICAgY29uc3QgaXNWYWxpZCA9IGhhbmRsZUJvdW5kcyAmJlxuICAgICAgICBub2RlPy53aWR0aCAmJlxuICAgICAgICBub2RlPy5oZWlnaHQgJiZcbiAgICAgICAgdHlwZW9mIG5vZGU/LnBvc2l0aW9uQWJzb2x1dGU/LnggIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBub2RlPy5wb3NpdGlvbkFic29sdXRlPy55ICE9PSAndW5kZWZpbmVkJztcbiAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgICB4OiBub2RlPy5wb3NpdGlvbkFic29sdXRlPy54IHx8IDAsXG4gICAgICAgICAgICB5OiBub2RlPy5wb3NpdGlvbkFic29sdXRlPy55IHx8IDAsXG4gICAgICAgICAgICB3aWR0aDogbm9kZT8ud2lkdGggfHwgMCxcbiAgICAgICAgICAgIGhlaWdodDogbm9kZT8uaGVpZ2h0IHx8IDAsXG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZUJvdW5kcyxcbiAgICAgICAgISFpc1ZhbGlkLFxuICAgIF07XG59XG5cbmNvbnN0IGRlZmF1bHRFZGdlVHJlZSA9IFt7IGxldmVsOiAwLCBpc01heExldmVsOiB0cnVlLCBlZGdlczogW10gfV07XG5mdW5jdGlvbiBncm91cEVkZ2VzQnlaTGV2ZWwoZWRnZXMsIG5vZGVJbnRlcm5hbHMsIGVsZXZhdGVFZGdlc09uU2VsZWN0ID0gZmFsc2UpIHtcbiAgICBsZXQgbWF4TGV2ZWwgPSAtMTtcbiAgICBjb25zdCBsZXZlbExvb2t1cCA9IGVkZ2VzLnJlZHVjZSgodHJlZSwgZWRnZSkgPT4ge1xuICAgICAgICBjb25zdCBoYXNaSW5kZXggPSBpc051bWVyaWMoZWRnZS56SW5kZXgpO1xuICAgICAgICBsZXQgeiA9IGhhc1pJbmRleCA/IGVkZ2UuekluZGV4IDogMDtcbiAgICAgICAgaWYgKGVsZXZhdGVFZGdlc09uU2VsZWN0KSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gbm9kZUludGVybmFscy5nZXQoZWRnZS50YXJnZXQpO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlTm9kZSA9IG5vZGVJbnRlcm5hbHMuZ2V0KGVkZ2Uuc291cmNlKTtcbiAgICAgICAgICAgIGNvbnN0IGVkZ2VPckNvbm5lY3RlZE5vZGVTZWxlY3RlZCA9IGVkZ2Uuc2VsZWN0ZWQgfHwgdGFyZ2V0Tm9kZT8uc2VsZWN0ZWQgfHwgc291cmNlTm9kZT8uc2VsZWN0ZWQ7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFpJbmRleCA9IE1hdGgubWF4KHNvdXJjZU5vZGU/LltpbnRlcm5hbHNTeW1ib2xdPy56IHx8IDAsIHRhcmdldE5vZGU/LltpbnRlcm5hbHNTeW1ib2xdPy56IHx8IDAsIDEwMDApO1xuICAgICAgICAgICAgeiA9IChoYXNaSW5kZXggPyBlZGdlLnpJbmRleCA6IDApICsgKGVkZ2VPckNvbm5lY3RlZE5vZGVTZWxlY3RlZCA/IHNlbGVjdGVkWkluZGV4IDogMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyZWVbel0pIHtcbiAgICAgICAgICAgIHRyZWVbel0ucHVzaChlZGdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyZWVbel0gPSBbZWRnZV07XG4gICAgICAgIH1cbiAgICAgICAgbWF4TGV2ZWwgPSB6ID4gbWF4TGV2ZWwgPyB6IDogbWF4TGV2ZWw7XG4gICAgICAgIHJldHVybiB0cmVlO1xuICAgIH0sIHt9KTtcbiAgICBjb25zdCBlZGdlVHJlZSA9IE9iamVjdC5lbnRyaWVzKGxldmVsTG9va3VwKS5tYXAoKFtrZXksIGVkZ2VzXSkgPT4ge1xuICAgICAgICBjb25zdCBsZXZlbCA9ICtrZXk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlZGdlcyxcbiAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgaXNNYXhMZXZlbDogbGV2ZWwgPT09IG1heExldmVsLFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIGlmIChlZGdlVHJlZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRFZGdlVHJlZTtcbiAgICB9XG4gICAgcmV0dXJuIGVkZ2VUcmVlO1xufVxuZnVuY3Rpb24gdXNlVmlzaWJsZUVkZ2VzKG9ubHlSZW5kZXJWaXNpYmxlLCBub2RlSW50ZXJuYWxzLCBlbGV2YXRlRWRnZXNPblNlbGVjdCkge1xuICAgIGNvbnN0IGVkZ2VzID0gdXNlU3RvcmUodXNlQ2FsbGJhY2soKHMpID0+IHtcbiAgICAgICAgaWYgKCFvbmx5UmVuZGVyVmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHMuZWRnZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHMuZWRnZXMuZmlsdGVyKChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VOb2RlID0gbm9kZUludGVybmFscy5nZXQoZS5zb3VyY2UpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IG5vZGVJbnRlcm5hbHMuZ2V0KGUudGFyZ2V0KTtcbiAgICAgICAgICAgIHJldHVybiAoc291cmNlTm9kZT8ud2lkdGggJiZcbiAgICAgICAgICAgICAgICBzb3VyY2VOb2RlPy5oZWlnaHQgJiZcbiAgICAgICAgICAgICAgICB0YXJnZXROb2RlPy53aWR0aCAmJlxuICAgICAgICAgICAgICAgIHRhcmdldE5vZGU/LmhlaWdodCAmJlxuICAgICAgICAgICAgICAgIGlzRWRnZVZpc2libGUoe1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VQb3M6IHNvdXJjZU5vZGUucG9zaXRpb25BYnNvbHV0ZSB8fCB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0UG9zOiB0YXJnZXROb2RlLnBvc2l0aW9uQWJzb2x1dGUgfHwgeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVdpZHRoOiBzb3VyY2VOb2RlLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VIZWlnaHQ6IHNvdXJjZU5vZGUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRXaWR0aDogdGFyZ2V0Tm9kZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SGVpZ2h0OiB0YXJnZXROb2RlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogcy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9LCBbb25seVJlbmRlclZpc2libGUsIG5vZGVJbnRlcm5hbHNdKSk7XG4gICAgcmV0dXJuIGdyb3VwRWRnZXNCeVpMZXZlbChlZGdlcywgbm9kZUludGVybmFscywgZWxldmF0ZUVkZ2VzT25TZWxlY3QpO1xufVxuXG5jb25zdCBBcnJvd1N5bWJvbCA9ICh7IGNvbG9yID0gJ25vbmUnLCBzdHJva2VXaWR0aCA9IDEgfSkgPT4ge1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHsgc3R5bGU6IHtcbiAgICAgICAgICAgIHN0cm9rZTogY29sb3IsXG4gICAgICAgICAgICBzdHJva2VXaWR0aCxcbiAgICAgICAgfSwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBmaWxsOiBcIm5vbmVcIiwgcG9pbnRzOiBcIi01LC00IDAsMCAtNSw0XCIgfSkpO1xufTtcbmNvbnN0IEFycm93Q2xvc2VkU3ltYm9sID0gKHsgY29sb3IgPSAnbm9uZScsIHN0cm9rZVdpZHRoID0gMSB9KSA9PiB7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwicG9seWxpbmVcIiwgeyBzdHlsZToge1xuICAgICAgICAgICAgc3Ryb2tlOiBjb2xvcixcbiAgICAgICAgICAgIGZpbGw6IGNvbG9yLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGgsXG4gICAgICAgIH0sIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiwgcG9pbnRzOiBcIi01LC00IDAsMCAtNSw0IC01LC00XCIgfSkpO1xufTtcbmNvbnN0IE1hcmtlclN5bWJvbHMgPSB7XG4gICAgW01hcmtlclR5cGUuQXJyb3ddOiBBcnJvd1N5bWJvbCxcbiAgICBbTWFya2VyVHlwZS5BcnJvd0Nsb3NlZF06IEFycm93Q2xvc2VkU3ltYm9sLFxufTtcbmZ1bmN0aW9uIHVzZU1hcmtlclN5bWJvbCh0eXBlKSB7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICAgIGNvbnN0IHN5bWJvbCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBzeW1ib2xFeGlzdHMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoTWFya2VyU3ltYm9scywgdHlwZSk7XG4gICAgICAgIGlmICghc3ltYm9sRXhpc3RzKSB7XG4gICAgICAgICAgICBzdG9yZS5nZXRTdGF0ZSgpLm9uRXJyb3I/LignMDA5JywgZXJyb3JNZXNzYWdlc1snZXJyb3IwMDknXSh0eXBlKSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWFya2VyU3ltYm9sc1t0eXBlXTtcbiAgICB9LCBbdHlwZV0pO1xuICAgIHJldHVybiBzeW1ib2w7XG59XG5cbmNvbnN0IE1hcmtlciA9ICh7IGlkLCB0eXBlLCBjb2xvciwgd2lkdGggPSAxMi41LCBoZWlnaHQgPSAxMi41LCBtYXJrZXJVbml0cyA9ICdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoLCBvcmllbnQgPSAnYXV0by1zdGFydC1yZXZlcnNlJywgfSkgPT4ge1xuICAgIGNvbnN0IFN5bWJvbCA9IHVzZU1hcmtlclN5bWJvbCh0eXBlKTtcbiAgICBpZiAoIVN5bWJvbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwibWFya2VyXCIsIHsgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2Fycm93aGVhZFwiLCBpZDogaWQsIG1hcmtlcldpZHRoOiBgJHt3aWR0aH1gLCBtYXJrZXJIZWlnaHQ6IGAke2hlaWdodH1gLCB2aWV3Qm94OiBcIi0xMCAtMTAgMjAgMjBcIiwgbWFya2VyVW5pdHM6IG1hcmtlclVuaXRzLCBvcmllbnQ6IG9yaWVudCwgcmVmWDogXCIwXCIsIHJlZlk6IFwiMFwiIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3ltYm9sLCB7IGNvbG9yOiBjb2xvciwgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoIH0pKSk7XG59O1xuY29uc3QgbWFya2VyU2VsZWN0b3IgPSAoeyBkZWZhdWx0Q29sb3IsIHJmSWQgfSkgPT4gKHMpID0+IHtcbiAgICBjb25zdCBpZHMgPSBbXTtcbiAgICByZXR1cm4gcy5lZGdlc1xuICAgICAgICAucmVkdWNlKChtYXJrZXJzLCBlZGdlKSA9PiB7XG4gICAgICAgIFtlZGdlLm1hcmtlclN0YXJ0LCBlZGdlLm1hcmtlckVuZF0uZm9yRWFjaCgobWFya2VyKSA9PiB7XG4gICAgICAgICAgICBpZiAobWFya2VyICYmIHR5cGVvZiBtYXJrZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFya2VySWQgPSBnZXRNYXJrZXJJZChtYXJrZXIsIHJmSWQpO1xuICAgICAgICAgICAgICAgIGlmICghaWRzLmluY2x1ZGVzKG1hcmtlcklkKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLnB1c2goeyBpZDogbWFya2VySWQsIGNvbG9yOiBtYXJrZXIuY29sb3IgfHwgZGVmYXVsdENvbG9yLCAuLi5tYXJrZXIgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKG1hcmtlcklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWFya2VycztcbiAgICB9LCBbXSlcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEuaWQubG9jYWxlQ29tcGFyZShiLmlkKSk7XG59O1xuLy8gd2hlbiB5b3UgaGF2ZSBtdWx0aXBsZSBmbG93cyBvbiBhIHBhZ2UgYW5kIHlvdSBoaWRlIHRoZSBmaXJzdCBvbmUsIHRoZSBvdGhlciBvbmVzIGhhdmUgbm8gbWFya2VycyBhbnltb3JlXG4vLyB3aGVuIHRoZXkgZG8gaGF2ZSBtYXJrZXJzIHdpdGggdGhlIHNhbWUgaWRzLiBUbyBwcmV2ZW50IHRoaXMgdGhlIHVzZXIgY2FuIHBhc3MgYSB1bmlxdWUgaWQgdG8gdGhlIHJlYWN0IGZsb3cgd3JhcHBlclxuLy8gdGhhdCB3ZSBjYW4gdGhlbiB1c2UgZm9yIGNyZWF0aW5nIG91ciB1bmlxdWUgbWFya2VyIGlkc1xuY29uc3QgTWFya2VyRGVmaW5pdGlvbnMgPSAoeyBkZWZhdWx0Q29sb3IsIHJmSWQgfSkgPT4ge1xuICAgIGNvbnN0IG1hcmtlcnMgPSB1c2VTdG9yZSh1c2VDYWxsYmFjayhtYXJrZXJTZWxlY3Rvcih7IGRlZmF1bHRDb2xvciwgcmZJZCB9KSwgW2RlZmF1bHRDb2xvciwgcmZJZF0pLCBcbiAgICAvLyB0aGUgaWQgaW5jbHVkZXMgYWxsIG1hcmtlciBvcHRpb25zLCBzbyB3ZSBqdXN0IG5lZWQgdG8gbG9vayBhdCB0aGF0IHBhcnQgb2YgdGhlIG1hcmtlclxuICAgIChhLCBiKSA9PiAhKGEubGVuZ3RoICE9PSBiLmxlbmd0aCB8fCBhLnNvbWUoKG0sIGkpID0+IG0uaWQgIT09IGJbaV0uaWQpKSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLCBudWxsLCBtYXJrZXJzLm1hcCgobWFya2VyKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChNYXJrZXIsIHsgaWQ6IG1hcmtlci5pZCwga2V5OiBtYXJrZXIuaWQsIHR5cGU6IG1hcmtlci50eXBlLCBjb2xvcjogbWFya2VyLmNvbG9yLCB3aWR0aDogbWFya2VyLndpZHRoLCBoZWlnaHQ6IG1hcmtlci5oZWlnaHQsIG1hcmtlclVuaXRzOiBtYXJrZXIubWFya2VyVW5pdHMsIHN0cm9rZVdpZHRoOiBtYXJrZXIuc3Ryb2tlV2lkdGgsIG9yaWVudDogbWFya2VyLm9yaWVudCB9KSkpKSk7XG59O1xuTWFya2VyRGVmaW5pdGlvbnMuZGlzcGxheU5hbWUgPSAnTWFya2VyRGVmaW5pdGlvbnMnO1xudmFyIE1hcmtlckRlZmluaXRpb25zJDEgPSBtZW1vKE1hcmtlckRlZmluaXRpb25zKTtcblxuY29uc3Qgc2VsZWN0b3IkNCA9IChzKSA9PiAoe1xuICAgIG5vZGVzQ29ubmVjdGFibGU6IHMubm9kZXNDb25uZWN0YWJsZSxcbiAgICBlZGdlc0ZvY3VzYWJsZTogcy5lZGdlc0ZvY3VzYWJsZSxcbiAgICBlZGdlc1VwZGF0YWJsZTogcy5lZGdlc1VwZGF0YWJsZSxcbiAgICBlbGVtZW50c1NlbGVjdGFibGU6IHMuZWxlbWVudHNTZWxlY3RhYmxlLFxuICAgIHdpZHRoOiBzLndpZHRoLFxuICAgIGhlaWdodDogcy5oZWlnaHQsXG4gICAgY29ubmVjdGlvbk1vZGU6IHMuY29ubmVjdGlvbk1vZGUsXG4gICAgbm9kZUludGVybmFsczogcy5ub2RlSW50ZXJuYWxzLFxuICAgIG9uRXJyb3I6IHMub25FcnJvcixcbn0pO1xuY29uc3QgRWRnZVJlbmRlcmVyID0gKHsgZGVmYXVsdE1hcmtlckNvbG9yLCBvbmx5UmVuZGVyVmlzaWJsZUVsZW1lbnRzLCBlbGV2YXRlRWRnZXNPblNlbGVjdCwgcmZJZCwgZWRnZVR5cGVzLCBub1BhbkNsYXNzTmFtZSwgb25FZGdlVXBkYXRlLCBvbkVkZ2VDb250ZXh0TWVudSwgb25FZGdlTW91c2VFbnRlciwgb25FZGdlTW91c2VNb3ZlLCBvbkVkZ2VNb3VzZUxlYXZlLCBvbkVkZ2VDbGljaywgZWRnZVVwZGF0ZXJSYWRpdXMsIG9uRWRnZURvdWJsZUNsaWNrLCBvbkVkZ2VVcGRhdGVTdGFydCwgb25FZGdlVXBkYXRlRW5kLCBjaGlsZHJlbiwgfSkgPT4ge1xuICAgIGNvbnN0IHsgZWRnZXNGb2N1c2FibGUsIGVkZ2VzVXBkYXRhYmxlLCBlbGVtZW50c1NlbGVjdGFibGUsIHdpZHRoLCBoZWlnaHQsIGNvbm5lY3Rpb25Nb2RlLCBub2RlSW50ZXJuYWxzLCBvbkVycm9yIH0gPSB1c2VTdG9yZShzZWxlY3RvciQ0LCBzaGFsbG93KTtcbiAgICBjb25zdCBlZGdlVHJlZSA9IHVzZVZpc2libGVFZGdlcyhvbmx5UmVuZGVyVmlzaWJsZUVsZW1lbnRzLCBub2RlSW50ZXJuYWxzLCBlbGV2YXRlRWRnZXNPblNlbGVjdCk7XG4gICAgaWYgKCF3aWR0aCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBlZGdlVHJlZS5tYXAoKHsgbGV2ZWwsIGVkZ2VzLCBpc01heExldmVsIH0pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsga2V5OiBsZXZlbCwgc3R5bGU6IHsgekluZGV4OiBsZXZlbCB9LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fZWRnZXMgcmVhY3QtZmxvd19fY29udGFpbmVyXCIgfSxcbiAgICAgICAgICAgIGlzTWF4TGV2ZWwgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChNYXJrZXJEZWZpbml0aW9ucyQxLCB7IGRlZmF1bHRDb2xvcjogZGVmYXVsdE1hcmtlckNvbG9yLCByZklkOiByZklkIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwgbnVsbCwgZWRnZXMubWFwKChlZGdlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3NvdXJjZU5vZGVSZWN0LCBzb3VyY2VIYW5kbGVCb3VuZHMsIHNvdXJjZUlzVmFsaWRdID0gZ2V0Tm9kZURhdGEobm9kZUludGVybmFscy5nZXQoZWRnZS5zb3VyY2UpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBbdGFyZ2V0Tm9kZVJlY3QsIHRhcmdldEhhbmRsZUJvdW5kcywgdGFyZ2V0SXNWYWxpZF0gPSBnZXROb2RlRGF0YShub2RlSW50ZXJuYWxzLmdldChlZGdlLnRhcmdldCkpO1xuICAgICAgICAgICAgICAgIGlmICghc291cmNlSXNWYWxpZCB8fCAhdGFyZ2V0SXNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGVkZ2VUeXBlID0gZWRnZS50eXBlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgICAgICAgICBpZiAoIWVkZ2VUeXBlc1tlZGdlVHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcj8uKCcwMTEnLCBlcnJvck1lc3NhZ2VzWydlcnJvcjAxMSddKGVkZ2VUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIGVkZ2VUeXBlID0gJ2RlZmF1bHQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBFZGdlQ29tcG9uZW50ID0gZWRnZVR5cGVzW2VkZ2VUeXBlXSB8fCBlZGdlVHlwZXMuZGVmYXVsdDtcbiAgICAgICAgICAgICAgICAvLyB3aGVuIGNvbm5lY3Rpb24gdHlwZSBpcyBsb29zZSB3ZSBjYW4gZGVmaW5lIGFsbCBoYW5kbGVzIGFzIHNvdXJjZXMgYW5kIGNvbm5lY3Qgc291cmNlIC0+IHNvdXJjZVxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE5vZGVIYW5kbGVzID0gY29ubmVjdGlvbk1vZGUgPT09IENvbm5lY3Rpb25Nb2RlLlN0cmljdFxuICAgICAgICAgICAgICAgICAgICA/IHRhcmdldEhhbmRsZUJvdW5kcy50YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgOiAodGFyZ2V0SGFuZGxlQm91bmRzLnRhcmdldCA/PyBbXSkuY29uY2F0KHRhcmdldEhhbmRsZUJvdW5kcy5zb3VyY2UgPz8gW10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUhhbmRsZSA9IGdldEhhbmRsZShzb3VyY2VIYW5kbGVCb3VuZHMuc291cmNlLCBlZGdlLnNvdXJjZUhhbmRsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0SGFuZGxlID0gZ2V0SGFuZGxlKHRhcmdldE5vZGVIYW5kbGVzLCBlZGdlLnRhcmdldEhhbmRsZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlUG9zaXRpb24gPSBzb3VyY2VIYW5kbGU/LnBvc2l0aW9uIHx8IFBvc2l0aW9uLkJvdHRvbTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRhcmdldEhhbmRsZT8ucG9zaXRpb24gfHwgUG9zaXRpb24uVG9wO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRm9jdXNhYmxlID0gISEoZWRnZS5mb2N1c2FibGUgfHwgKGVkZ2VzRm9jdXNhYmxlICYmIHR5cGVvZiBlZGdlLmZvY3VzYWJsZSA9PT0gJ3VuZGVmaW5lZCcpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1VwZGF0YWJsZSA9IHR5cGVvZiBvbkVkZ2VVcGRhdGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgICAgIChlZGdlLnVwZGF0YWJsZSB8fCAoZWRnZXNVcGRhdGFibGUgJiYgdHlwZW9mIGVkZ2UudXBkYXRhYmxlID09PSAndW5kZWZpbmVkJykpO1xuICAgICAgICAgICAgICAgIGlmICghc291cmNlSGFuZGxlIHx8ICF0YXJnZXRIYW5kbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcj8uKCcwMDgnLCBlcnJvck1lc3NhZ2VzWydlcnJvcjAwOCddKHNvdXJjZUhhbmRsZSwgZWRnZSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzb3VyY2VYLCBzb3VyY2VZLCB0YXJnZXRYLCB0YXJnZXRZIH0gPSBnZXRFZGdlUG9zaXRpb25zKHNvdXJjZU5vZGVSZWN0LCBzb3VyY2VIYW5kbGUsIHNvdXJjZVBvc2l0aW9uLCB0YXJnZXROb2RlUmVjdCwgdGFyZ2V0SGFuZGxlLCB0YXJnZXRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEVkZ2VDb21wb25lbnQsIHsga2V5OiBlZGdlLmlkLCBpZDogZWRnZS5pZCwgY2xhc3NOYW1lOiBjYyhbZWRnZS5jbGFzc05hbWUsIG5vUGFuQ2xhc3NOYW1lXSksIHR5cGU6IGVkZ2VUeXBlLCBkYXRhOiBlZGdlLmRhdGEsIHNlbGVjdGVkOiAhIWVkZ2Uuc2VsZWN0ZWQsIGFuaW1hdGVkOiAhIWVkZ2UuYW5pbWF0ZWQsIGhpZGRlbjogISFlZGdlLmhpZGRlbiwgbGFiZWw6IGVkZ2UubGFiZWwsIGxhYmVsU3R5bGU6IGVkZ2UubGFiZWxTdHlsZSwgbGFiZWxTaG93Qmc6IGVkZ2UubGFiZWxTaG93QmcsIGxhYmVsQmdTdHlsZTogZWRnZS5sYWJlbEJnU3R5bGUsIGxhYmVsQmdQYWRkaW5nOiBlZGdlLmxhYmVsQmdQYWRkaW5nLCBsYWJlbEJnQm9yZGVyUmFkaXVzOiBlZGdlLmxhYmVsQmdCb3JkZXJSYWRpdXMsIHN0eWxlOiBlZGdlLnN0eWxlLCBzb3VyY2U6IGVkZ2Uuc291cmNlLCB0YXJnZXQ6IGVkZ2UudGFyZ2V0LCBzb3VyY2VIYW5kbGVJZDogZWRnZS5zb3VyY2VIYW5kbGUsIHRhcmdldEhhbmRsZUlkOiBlZGdlLnRhcmdldEhhbmRsZSwgbWFya2VyRW5kOiBlZGdlLm1hcmtlckVuZCwgbWFya2VyU3RhcnQ6IGVkZ2UubWFya2VyU3RhcnQsIHNvdXJjZVg6IHNvdXJjZVgsIHNvdXJjZVk6IHNvdXJjZVksIHRhcmdldFg6IHRhcmdldFgsIHRhcmdldFk6IHRhcmdldFksIHNvdXJjZVBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb246IHRhcmdldFBvc2l0aW9uLCBlbGVtZW50c1NlbGVjdGFibGU6IGVsZW1lbnRzU2VsZWN0YWJsZSwgb25FZGdlVXBkYXRlOiBvbkVkZ2VVcGRhdGUsIG9uQ29udGV4dE1lbnU6IG9uRWRnZUNvbnRleHRNZW51LCBvbk1vdXNlRW50ZXI6IG9uRWRnZU1vdXNlRW50ZXIsIG9uTW91c2VNb3ZlOiBvbkVkZ2VNb3VzZU1vdmUsIG9uTW91c2VMZWF2ZTogb25FZGdlTW91c2VMZWF2ZSwgb25DbGljazogb25FZGdlQ2xpY2ssIGVkZ2VVcGRhdGVyUmFkaXVzOiBlZGdlVXBkYXRlclJhZGl1cywgb25FZGdlRG91YmxlQ2xpY2s6IG9uRWRnZURvdWJsZUNsaWNrLCBvbkVkZ2VVcGRhdGVTdGFydDogb25FZGdlVXBkYXRlU3RhcnQsIG9uRWRnZVVwZGF0ZUVuZDogb25FZGdlVXBkYXRlRW5kLCByZklkOiByZklkLCBhcmlhTGFiZWw6IGVkZ2UuYXJpYUxhYmVsLCBpc0ZvY3VzYWJsZTogaXNGb2N1c2FibGUsIGlzVXBkYXRhYmxlOiBpc1VwZGF0YWJsZSwgcGF0aE9wdGlvbnM6ICdwYXRoT3B0aW9ucycgaW4gZWRnZSA/IGVkZ2UucGF0aE9wdGlvbnMgOiB1bmRlZmluZWQsIGludGVyYWN0aW9uV2lkdGg6IGVkZ2UuaW50ZXJhY3Rpb25XaWR0aCB9KSk7XG4gICAgICAgICAgICB9KSkpKSksXG4gICAgICAgIGNoaWxkcmVuKSk7XG59O1xuRWRnZVJlbmRlcmVyLmRpc3BsYXlOYW1lID0gJ0VkZ2VSZW5kZXJlcic7XG52YXIgRWRnZVJlbmRlcmVyJDEgPSBtZW1vKEVkZ2VSZW5kZXJlcik7XG5cbmNvbnN0IHNlbGVjdG9yJDMgPSAocykgPT4gYHRyYW5zbGF0ZSgke3MudHJhbnNmb3JtWzBdfXB4LCR7cy50cmFuc2Zvcm1bMV19cHgpIHNjYWxlKCR7cy50cmFuc2Zvcm1bMl19KWA7XG5mdW5jdGlvbiBWaWV3cG9ydCh7IGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSB1c2VTdG9yZShzZWxlY3RvciQzKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fdmlld3BvcnQgcmVhY3QtZmxvd19fY29udGFpbmVyXCIsIHN0eWxlOiB7IHRyYW5zZm9ybSB9IH0sIGNoaWxkcmVuKSk7XG59XG5cbmZ1bmN0aW9uIHVzZU9uSW5pdEhhbmRsZXIob25Jbml0KSB7XG4gICAgY29uc3QgcmZJbnN0YW5jZSA9IHVzZVJlYWN0RmxvdygpO1xuICAgIGNvbnN0IGlzSW5pdGlhbGl6ZWQgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaXNJbml0aWFsaXplZC5jdXJyZW50ICYmIHJmSW5zdGFuY2Uudmlld3BvcnRJbml0aWFsaXplZCAmJiBvbkluaXQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gb25Jbml0KHJmSW5zdGFuY2UpLCAxKTtcbiAgICAgICAgICAgIGlzSW5pdGlhbGl6ZWQuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LCBbb25Jbml0LCByZkluc3RhbmNlLnZpZXdwb3J0SW5pdGlhbGl6ZWRdKTtcbn1cblxuY29uc3Qgb3Bwb3NpdGVQb3NpdGlvbiA9IHtcbiAgICBbUG9zaXRpb24uTGVmdF06IFBvc2l0aW9uLlJpZ2h0LFxuICAgIFtQb3NpdGlvbi5SaWdodF06IFBvc2l0aW9uLkxlZnQsXG4gICAgW1Bvc2l0aW9uLlRvcF06IFBvc2l0aW9uLkJvdHRvbSxcbiAgICBbUG9zaXRpb24uQm90dG9tXTogUG9zaXRpb24uVG9wLFxufTtcbmNvbnN0IENvbm5lY3Rpb25MaW5lID0gKHsgbm9kZUlkLCBoYW5kbGVUeXBlLCBzdHlsZSwgdHlwZSA9IENvbm5lY3Rpb25MaW5lVHlwZS5CZXppZXIsIEN1c3RvbUNvbXBvbmVudCwgY29ubmVjdGlvblN0YXR1cywgfSkgPT4ge1xuICAgIGNvbnN0IHsgZnJvbU5vZGUsIGhhbmRsZUlkLCB0b1gsIHRvWSwgY29ubmVjdGlvbk1vZGUgfSA9IHVzZVN0b3JlKHVzZUNhbGxiYWNrKChzKSA9PiAoe1xuICAgICAgICBmcm9tTm9kZTogcy5ub2RlSW50ZXJuYWxzLmdldChub2RlSWQpLFxuICAgICAgICBoYW5kbGVJZDogcy5jb25uZWN0aW9uSGFuZGxlSWQsXG4gICAgICAgIHRvWDogKHMuY29ubmVjdGlvblBvc2l0aW9uLnggLSBzLnRyYW5zZm9ybVswXSkgLyBzLnRyYW5zZm9ybVsyXSxcbiAgICAgICAgdG9ZOiAocy5jb25uZWN0aW9uUG9zaXRpb24ueSAtIHMudHJhbnNmb3JtWzFdKSAvIHMudHJhbnNmb3JtWzJdLFxuICAgICAgICBjb25uZWN0aW9uTW9kZTogcy5jb25uZWN0aW9uTW9kZSxcbiAgICB9KSwgW25vZGVJZF0pLCBzaGFsbG93KTtcbiAgICBjb25zdCBmcm9tSGFuZGxlQm91bmRzID0gZnJvbU5vZGU/LltpbnRlcm5hbHNTeW1ib2xdPy5oYW5kbGVCb3VuZHM7XG4gICAgbGV0IGhhbmRsZUJvdW5kcyA9IGZyb21IYW5kbGVCb3VuZHM/LltoYW5kbGVUeXBlXTtcbiAgICBpZiAoY29ubmVjdGlvbk1vZGUgPT09IENvbm5lY3Rpb25Nb2RlLkxvb3NlKSB7XG4gICAgICAgIGhhbmRsZUJvdW5kcyA9IGhhbmRsZUJvdW5kcyA/IGhhbmRsZUJvdW5kcyA6IGZyb21IYW5kbGVCb3VuZHM/LltoYW5kbGVUeXBlID09PSAnc291cmNlJyA/ICd0YXJnZXQnIDogJ3NvdXJjZSddO1xuICAgIH1cbiAgICBpZiAoIWZyb21Ob2RlIHx8ICFoYW5kbGVCb3VuZHMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGZyb21IYW5kbGUgPSBoYW5kbGVJZCA/IGhhbmRsZUJvdW5kcy5maW5kKChkKSA9PiBkLmlkID09PSBoYW5kbGVJZCkgOiBoYW5kbGVCb3VuZHNbMF07XG4gICAgY29uc3QgZnJvbUhhbmRsZVggPSBmcm9tSGFuZGxlID8gZnJvbUhhbmRsZS54ICsgZnJvbUhhbmRsZS53aWR0aCAvIDIgOiAoZnJvbU5vZGUud2lkdGggPz8gMCkgLyAyO1xuICAgIGNvbnN0IGZyb21IYW5kbGVZID0gZnJvbUhhbmRsZSA/IGZyb21IYW5kbGUueSArIGZyb21IYW5kbGUuaGVpZ2h0IC8gMiA6IGZyb21Ob2RlLmhlaWdodCA/PyAwO1xuICAgIGNvbnN0IGZyb21YID0gKGZyb21Ob2RlLnBvc2l0aW9uQWJzb2x1dGU/LnggPz8gMCkgKyBmcm9tSGFuZGxlWDtcbiAgICBjb25zdCBmcm9tWSA9IChmcm9tTm9kZS5wb3NpdGlvbkFic29sdXRlPy55ID8/IDApICsgZnJvbUhhbmRsZVk7XG4gICAgY29uc3QgZnJvbVBvc2l0aW9uID0gZnJvbUhhbmRsZT8ucG9zaXRpb247XG4gICAgY29uc3QgdG9Qb3NpdGlvbiA9IGZyb21Qb3NpdGlvbiA/IG9wcG9zaXRlUG9zaXRpb25bZnJvbVBvc2l0aW9uXSA6IG51bGw7XG4gICAgaWYgKCFmcm9tUG9zaXRpb24gfHwgIXRvUG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChDdXN0b21Db21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEN1c3RvbUNvbXBvbmVudCwgeyBjb25uZWN0aW9uTGluZVR5cGU6IHR5cGUsIGNvbm5lY3Rpb25MaW5lU3R5bGU6IHN0eWxlLCBmcm9tTm9kZTogZnJvbU5vZGUsIGZyb21IYW5kbGU6IGZyb21IYW5kbGUsIGZyb21YOiBmcm9tWCwgZnJvbVk6IGZyb21ZLCB0b1g6IHRvWCwgdG9ZOiB0b1ksIGZyb21Qb3NpdGlvbjogZnJvbVBvc2l0aW9uLCB0b1Bvc2l0aW9uOiB0b1Bvc2l0aW9uLCBjb25uZWN0aW9uU3RhdHVzOiBjb25uZWN0aW9uU3RhdHVzIH0pKTtcbiAgICB9XG4gICAgbGV0IGRBdHRyID0gJyc7XG4gICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgc291cmNlWDogZnJvbVgsXG4gICAgICAgIHNvdXJjZVk6IGZyb21ZLFxuICAgICAgICBzb3VyY2VQb3NpdGlvbjogZnJvbVBvc2l0aW9uLFxuICAgICAgICB0YXJnZXRYOiB0b1gsXG4gICAgICAgIHRhcmdldFk6IHRvWSxcbiAgICAgICAgdGFyZ2V0UG9zaXRpb246IHRvUG9zaXRpb24sXG4gICAgfTtcbiAgICBpZiAodHlwZSA9PT0gQ29ubmVjdGlvbkxpbmVUeXBlLkJlemllcikge1xuICAgICAgICAvLyB3ZSBhc3N1bWUgdGhlIGRlc3RpbmF0aW9uIHBvc2l0aW9uIGlzIG9wcG9zaXRlIHRvIHRoZSBzb3VyY2UgcG9zaXRpb25cbiAgICAgICAgW2RBdHRyXSA9IGdldEJlemllclBhdGgocGF0aFBhcmFtcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IENvbm5lY3Rpb25MaW5lVHlwZS5TdGVwKSB7XG4gICAgICAgIFtkQXR0cl0gPSBnZXRTbW9vdGhTdGVwUGF0aCh7XG4gICAgICAgICAgICAuLi5wYXRoUGFyYW1zLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gQ29ubmVjdGlvbkxpbmVUeXBlLlNtb290aFN0ZXApIHtcbiAgICAgICAgW2RBdHRyXSA9IGdldFNtb290aFN0ZXBQYXRoKHBhdGhQYXJhbXMpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBDb25uZWN0aW9uTGluZVR5cGUuU2ltcGxlQmV6aWVyKSB7XG4gICAgICAgIFtkQXR0cl0gPSBnZXRTaW1wbGVCZXppZXJQYXRoKHBhdGhQYXJhbXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZEF0dHIgPSBgTSR7ZnJvbVh9LCR7ZnJvbVl9ICR7dG9YfSwke3RvWX1gO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBkQXR0ciwgZmlsbDogXCJub25lXCIsIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19jb25uZWN0aW9uLXBhdGhcIiwgc3R5bGU6IHN0eWxlIH0pO1xufTtcbkNvbm5lY3Rpb25MaW5lLmRpc3BsYXlOYW1lID0gJ0Nvbm5lY3Rpb25MaW5lJztcbmNvbnN0IHNlbGVjdG9yJDIgPSAocykgPT4gKHtcbiAgICBub2RlSWQ6IHMuY29ubmVjdGlvbk5vZGVJZCxcbiAgICBoYW5kbGVUeXBlOiBzLmNvbm5lY3Rpb25IYW5kbGVUeXBlLFxuICAgIG5vZGVzQ29ubmVjdGFibGU6IHMubm9kZXNDb25uZWN0YWJsZSxcbiAgICBjb25uZWN0aW9uU3RhdHVzOiBzLmNvbm5lY3Rpb25TdGF0dXMsXG4gICAgd2lkdGg6IHMud2lkdGgsXG4gICAgaGVpZ2h0OiBzLmhlaWdodCxcbn0pO1xuZnVuY3Rpb24gQ29ubmVjdGlvbkxpbmVXcmFwcGVyKHsgY29udGFpbmVyU3R5bGUsIHN0eWxlLCB0eXBlLCBjb21wb25lbnQgfSkge1xuICAgIGNvbnN0IHsgbm9kZUlkLCBoYW5kbGVUeXBlLCBub2Rlc0Nvbm5lY3RhYmxlLCB3aWR0aCwgaGVpZ2h0LCBjb25uZWN0aW9uU3RhdHVzIH0gPSB1c2VTdG9yZShzZWxlY3RvciQyLCBzaGFsbG93KTtcbiAgICBjb25zdCBpc1ZhbGlkID0gISEobm9kZUlkICYmIGhhbmRsZVR5cGUgJiYgd2lkdGggJiYgbm9kZXNDb25uZWN0YWJsZSk7XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyBzdHlsZTogY29udGFpbmVyU3R5bGUsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQsIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlcyByZWFjdC1mbG93X19jb25uZWN0aW9ubGluZSByZWFjdC1mbG93X19jb250YWluZXJcIiB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IGNsYXNzTmFtZTogY2MoWydyZWFjdC1mbG93X19jb25uZWN0aW9uJywgY29ubmVjdGlvblN0YXR1c10pIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbm5lY3Rpb25MaW5lLCB7IG5vZGVJZDogbm9kZUlkLCBoYW5kbGVUeXBlOiBoYW5kbGVUeXBlLCBzdHlsZTogc3R5bGUsIHR5cGU6IHR5cGUsIEN1c3RvbUNvbXBvbmVudDogY29tcG9uZW50LCBjb25uZWN0aW9uU3RhdHVzOiBjb25uZWN0aW9uU3RhdHVzIH0pKSkpO1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gdXNlTm9kZU9yRWRnZVR5cGVzKG5vZGVPckVkZ2VUeXBlcywgY3JlYXRlVHlwZXMpIHtcbiAgICBjb25zdCB0eXBlc0tleXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICAgIGNvbnN0IHR5cGVzUGFyc2VkID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgY29uc3QgdHlwZUtleXMgPSBPYmplY3Qua2V5cyhub2RlT3JFZGdlVHlwZXMpO1xuICAgICAgICAgICAgaWYgKHNoYWxsb3codHlwZXNLZXlzUmVmLmN1cnJlbnQsIHR5cGVLZXlzKSkge1xuICAgICAgICAgICAgICAgIHN0b3JlLmdldFN0YXRlKCkub25FcnJvcj8uKCcwMDInLCBlcnJvck1lc3NhZ2VzWydlcnJvcjAwMiddKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHlwZXNLZXlzUmVmLmN1cnJlbnQgPSB0eXBlS2V5cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlVHlwZXMobm9kZU9yRWRnZVR5cGVzKTtcbiAgICB9LCBbbm9kZU9yRWRnZVR5cGVzXSk7XG4gICAgcmV0dXJuIHR5cGVzUGFyc2VkO1xufVxuXG5jb25zdCBHcmFwaFZpZXcgPSAoeyBub2RlVHlwZXMsIGVkZ2VUeXBlcywgb25Nb3ZlLCBvbk1vdmVTdGFydCwgb25Nb3ZlRW5kLCBvbkluaXQsIG9uTm9kZUNsaWNrLCBvbkVkZ2VDbGljaywgb25Ob2RlRG91YmxlQ2xpY2ssIG9uRWRnZURvdWJsZUNsaWNrLCBvbk5vZGVNb3VzZUVudGVyLCBvbk5vZGVNb3VzZU1vdmUsIG9uTm9kZU1vdXNlTGVhdmUsIG9uTm9kZUNvbnRleHRNZW51LCBvblNlbGVjdGlvbkNvbnRleHRNZW51LCBvblNlbGVjdGlvblN0YXJ0LCBvblNlbGVjdGlvbkVuZCwgY29ubmVjdGlvbkxpbmVUeXBlLCBjb25uZWN0aW9uTGluZVN0eWxlLCBjb25uZWN0aW9uTGluZUNvbXBvbmVudCwgY29ubmVjdGlvbkxpbmVDb250YWluZXJTdHlsZSwgc2VsZWN0aW9uS2V5Q29kZSwgc2VsZWN0aW9uT25EcmFnLCBzZWxlY3Rpb25Nb2RlLCBtdWx0aVNlbGVjdGlvbktleUNvZGUsIHBhbkFjdGl2YXRpb25LZXlDb2RlLCB6b29tQWN0aXZhdGlvbktleUNvZGUsIGRlbGV0ZUtleUNvZGUsIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMsIGVsZW1lbnRzU2VsZWN0YWJsZSwgc2VsZWN0Tm9kZXNPbkRyYWcsIGRlZmF1bHRWaWV3cG9ydCwgdHJhbnNsYXRlRXh0ZW50LCBtaW5ab29tLCBtYXhab29tLCBwcmV2ZW50U2Nyb2xsaW5nLCBkZWZhdWx0TWFya2VyQ29sb3IsIHpvb21PblNjcm9sbCwgem9vbU9uUGluY2gsIHBhbk9uU2Nyb2xsLCBwYW5PblNjcm9sbFNwZWVkLCBwYW5PblNjcm9sbE1vZGUsIHpvb21PbkRvdWJsZUNsaWNrLCBwYW5PbkRyYWcsIG9uUGFuZUNsaWNrLCBvblBhbmVNb3VzZUVudGVyLCBvblBhbmVNb3VzZU1vdmUsIG9uUGFuZU1vdXNlTGVhdmUsIG9uUGFuZVNjcm9sbCwgb25QYW5lQ29udGV4dE1lbnUsIG9uRWRnZVVwZGF0ZSwgb25FZGdlQ29udGV4dE1lbnUsIG9uRWRnZU1vdXNlRW50ZXIsIG9uRWRnZU1vdXNlTW92ZSwgb25FZGdlTW91c2VMZWF2ZSwgZWRnZVVwZGF0ZXJSYWRpdXMsIG9uRWRnZVVwZGF0ZVN0YXJ0LCBvbkVkZ2VVcGRhdGVFbmQsIG5vRHJhZ0NsYXNzTmFtZSwgbm9XaGVlbENsYXNzTmFtZSwgbm9QYW5DbGFzc05hbWUsIGVsZXZhdGVFZGdlc09uU2VsZWN0LCBkaXNhYmxlS2V5Ym9hcmRBMTF5LCBub2RlT3JpZ2luLCBub2RlRXh0ZW50LCByZklkLCB9KSA9PiB7XG4gICAgY29uc3Qgbm9kZVR5cGVzV3JhcHBlZCA9IHVzZU5vZGVPckVkZ2VUeXBlcyhub2RlVHlwZXMsIGNyZWF0ZU5vZGVUeXBlcyk7XG4gICAgY29uc3QgZWRnZVR5cGVzV3JhcHBlZCA9IHVzZU5vZGVPckVkZ2VUeXBlcyhlZGdlVHlwZXMsIGNyZWF0ZUVkZ2VUeXBlcyk7XG4gICAgdXNlT25Jbml0SGFuZGxlcihvbkluaXQpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChGbG93UmVuZGVyZXIkMSwgeyBvblBhbmVDbGljazogb25QYW5lQ2xpY2ssIG9uUGFuZU1vdXNlRW50ZXI6IG9uUGFuZU1vdXNlRW50ZXIsIG9uUGFuZU1vdXNlTW92ZTogb25QYW5lTW91c2VNb3ZlLCBvblBhbmVNb3VzZUxlYXZlOiBvblBhbmVNb3VzZUxlYXZlLCBvblBhbmVDb250ZXh0TWVudTogb25QYW5lQ29udGV4dE1lbnUsIG9uUGFuZVNjcm9sbDogb25QYW5lU2Nyb2xsLCBkZWxldGVLZXlDb2RlOiBkZWxldGVLZXlDb2RlLCBzZWxlY3Rpb25LZXlDb2RlOiBzZWxlY3Rpb25LZXlDb2RlLCBzZWxlY3Rpb25PbkRyYWc6IHNlbGVjdGlvbk9uRHJhZywgc2VsZWN0aW9uTW9kZTogc2VsZWN0aW9uTW9kZSwgb25TZWxlY3Rpb25TdGFydDogb25TZWxlY3Rpb25TdGFydCwgb25TZWxlY3Rpb25FbmQ6IG9uU2VsZWN0aW9uRW5kLCBtdWx0aVNlbGVjdGlvbktleUNvZGU6IG11bHRpU2VsZWN0aW9uS2V5Q29kZSwgcGFuQWN0aXZhdGlvbktleUNvZGU6IHBhbkFjdGl2YXRpb25LZXlDb2RlLCB6b29tQWN0aXZhdGlvbktleUNvZGU6IHpvb21BY3RpdmF0aW9uS2V5Q29kZSwgZWxlbWVudHNTZWxlY3RhYmxlOiBlbGVtZW50c1NlbGVjdGFibGUsIG9uTW92ZTogb25Nb3ZlLCBvbk1vdmVTdGFydDogb25Nb3ZlU3RhcnQsIG9uTW92ZUVuZDogb25Nb3ZlRW5kLCB6b29tT25TY3JvbGw6IHpvb21PblNjcm9sbCwgem9vbU9uUGluY2g6IHpvb21PblBpbmNoLCB6b29tT25Eb3VibGVDbGljazogem9vbU9uRG91YmxlQ2xpY2ssIHBhbk9uU2Nyb2xsOiBwYW5PblNjcm9sbCwgcGFuT25TY3JvbGxTcGVlZDogcGFuT25TY3JvbGxTcGVlZCwgcGFuT25TY3JvbGxNb2RlOiBwYW5PblNjcm9sbE1vZGUsIHBhbk9uRHJhZzogcGFuT25EcmFnLCBkZWZhdWx0Vmlld3BvcnQ6IGRlZmF1bHRWaWV3cG9ydCwgdHJhbnNsYXRlRXh0ZW50OiB0cmFuc2xhdGVFeHRlbnQsIG1pblpvb206IG1pblpvb20sIG1heFpvb206IG1heFpvb20sIG9uU2VsZWN0aW9uQ29udGV4dE1lbnU6IG9uU2VsZWN0aW9uQ29udGV4dE1lbnUsIHByZXZlbnRTY3JvbGxpbmc6IHByZXZlbnRTY3JvbGxpbmcsIG5vRHJhZ0NsYXNzTmFtZTogbm9EcmFnQ2xhc3NOYW1lLCBub1doZWVsQ2xhc3NOYW1lOiBub1doZWVsQ2xhc3NOYW1lLCBub1BhbkNsYXNzTmFtZTogbm9QYW5DbGFzc05hbWUsIGRpc2FibGVLZXlib2FyZEExMXk6IGRpc2FibGVLZXlib2FyZEExMXkgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChWaWV3cG9ydCwgbnVsbCxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRWRnZVJlbmRlcmVyJDEsIHsgZWRnZVR5cGVzOiBlZGdlVHlwZXNXcmFwcGVkLCBvbkVkZ2VDbGljazogb25FZGdlQ2xpY2ssIG9uRWRnZURvdWJsZUNsaWNrOiBvbkVkZ2VEb3VibGVDbGljaywgb25FZGdlVXBkYXRlOiBvbkVkZ2VVcGRhdGUsIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHM6IG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMsIG9uRWRnZUNvbnRleHRNZW51OiBvbkVkZ2VDb250ZXh0TWVudSwgb25FZGdlTW91c2VFbnRlcjogb25FZGdlTW91c2VFbnRlciwgb25FZGdlTW91c2VNb3ZlOiBvbkVkZ2VNb3VzZU1vdmUsIG9uRWRnZU1vdXNlTGVhdmU6IG9uRWRnZU1vdXNlTGVhdmUsIG9uRWRnZVVwZGF0ZVN0YXJ0OiBvbkVkZ2VVcGRhdGVTdGFydCwgb25FZGdlVXBkYXRlRW5kOiBvbkVkZ2VVcGRhdGVFbmQsIGVkZ2VVcGRhdGVyUmFkaXVzOiBlZGdlVXBkYXRlclJhZGl1cywgZGVmYXVsdE1hcmtlckNvbG9yOiBkZWZhdWx0TWFya2VyQ29sb3IsIG5vUGFuQ2xhc3NOYW1lOiBub1BhbkNsYXNzTmFtZSwgZWxldmF0ZUVkZ2VzT25TZWxlY3Q6ICEhZWxldmF0ZUVkZ2VzT25TZWxlY3QsIGRpc2FibGVLZXlib2FyZEExMXk6IGRpc2FibGVLZXlib2FyZEExMXksIHJmSWQ6IHJmSWQgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbm5lY3Rpb25MaW5lV3JhcHBlciwgeyBzdHlsZTogY29ubmVjdGlvbkxpbmVTdHlsZSwgdHlwZTogY29ubmVjdGlvbkxpbmVUeXBlLCBjb21wb25lbnQ6IGNvbm5lY3Rpb25MaW5lQ29tcG9uZW50LCBjb250YWluZXJTdHlsZTogY29ubmVjdGlvbkxpbmVDb250YWluZXJTdHlsZSB9KSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2VkZ2VsYWJlbC1yZW5kZXJlclwiIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChOb2RlUmVuZGVyZXIkMSwgeyBub2RlVHlwZXM6IG5vZGVUeXBlc1dyYXBwZWQsIG9uTm9kZUNsaWNrOiBvbk5vZGVDbGljaywgb25Ob2RlRG91YmxlQ2xpY2s6IG9uTm9kZURvdWJsZUNsaWNrLCBvbk5vZGVNb3VzZUVudGVyOiBvbk5vZGVNb3VzZUVudGVyLCBvbk5vZGVNb3VzZU1vdmU6IG9uTm9kZU1vdXNlTW92ZSwgb25Ob2RlTW91c2VMZWF2ZTogb25Ob2RlTW91c2VMZWF2ZSwgb25Ob2RlQ29udGV4dE1lbnU6IG9uTm9kZUNvbnRleHRNZW51LCBzZWxlY3ROb2Rlc09uRHJhZzogc2VsZWN0Tm9kZXNPbkRyYWcsIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHM6IG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMsIG5vUGFuQ2xhc3NOYW1lOiBub1BhbkNsYXNzTmFtZSwgbm9EcmFnQ2xhc3NOYW1lOiBub0RyYWdDbGFzc05hbWUsIGRpc2FibGVLZXlib2FyZEExMXk6IGRpc2FibGVLZXlib2FyZEExMXksIG5vZGVPcmlnaW46IG5vZGVPcmlnaW4sIG5vZGVFeHRlbnQ6IG5vZGVFeHRlbnQsIHJmSWQ6IHJmSWQgfSkpKSk7XG59O1xuR3JhcGhWaWV3LmRpc3BsYXlOYW1lID0gJ0dyYXBoVmlldyc7XG52YXIgR3JhcGhWaWV3JDEgPSBtZW1vKEdyYXBoVmlldyk7XG5cbmNvbnN0IGluZmluaXRlRXh0ZW50ID0gW1xuICAgIFtOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5ORUdBVElWRV9JTkZJTklUWV0sXG4gICAgW051bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSxcbl07XG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgcmZJZDogJzEnLFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMCxcbiAgICB0cmFuc2Zvcm06IFswLCAwLCAxXSxcbiAgICBub2RlSW50ZXJuYWxzOiBuZXcgTWFwKCksXG4gICAgZWRnZXM6IFtdLFxuICAgIG9uTm9kZXNDaGFuZ2U6IG51bGwsXG4gICAgb25FZGdlc0NoYW5nZTogbnVsbCxcbiAgICBoYXNEZWZhdWx0Tm9kZXM6IGZhbHNlLFxuICAgIGhhc0RlZmF1bHRFZGdlczogZmFsc2UsXG4gICAgZDNab29tOiBudWxsLFxuICAgIGQzU2VsZWN0aW9uOiBudWxsLFxuICAgIGQzWm9vbUhhbmRsZXI6IHVuZGVmaW5lZCxcbiAgICBtaW5ab29tOiAwLjUsXG4gICAgbWF4Wm9vbTogMixcbiAgICB0cmFuc2xhdGVFeHRlbnQ6IGluZmluaXRlRXh0ZW50LFxuICAgIG5vZGVFeHRlbnQ6IGluZmluaXRlRXh0ZW50LFxuICAgIG5vZGVzU2VsZWN0aW9uQWN0aXZlOiBmYWxzZSxcbiAgICB1c2VyU2VsZWN0aW9uQWN0aXZlOiBmYWxzZSxcbiAgICB1c2VyU2VsZWN0aW9uUmVjdDogbnVsbCxcbiAgICBjb25uZWN0aW9uTm9kZUlkOiBudWxsLFxuICAgIGNvbm5lY3Rpb25IYW5kbGVJZDogbnVsbCxcbiAgICBjb25uZWN0aW9uSGFuZGxlVHlwZTogJ3NvdXJjZScsXG4gICAgY29ubmVjdGlvblBvc2l0aW9uOiB7IHg6IDAsIHk6IDAgfSxcbiAgICBjb25uZWN0aW9uU3RhdHVzOiBudWxsLFxuICAgIGNvbm5lY3Rpb25Nb2RlOiBDb25uZWN0aW9uTW9kZS5TdHJpY3QsXG4gICAgZG9tTm9kZTogbnVsbCxcbiAgICBwYW5lRHJhZ2dpbmc6IGZhbHNlLFxuICAgIG5vUGFuQ2xhc3NOYW1lOiAnbm9wYW4nLFxuICAgIG5vZGVPcmlnaW46IFswLCAwXSxcbiAgICBub2RlRHJhZ1RocmVzaG9sZDogMCxcbiAgICBzbmFwR3JpZDogWzE1LCAxNV0sXG4gICAgc25hcFRvR3JpZDogZmFsc2UsXG4gICAgbm9kZXNEcmFnZ2FibGU6IHRydWUsXG4gICAgbm9kZXNDb25uZWN0YWJsZTogdHJ1ZSxcbiAgICBub2Rlc0ZvY3VzYWJsZTogdHJ1ZSxcbiAgICBlZGdlc0ZvY3VzYWJsZTogdHJ1ZSxcbiAgICBlZGdlc1VwZGF0YWJsZTogdHJ1ZSxcbiAgICBlbGVtZW50c1NlbGVjdGFibGU6IHRydWUsXG4gICAgZWxldmF0ZU5vZGVzT25TZWxlY3Q6IHRydWUsXG4gICAgZml0Vmlld09uSW5pdDogZmFsc2UsXG4gICAgZml0Vmlld09uSW5pdERvbmU6IGZhbHNlLFxuICAgIGZpdFZpZXdPbkluaXRPcHRpb25zOiB1bmRlZmluZWQsXG4gICAgbXVsdGlTZWxlY3Rpb25BY3RpdmU6IGZhbHNlLFxuICAgIGNvbm5lY3Rpb25TdGFydEhhbmRsZTogbnVsbCxcbiAgICBjb25uZWN0aW9uRW5kSGFuZGxlOiBudWxsLFxuICAgIGNvbm5lY3Rpb25DbGlja1N0YXJ0SGFuZGxlOiBudWxsLFxuICAgIGNvbm5lY3RPbkNsaWNrOiB0cnVlLFxuICAgIGFyaWFMaXZlTWVzc2FnZTogJycsXG4gICAgYXV0b1Bhbk9uQ29ubmVjdDogdHJ1ZSxcbiAgICBhdXRvUGFuT25Ob2RlRHJhZzogdHJ1ZSxcbiAgICBjb25uZWN0aW9uUmFkaXVzOiAyMCxcbiAgICBvbkVycm9yOiBkZXZXYXJuLFxuICAgIGlzVmFsaWRDb25uZWN0aW9uOiB1bmRlZmluZWQsXG59O1xuXG5jb25zdCBjcmVhdGVSRlN0b3JlID0gKCkgPT4gY3JlYXRlV2l0aEVxdWFsaXR5Rm4oKHNldCwgZ2V0KSA9PiAoe1xuICAgIC4uLmluaXRpYWxTdGF0ZSxcbiAgICBzZXROb2RlczogKG5vZGVzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbm9kZUludGVybmFscywgbm9kZU9yaWdpbiwgZWxldmF0ZU5vZGVzT25TZWxlY3QgfSA9IGdldCgpO1xuICAgICAgICBzZXQoeyBub2RlSW50ZXJuYWxzOiBjcmVhdGVOb2RlSW50ZXJuYWxzKG5vZGVzLCBub2RlSW50ZXJuYWxzLCBub2RlT3JpZ2luLCBlbGV2YXRlTm9kZXNPblNlbGVjdCkgfSk7XG4gICAgfSxcbiAgICBnZXROb2RlczogKCkgPT4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShnZXQoKS5ub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcbiAgICB9LFxuICAgIHNldEVkZ2VzOiAoZWRnZXMpID0+IHtcbiAgICAgICAgY29uc3QgeyBkZWZhdWx0RWRnZU9wdGlvbnMgPSB7fSB9ID0gZ2V0KCk7XG4gICAgICAgIHNldCh7IGVkZ2VzOiBlZGdlcy5tYXAoKGUpID0+ICh7IC4uLmRlZmF1bHRFZGdlT3B0aW9ucywgLi4uZSB9KSkgfSk7XG4gICAgfSxcbiAgICBzZXREZWZhdWx0Tm9kZXNBbmRFZGdlczogKG5vZGVzLCBlZGdlcykgPT4ge1xuICAgICAgICBjb25zdCBoYXNEZWZhdWx0Tm9kZXMgPSB0eXBlb2Ygbm9kZXMgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICBjb25zdCBoYXNEZWZhdWx0RWRnZXMgPSB0eXBlb2YgZWRnZXMgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICBjb25zdCBub2RlSW50ZXJuYWxzID0gaGFzRGVmYXVsdE5vZGVzXG4gICAgICAgICAgICA/IGNyZWF0ZU5vZGVJbnRlcm5hbHMobm9kZXMsIG5ldyBNYXAoKSwgZ2V0KCkubm9kZU9yaWdpbiwgZ2V0KCkuZWxldmF0ZU5vZGVzT25TZWxlY3QpXG4gICAgICAgICAgICA6IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgbmV4dEVkZ2VzID0gaGFzRGVmYXVsdEVkZ2VzID8gZWRnZXMgOiBbXTtcbiAgICAgICAgc2V0KHsgbm9kZUludGVybmFscywgZWRnZXM6IG5leHRFZGdlcywgaGFzRGVmYXVsdE5vZGVzLCBoYXNEZWZhdWx0RWRnZXMgfSk7XG4gICAgfSxcbiAgICB1cGRhdGVOb2RlRGltZW5zaW9uczogKHVwZGF0ZXMpID0+IHtcbiAgICAgICAgY29uc3QgeyBvbk5vZGVzQ2hhbmdlLCBub2RlSW50ZXJuYWxzLCBmaXRWaWV3T25Jbml0LCBmaXRWaWV3T25Jbml0RG9uZSwgZml0Vmlld09uSW5pdE9wdGlvbnMsIGRvbU5vZGUsIG5vZGVPcmlnaW4sIH0gPSBnZXQoKTtcbiAgICAgICAgY29uc3Qgdmlld3BvcnROb2RlID0gZG9tTm9kZT8ucXVlcnlTZWxlY3RvcignLnJlYWN0LWZsb3dfX3ZpZXdwb3J0Jyk7XG4gICAgICAgIGlmICghdmlld3BvcnROb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh2aWV3cG9ydE5vZGUpO1xuICAgICAgICBjb25zdCB7IG0yMjogem9vbSB9ID0gbmV3IHdpbmRvdy5ET01NYXRyaXhSZWFkT25seShzdHlsZS50cmFuc2Zvcm0pO1xuICAgICAgICBjb25zdCBjaGFuZ2VzID0gdXBkYXRlcy5yZWR1Y2UoKHJlcywgdXBkYXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZUludGVybmFscy5nZXQodXBkYXRlLmlkKTtcbiAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IGdldERpbWVuc2lvbnModXBkYXRlLm5vZGVFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb1VwZGF0ZSA9ICEhKGRpbWVuc2lvbnMud2lkdGggJiZcbiAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucy5oZWlnaHQgJiZcbiAgICAgICAgICAgICAgICAgICAgKG5vZGUud2lkdGggIT09IGRpbWVuc2lvbnMud2lkdGggfHwgbm9kZS5oZWlnaHQgIT09IGRpbWVuc2lvbnMuaGVpZ2h0IHx8IHVwZGF0ZS5mb3JjZVVwZGF0ZSkpO1xuICAgICAgICAgICAgICAgIGlmIChkb1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzLnNldChub2RlLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5ub2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgW2ludGVybmFsc1N5bWJvbF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5ub2RlW2ludGVybmFsc1N5bWJvbF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQm91bmRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogZ2V0SGFuZGxlQm91bmRzKCcuc291cmNlJywgdXBkYXRlLm5vZGVFbGVtZW50LCB6b29tLCBub2RlT3JpZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBnZXRIYW5kbGVCb3VuZHMoJy50YXJnZXQnLCB1cGRhdGUubm9kZUVsZW1lbnQsIHpvb20sIG5vZGVPcmlnaW4pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBub2RlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpbWVuc2lvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICB1cGRhdGVBYnNvbHV0ZU5vZGVQb3NpdGlvbnMobm9kZUludGVybmFscywgbm9kZU9yaWdpbik7XG4gICAgICAgIGNvbnN0IG5leHRGaXRWaWV3T25Jbml0RG9uZSA9IGZpdFZpZXdPbkluaXREb25lIHx8XG4gICAgICAgICAgICAoZml0Vmlld09uSW5pdCAmJiAhZml0Vmlld09uSW5pdERvbmUgJiYgZml0VmlldyhnZXQsIHsgaW5pdGlhbDogdHJ1ZSwgLi4uZml0Vmlld09uSW5pdE9wdGlvbnMgfSkpO1xuICAgICAgICBzZXQoeyBub2RlSW50ZXJuYWxzOiBuZXcgTWFwKG5vZGVJbnRlcm5hbHMpLCBmaXRWaWV3T25Jbml0RG9uZTogbmV4dEZpdFZpZXdPbkluaXREb25lIH0pO1xuICAgICAgICBpZiAoY2hhbmdlcz8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgb25Ob2Rlc0NoYW5nZT8uKGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGVOb2RlUG9zaXRpb25zOiAobm9kZURyYWdJdGVtcywgcG9zaXRpb25DaGFuZ2VkID0gdHJ1ZSwgZHJhZ2dpbmcgPSBmYWxzZSkgPT4ge1xuICAgICAgICBjb25zdCB7IHRyaWdnZXJOb2RlQ2hhbmdlcyB9ID0gZ2V0KCk7XG4gICAgICAgIGNvbnN0IGNoYW5nZXMgPSBub2RlRHJhZ0l0ZW1zLm1hcCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhbmdlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBub2RlLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdwb3NpdGlvbicsXG4gICAgICAgICAgICAgICAgZHJhZ2dpbmcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGNoYW5nZS5wb3NpdGlvbkFic29sdXRlID0gbm9kZS5wb3NpdGlvbkFic29sdXRlO1xuICAgICAgICAgICAgICAgIGNoYW5nZS5wb3NpdGlvbiA9IG5vZGUucG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJpZ2dlck5vZGVDaGFuZ2VzKGNoYW5nZXMpO1xuICAgIH0sXG4gICAgdHJpZ2dlck5vZGVDaGFuZ2VzOiAoY2hhbmdlcykgPT4ge1xuICAgICAgICBjb25zdCB7IG9uTm9kZXNDaGFuZ2UsIG5vZGVJbnRlcm5hbHMsIGhhc0RlZmF1bHROb2Rlcywgbm9kZU9yaWdpbiwgZ2V0Tm9kZXMsIGVsZXZhdGVOb2Rlc09uU2VsZWN0IH0gPSBnZXQoKTtcbiAgICAgICAgaWYgKGNoYW5nZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gYXBwbHlOb2RlQ2hhbmdlcyhjaGFuZ2VzLCBnZXROb2RlcygpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Tm9kZUludGVybmFscyA9IGNyZWF0ZU5vZGVJbnRlcm5hbHMobm9kZXMsIG5vZGVJbnRlcm5hbHMsIG5vZGVPcmlnaW4sIGVsZXZhdGVOb2Rlc09uU2VsZWN0KTtcbiAgICAgICAgICAgICAgICBzZXQoeyBub2RlSW50ZXJuYWxzOiBuZXh0Tm9kZUludGVybmFscyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uTm9kZXNDaGFuZ2U/LihjaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkU2VsZWN0ZWROb2RlczogKHNlbGVjdGVkTm9kZUlkcykgPT4ge1xuICAgICAgICBjb25zdCB7IG11bHRpU2VsZWN0aW9uQWN0aXZlLCBlZGdlcywgZ2V0Tm9kZXMgfSA9IGdldCgpO1xuICAgICAgICBsZXQgY2hhbmdlZE5vZGVzO1xuICAgICAgICBsZXQgY2hhbmdlZEVkZ2VzID0gbnVsbDtcbiAgICAgICAgaWYgKG11bHRpU2VsZWN0aW9uQWN0aXZlKSB7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXMgPSBzZWxlY3RlZE5vZGVJZHMubWFwKChub2RlSWQpID0+IGNyZWF0ZVNlbGVjdGlvbkNoYW5nZShub2RlSWQsIHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWROb2RlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMoZ2V0Tm9kZXMoKSwgc2VsZWN0ZWROb2RlSWRzKTtcbiAgICAgICAgICAgIGNoYW5nZWRFZGdlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMoZWRnZXMsIFtdKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVOb2Rlc0FuZEVkZ2VzU2VsZWN0aW9ucyh7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXMsXG4gICAgICAgICAgICBjaGFuZ2VkRWRnZXMsXG4gICAgICAgICAgICBnZXQsXG4gICAgICAgICAgICBzZXQsXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYWRkU2VsZWN0ZWRFZGdlczogKHNlbGVjdGVkRWRnZUlkcykgPT4ge1xuICAgICAgICBjb25zdCB7IG11bHRpU2VsZWN0aW9uQWN0aXZlLCBlZGdlcywgZ2V0Tm9kZXMgfSA9IGdldCgpO1xuICAgICAgICBsZXQgY2hhbmdlZEVkZ2VzO1xuICAgICAgICBsZXQgY2hhbmdlZE5vZGVzID0gbnVsbDtcbiAgICAgICAgaWYgKG11bHRpU2VsZWN0aW9uQWN0aXZlKSB7XG4gICAgICAgICAgICBjaGFuZ2VkRWRnZXMgPSBzZWxlY3RlZEVkZ2VJZHMubWFwKChlZGdlSWQpID0+IGNyZWF0ZVNlbGVjdGlvbkNoYW5nZShlZGdlSWQsIHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWRFZGdlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMoZWRnZXMsIHNlbGVjdGVkRWRnZUlkcyk7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXMgPSBnZXRTZWxlY3Rpb25DaGFuZ2VzKGdldE5vZGVzKCksIFtdKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVOb2Rlc0FuZEVkZ2VzU2VsZWN0aW9ucyh7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXMsXG4gICAgICAgICAgICBjaGFuZ2VkRWRnZXMsXG4gICAgICAgICAgICBnZXQsXG4gICAgICAgICAgICBzZXQsXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5zZWxlY3ROb2Rlc0FuZEVkZ2VzOiAoeyBub2RlcywgZWRnZXMgfSA9IHt9KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZWRnZXM6IHN0b3JlRWRnZXMsIGdldE5vZGVzIH0gPSBnZXQoKTtcbiAgICAgICAgY29uc3Qgbm9kZXNUb1Vuc2VsZWN0ID0gbm9kZXMgPyBub2RlcyA6IGdldE5vZGVzKCk7XG4gICAgICAgIGNvbnN0IGVkZ2VzVG9VbnNlbGVjdCA9IGVkZ2VzID8gZWRnZXMgOiBzdG9yZUVkZ2VzO1xuICAgICAgICBjb25zdCBjaGFuZ2VkTm9kZXMgPSBub2Rlc1RvVW5zZWxlY3QubWFwKChuKSA9PiB7XG4gICAgICAgICAgICBuLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU2VsZWN0aW9uQ2hhbmdlKG4uaWQsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRFZGdlcyA9IGVkZ2VzVG9VbnNlbGVjdC5tYXAoKGVkZ2UpID0+IGNyZWF0ZVNlbGVjdGlvbkNoYW5nZShlZGdlLmlkLCBmYWxzZSkpO1xuICAgICAgICB1cGRhdGVOb2Rlc0FuZEVkZ2VzU2VsZWN0aW9ucyh7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXMsXG4gICAgICAgICAgICBjaGFuZ2VkRWRnZXMsXG4gICAgICAgICAgICBnZXQsXG4gICAgICAgICAgICBzZXQsXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0TWluWm9vbTogKG1pblpvb20pID0+IHtcbiAgICAgICAgY29uc3QgeyBkM1pvb20sIG1heFpvb20gfSA9IGdldCgpO1xuICAgICAgICBkM1pvb20/LnNjYWxlRXh0ZW50KFttaW5ab29tLCBtYXhab29tXSk7XG4gICAgICAgIHNldCh7IG1pblpvb20gfSk7XG4gICAgfSxcbiAgICBzZXRNYXhab29tOiAobWF4Wm9vbSkgPT4ge1xuICAgICAgICBjb25zdCB7IGQzWm9vbSwgbWluWm9vbSB9ID0gZ2V0KCk7XG4gICAgICAgIGQzWm9vbT8uc2NhbGVFeHRlbnQoW21pblpvb20sIG1heFpvb21dKTtcbiAgICAgICAgc2V0KHsgbWF4Wm9vbSB9KTtcbiAgICB9LFxuICAgIHNldFRyYW5zbGF0ZUV4dGVudDogKHRyYW5zbGF0ZUV4dGVudCkgPT4ge1xuICAgICAgICBnZXQoKS5kM1pvb20/LnRyYW5zbGF0ZUV4dGVudCh0cmFuc2xhdGVFeHRlbnQpO1xuICAgICAgICBzZXQoeyB0cmFuc2xhdGVFeHRlbnQgfSk7XG4gICAgfSxcbiAgICByZXNldFNlbGVjdGVkRWxlbWVudHM6ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBlZGdlcywgZ2V0Tm9kZXMgfSA9IGdldCgpO1xuICAgICAgICBjb25zdCBub2RlcyA9IGdldE5vZGVzKCk7XG4gICAgICAgIGNvbnN0IG5vZGVzVG9VbnNlbGVjdCA9IG5vZGVzXG4gICAgICAgICAgICAuZmlsdGVyKChlKSA9PiBlLnNlbGVjdGVkKVxuICAgICAgICAgICAgLm1hcCgobikgPT4gY3JlYXRlU2VsZWN0aW9uQ2hhbmdlKG4uaWQsIGZhbHNlKSk7XG4gICAgICAgIGNvbnN0IGVkZ2VzVG9VbnNlbGVjdCA9IGVkZ2VzXG4gICAgICAgICAgICAuZmlsdGVyKChlKSA9PiBlLnNlbGVjdGVkKVxuICAgICAgICAgICAgLm1hcCgoZSkgPT4gY3JlYXRlU2VsZWN0aW9uQ2hhbmdlKGUuaWQsIGZhbHNlKSk7XG4gICAgICAgIHVwZGF0ZU5vZGVzQW5kRWRnZXNTZWxlY3Rpb25zKHtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlczogbm9kZXNUb1Vuc2VsZWN0LFxuICAgICAgICAgICAgY2hhbmdlZEVkZ2VzOiBlZGdlc1RvVW5zZWxlY3QsXG4gICAgICAgICAgICBnZXQsXG4gICAgICAgICAgICBzZXQsXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2V0Tm9kZUV4dGVudDogKG5vZGVFeHRlbnQpID0+IHtcbiAgICAgICAgY29uc3QgeyBub2RlSW50ZXJuYWxzIH0gPSBnZXQoKTtcbiAgICAgICAgbm9kZUludGVybmFscy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBub2RlLnBvc2l0aW9uQWJzb2x1dGUgPSBjbGFtcFBvc2l0aW9uKG5vZGUucG9zaXRpb24sIG5vZGVFeHRlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0KHtcbiAgICAgICAgICAgIG5vZGVFeHRlbnQsXG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzOiBuZXcgTWFwKG5vZGVJbnRlcm5hbHMpLFxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHBhbkJ5OiAoZGVsdGEpID0+IHtcbiAgICAgICAgY29uc3QgeyB0cmFuc2Zvcm0sIHdpZHRoLCBoZWlnaHQsIGQzWm9vbSwgZDNTZWxlY3Rpb24sIHRyYW5zbGF0ZUV4dGVudCB9ID0gZ2V0KCk7XG4gICAgICAgIGlmICghZDNab29tIHx8ICFkM1NlbGVjdGlvbiB8fCAoIWRlbHRhLnggJiYgIWRlbHRhLnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dFRyYW5zZm9ybSA9IHpvb21JZGVudGl0eVxuICAgICAgICAgICAgLnRyYW5zbGF0ZSh0cmFuc2Zvcm1bMF0gKyBkZWx0YS54LCB0cmFuc2Zvcm1bMV0gKyBkZWx0YS55KVxuICAgICAgICAgICAgLnNjYWxlKHRyYW5zZm9ybVsyXSk7XG4gICAgICAgIGNvbnN0IGV4dGVudCA9IFtcbiAgICAgICAgICAgIFswLCAwXSxcbiAgICAgICAgICAgIFt3aWR0aCwgaGVpZ2h0XSxcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgY29uc3RyYWluZWRUcmFuc2Zvcm0gPSBkM1pvb20/LmNvbnN0cmFpbigpKG5leHRUcmFuc2Zvcm0sIGV4dGVudCwgdHJhbnNsYXRlRXh0ZW50KTtcbiAgICAgICAgZDNab29tLnRyYW5zZm9ybShkM1NlbGVjdGlvbiwgY29uc3RyYWluZWRUcmFuc2Zvcm0pO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1DaGFuZ2VkID0gdHJhbnNmb3JtWzBdICE9PSBjb25zdHJhaW5lZFRyYW5zZm9ybS54IHx8XG4gICAgICAgICAgICB0cmFuc2Zvcm1bMV0gIT09IGNvbnN0cmFpbmVkVHJhbnNmb3JtLnkgfHxcbiAgICAgICAgICAgIHRyYW5zZm9ybVsyXSAhPT0gY29uc3RyYWluZWRUcmFuc2Zvcm0uaztcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNoYW5nZWQ7XG4gICAgfSxcbiAgICBjYW5jZWxDb25uZWN0aW9uOiAoKSA9PiBzZXQoe1xuICAgICAgICBjb25uZWN0aW9uTm9kZUlkOiBpbml0aWFsU3RhdGUuY29ubmVjdGlvbk5vZGVJZCxcbiAgICAgICAgY29ubmVjdGlvbkhhbmRsZUlkOiBpbml0aWFsU3RhdGUuY29ubmVjdGlvbkhhbmRsZUlkLFxuICAgICAgICBjb25uZWN0aW9uSGFuZGxlVHlwZTogaW5pdGlhbFN0YXRlLmNvbm5lY3Rpb25IYW5kbGVUeXBlLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiBpbml0aWFsU3RhdGUuY29ubmVjdGlvblN0YXR1cyxcbiAgICAgICAgY29ubmVjdGlvblN0YXJ0SGFuZGxlOiBpbml0aWFsU3RhdGUuY29ubmVjdGlvblN0YXJ0SGFuZGxlLFxuICAgICAgICBjb25uZWN0aW9uRW5kSGFuZGxlOiBpbml0aWFsU3RhdGUuY29ubmVjdGlvbkVuZEhhbmRsZSxcbiAgICB9KSxcbiAgICByZXNldDogKCkgPT4gc2V0KHsgLi4uaW5pdGlhbFN0YXRlIH0pLFxufSksIE9iamVjdC5pcyk7XG5cbmNvbnN0IFJlYWN0Rmxvd1Byb3ZpZGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICAgIGNvbnN0IHN0b3JlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGlmICghc3RvcmVSZWYuY3VycmVudCkge1xuICAgICAgICBzdG9yZVJlZi5jdXJyZW50ID0gY3JlYXRlUkZTdG9yZSgpO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQcm92aWRlciQxLCB7IHZhbHVlOiBzdG9yZVJlZi5jdXJyZW50IH0sIGNoaWxkcmVuKTtcbn07XG5SZWFjdEZsb3dQcm92aWRlci5kaXNwbGF5TmFtZSA9ICdSZWFjdEZsb3dQcm92aWRlcic7XG5cbmNvbnN0IFdyYXBwZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gICAgY29uc3QgaXNXcmFwcGVkID0gdXNlQ29udGV4dChTdG9yZUNvbnRleHQpO1xuICAgIGlmIChpc1dyYXBwZWQpIHtcbiAgICAgICAgLy8gd2UgbmVlZCB0byB3cmFwIGl0IHdpdGggYSBmcmFnbWVudCBiZWNhdXNlIGl0J3Mgbm90IGFsbG93ZWQgZm9yIGNoaWxkcmVuIHRvIGJlIGEgUmVhY3ROb2RlXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EZWZpbml0ZWx5VHlwZWQvRGVmaW5pdGVseVR5cGVkL2lzc3Vlcy8xODA1MVxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdEZsb3dQcm92aWRlciwgbnVsbCwgY2hpbGRyZW4pO1xufTtcbldyYXBwZXIuZGlzcGxheU5hbWUgPSAnUmVhY3RGbG93V3JhcHBlcic7XG5cbmNvbnN0IGRlZmF1bHROb2RlVHlwZXMgPSB7XG4gICAgaW5wdXQ6IElucHV0Tm9kZSQxLFxuICAgIGRlZmF1bHQ6IERlZmF1bHROb2RlJDEsXG4gICAgb3V0cHV0OiBPdXRwdXROb2RlJDEsXG4gICAgZ3JvdXA6IEdyb3VwTm9kZSxcbn07XG5jb25zdCBkZWZhdWx0RWRnZVR5cGVzID0ge1xuICAgIGRlZmF1bHQ6IEJlemllckVkZ2UsXG4gICAgc3RyYWlnaHQ6IFN0cmFpZ2h0RWRnZSxcbiAgICBzdGVwOiBTdGVwRWRnZSxcbiAgICBzbW9vdGhzdGVwOiBTbW9vdGhTdGVwRWRnZSxcbiAgICBzaW1wbGViZXppZXI6IFNpbXBsZUJlemllckVkZ2UsXG59O1xuY29uc3QgaW5pdE5vZGVPcmlnaW4gPSBbMCwgMF07XG5jb25zdCBpbml0U25hcEdyaWQgPSBbMTUsIDE1XTtcbmNvbnN0IGluaXREZWZhdWx0Vmlld3BvcnQgPSB7IHg6IDAsIHk6IDAsIHpvb206IDEgfTtcbmNvbnN0IHdyYXBwZXJTdHlsZSA9IHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB6SW5kZXg6IDAsXG59O1xuY29uc3QgUmVhY3RGbG93ID0gZm9yd2FyZFJlZigoeyBub2RlcywgZWRnZXMsIGRlZmF1bHROb2RlcywgZGVmYXVsdEVkZ2VzLCBjbGFzc05hbWUsIG5vZGVUeXBlcyA9IGRlZmF1bHROb2RlVHlwZXMsIGVkZ2VUeXBlcyA9IGRlZmF1bHRFZGdlVHlwZXMsIG9uTm9kZUNsaWNrLCBvbkVkZ2VDbGljaywgb25Jbml0LCBvbk1vdmUsIG9uTW92ZVN0YXJ0LCBvbk1vdmVFbmQsIG9uQ29ubmVjdCwgb25Db25uZWN0U3RhcnQsIG9uQ29ubmVjdEVuZCwgb25DbGlja0Nvbm5lY3RTdGFydCwgb25DbGlja0Nvbm5lY3RFbmQsIG9uTm9kZU1vdXNlRW50ZXIsIG9uTm9kZU1vdXNlTW92ZSwgb25Ob2RlTW91c2VMZWF2ZSwgb25Ob2RlQ29udGV4dE1lbnUsIG9uTm9kZURvdWJsZUNsaWNrLCBvbk5vZGVEcmFnU3RhcnQsIG9uTm9kZURyYWcsIG9uTm9kZURyYWdTdG9wLCBvbk5vZGVzRGVsZXRlLCBvbkVkZ2VzRGVsZXRlLCBvblNlbGVjdGlvbkNoYW5nZSwgb25TZWxlY3Rpb25EcmFnU3RhcnQsIG9uU2VsZWN0aW9uRHJhZywgb25TZWxlY3Rpb25EcmFnU3RvcCwgb25TZWxlY3Rpb25Db250ZXh0TWVudSwgb25TZWxlY3Rpb25TdGFydCwgb25TZWxlY3Rpb25FbmQsIGNvbm5lY3Rpb25Nb2RlID0gQ29ubmVjdGlvbk1vZGUuU3RyaWN0LCBjb25uZWN0aW9uTGluZVR5cGUgPSBDb25uZWN0aW9uTGluZVR5cGUuQmV6aWVyLCBjb25uZWN0aW9uTGluZVN0eWxlLCBjb25uZWN0aW9uTGluZUNvbXBvbmVudCwgY29ubmVjdGlvbkxpbmVDb250YWluZXJTdHlsZSwgZGVsZXRlS2V5Q29kZSA9ICdCYWNrc3BhY2UnLCBzZWxlY3Rpb25LZXlDb2RlID0gJ1NoaWZ0Jywgc2VsZWN0aW9uT25EcmFnID0gZmFsc2UsIHNlbGVjdGlvbk1vZGUgPSBTZWxlY3Rpb25Nb2RlLkZ1bGwsIHBhbkFjdGl2YXRpb25LZXlDb2RlID0gJ1NwYWNlJywgbXVsdGlTZWxlY3Rpb25LZXlDb2RlID0gaXNNYWNPcygpID8gJ01ldGEnIDogJ0NvbnRyb2wnLCB6b29tQWN0aXZhdGlvbktleUNvZGUgPSBpc01hY09zKCkgPyAnTWV0YScgOiAnQ29udHJvbCcsIHNuYXBUb0dyaWQgPSBmYWxzZSwgc25hcEdyaWQgPSBpbml0U25hcEdyaWQsIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMgPSBmYWxzZSwgc2VsZWN0Tm9kZXNPbkRyYWcgPSB0cnVlLCBub2Rlc0RyYWdnYWJsZSwgbm9kZXNDb25uZWN0YWJsZSwgbm9kZXNGb2N1c2FibGUsIG5vZGVPcmlnaW4gPSBpbml0Tm9kZU9yaWdpbiwgZWRnZXNGb2N1c2FibGUsIGVkZ2VzVXBkYXRhYmxlLCBlbGVtZW50c1NlbGVjdGFibGUsIGRlZmF1bHRWaWV3cG9ydCA9IGluaXREZWZhdWx0Vmlld3BvcnQsIG1pblpvb20gPSAwLjUsIG1heFpvb20gPSAyLCB0cmFuc2xhdGVFeHRlbnQgPSBpbmZpbml0ZUV4dGVudCwgcHJldmVudFNjcm9sbGluZyA9IHRydWUsIG5vZGVFeHRlbnQsIGRlZmF1bHRNYXJrZXJDb2xvciA9ICcjYjFiMWI3Jywgem9vbU9uU2Nyb2xsID0gdHJ1ZSwgem9vbU9uUGluY2ggPSB0cnVlLCBwYW5PblNjcm9sbCA9IGZhbHNlLCBwYW5PblNjcm9sbFNwZWVkID0gMC41LCBwYW5PblNjcm9sbE1vZGUgPSBQYW5PblNjcm9sbE1vZGUuRnJlZSwgem9vbU9uRG91YmxlQ2xpY2sgPSB0cnVlLCBwYW5PbkRyYWcgPSB0cnVlLCBvblBhbmVDbGljaywgb25QYW5lTW91c2VFbnRlciwgb25QYW5lTW91c2VNb3ZlLCBvblBhbmVNb3VzZUxlYXZlLCBvblBhbmVTY3JvbGwsIG9uUGFuZUNvbnRleHRNZW51LCBjaGlsZHJlbiwgb25FZGdlVXBkYXRlLCBvbkVkZ2VDb250ZXh0TWVudSwgb25FZGdlRG91YmxlQ2xpY2ssIG9uRWRnZU1vdXNlRW50ZXIsIG9uRWRnZU1vdXNlTW92ZSwgb25FZGdlTW91c2VMZWF2ZSwgb25FZGdlVXBkYXRlU3RhcnQsIG9uRWRnZVVwZGF0ZUVuZCwgZWRnZVVwZGF0ZXJSYWRpdXMgPSAxMCwgb25Ob2Rlc0NoYW5nZSwgb25FZGdlc0NoYW5nZSwgbm9EcmFnQ2xhc3NOYW1lID0gJ25vZHJhZycsIG5vV2hlZWxDbGFzc05hbWUgPSAnbm93aGVlbCcsIG5vUGFuQ2xhc3NOYW1lID0gJ25vcGFuJywgZml0VmlldyA9IGZhbHNlLCBmaXRWaWV3T3B0aW9ucywgY29ubmVjdE9uQ2xpY2sgPSB0cnVlLCBhdHRyaWJ1dGlvblBvc2l0aW9uLCBwcm9PcHRpb25zLCBkZWZhdWx0RWRnZU9wdGlvbnMsIGVsZXZhdGVOb2Rlc09uU2VsZWN0ID0gdHJ1ZSwgZWxldmF0ZUVkZ2VzT25TZWxlY3QgPSBmYWxzZSwgZGlzYWJsZUtleWJvYXJkQTExeSA9IGZhbHNlLCBhdXRvUGFuT25Db25uZWN0ID0gdHJ1ZSwgYXV0b1Bhbk9uTm9kZURyYWcgPSB0cnVlLCBjb25uZWN0aW9uUmFkaXVzID0gMjAsIGlzVmFsaWRDb25uZWN0aW9uLCBvbkVycm9yLCBzdHlsZSwgaWQsIG5vZGVEcmFnVGhyZXNob2xkLCAuLi5yZXN0IH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IHJmSWQgPSBpZCB8fCAnMSc7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgLi4ucmVzdCwgc3R5bGU6IHsgLi4uc3R5bGUsIC4uLndyYXBwZXJTdHlsZSB9LCByZWY6IHJlZiwgY2xhc3NOYW1lOiBjYyhbJ3JlYWN0LWZsb3cnLCBjbGFzc05hbWVdKSwgXCJkYXRhLXRlc3RpZFwiOiBcInJmX193cmFwcGVyXCIsIGlkOiBpZCB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIG51bGwsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEdyYXBoVmlldyQxLCB7IG9uSW5pdDogb25Jbml0LCBvbk1vdmU6IG9uTW92ZSwgb25Nb3ZlU3RhcnQ6IG9uTW92ZVN0YXJ0LCBvbk1vdmVFbmQ6IG9uTW92ZUVuZCwgb25Ob2RlQ2xpY2s6IG9uTm9kZUNsaWNrLCBvbkVkZ2VDbGljazogb25FZGdlQ2xpY2ssIG9uTm9kZU1vdXNlRW50ZXI6IG9uTm9kZU1vdXNlRW50ZXIsIG9uTm9kZU1vdXNlTW92ZTogb25Ob2RlTW91c2VNb3ZlLCBvbk5vZGVNb3VzZUxlYXZlOiBvbk5vZGVNb3VzZUxlYXZlLCBvbk5vZGVDb250ZXh0TWVudTogb25Ob2RlQ29udGV4dE1lbnUsIG9uTm9kZURvdWJsZUNsaWNrOiBvbk5vZGVEb3VibGVDbGljaywgbm9kZVR5cGVzOiBub2RlVHlwZXMsIGVkZ2VUeXBlczogZWRnZVR5cGVzLCBjb25uZWN0aW9uTGluZVR5cGU6IGNvbm5lY3Rpb25MaW5lVHlwZSwgY29ubmVjdGlvbkxpbmVTdHlsZTogY29ubmVjdGlvbkxpbmVTdHlsZSwgY29ubmVjdGlvbkxpbmVDb21wb25lbnQ6IGNvbm5lY3Rpb25MaW5lQ29tcG9uZW50LCBjb25uZWN0aW9uTGluZUNvbnRhaW5lclN0eWxlOiBjb25uZWN0aW9uTGluZUNvbnRhaW5lclN0eWxlLCBzZWxlY3Rpb25LZXlDb2RlOiBzZWxlY3Rpb25LZXlDb2RlLCBzZWxlY3Rpb25PbkRyYWc6IHNlbGVjdGlvbk9uRHJhZywgc2VsZWN0aW9uTW9kZTogc2VsZWN0aW9uTW9kZSwgZGVsZXRlS2V5Q29kZTogZGVsZXRlS2V5Q29kZSwgbXVsdGlTZWxlY3Rpb25LZXlDb2RlOiBtdWx0aVNlbGVjdGlvbktleUNvZGUsIHBhbkFjdGl2YXRpb25LZXlDb2RlOiBwYW5BY3RpdmF0aW9uS2V5Q29kZSwgem9vbUFjdGl2YXRpb25LZXlDb2RlOiB6b29tQWN0aXZhdGlvbktleUNvZGUsIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHM6IG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMsIHNlbGVjdE5vZGVzT25EcmFnOiBzZWxlY3ROb2Rlc09uRHJhZywgZGVmYXVsdFZpZXdwb3J0OiBkZWZhdWx0Vmlld3BvcnQsIHRyYW5zbGF0ZUV4dGVudDogdHJhbnNsYXRlRXh0ZW50LCBtaW5ab29tOiBtaW5ab29tLCBtYXhab29tOiBtYXhab29tLCBwcmV2ZW50U2Nyb2xsaW5nOiBwcmV2ZW50U2Nyb2xsaW5nLCB6b29tT25TY3JvbGw6IHpvb21PblNjcm9sbCwgem9vbU9uUGluY2g6IHpvb21PblBpbmNoLCB6b29tT25Eb3VibGVDbGljazogem9vbU9uRG91YmxlQ2xpY2ssIHBhbk9uU2Nyb2xsOiBwYW5PblNjcm9sbCwgcGFuT25TY3JvbGxTcGVlZDogcGFuT25TY3JvbGxTcGVlZCwgcGFuT25TY3JvbGxNb2RlOiBwYW5PblNjcm9sbE1vZGUsIHBhbk9uRHJhZzogcGFuT25EcmFnLCBvblBhbmVDbGljazogb25QYW5lQ2xpY2ssIG9uUGFuZU1vdXNlRW50ZXI6IG9uUGFuZU1vdXNlRW50ZXIsIG9uUGFuZU1vdXNlTW92ZTogb25QYW5lTW91c2VNb3ZlLCBvblBhbmVNb3VzZUxlYXZlOiBvblBhbmVNb3VzZUxlYXZlLCBvblBhbmVTY3JvbGw6IG9uUGFuZVNjcm9sbCwgb25QYW5lQ29udGV4dE1lbnU6IG9uUGFuZUNvbnRleHRNZW51LCBvblNlbGVjdGlvbkNvbnRleHRNZW51OiBvblNlbGVjdGlvbkNvbnRleHRNZW51LCBvblNlbGVjdGlvblN0YXJ0OiBvblNlbGVjdGlvblN0YXJ0LCBvblNlbGVjdGlvbkVuZDogb25TZWxlY3Rpb25FbmQsIG9uRWRnZVVwZGF0ZTogb25FZGdlVXBkYXRlLCBvbkVkZ2VDb250ZXh0TWVudTogb25FZGdlQ29udGV4dE1lbnUsIG9uRWRnZURvdWJsZUNsaWNrOiBvbkVkZ2VEb3VibGVDbGljaywgb25FZGdlTW91c2VFbnRlcjogb25FZGdlTW91c2VFbnRlciwgb25FZGdlTW91c2VNb3ZlOiBvbkVkZ2VNb3VzZU1vdmUsIG9uRWRnZU1vdXNlTGVhdmU6IG9uRWRnZU1vdXNlTGVhdmUsIG9uRWRnZVVwZGF0ZVN0YXJ0OiBvbkVkZ2VVcGRhdGVTdGFydCwgb25FZGdlVXBkYXRlRW5kOiBvbkVkZ2VVcGRhdGVFbmQsIGVkZ2VVcGRhdGVyUmFkaXVzOiBlZGdlVXBkYXRlclJhZGl1cywgZGVmYXVsdE1hcmtlckNvbG9yOiBkZWZhdWx0TWFya2VyQ29sb3IsIG5vRHJhZ0NsYXNzTmFtZTogbm9EcmFnQ2xhc3NOYW1lLCBub1doZWVsQ2xhc3NOYW1lOiBub1doZWVsQ2xhc3NOYW1lLCBub1BhbkNsYXNzTmFtZTogbm9QYW5DbGFzc05hbWUsIGVsZXZhdGVFZGdlc09uU2VsZWN0OiBlbGV2YXRlRWRnZXNPblNlbGVjdCwgcmZJZDogcmZJZCwgZGlzYWJsZUtleWJvYXJkQTExeTogZGlzYWJsZUtleWJvYXJkQTExeSwgbm9kZU9yaWdpbjogbm9kZU9yaWdpbiwgbm9kZUV4dGVudDogbm9kZUV4dGVudCB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RvcmVVcGRhdGVyLCB7IG5vZGVzOiBub2RlcywgZWRnZXM6IGVkZ2VzLCBkZWZhdWx0Tm9kZXM6IGRlZmF1bHROb2RlcywgZGVmYXVsdEVkZ2VzOiBkZWZhdWx0RWRnZXMsIG9uQ29ubmVjdDogb25Db25uZWN0LCBvbkNvbm5lY3RTdGFydDogb25Db25uZWN0U3RhcnQsIG9uQ29ubmVjdEVuZDogb25Db25uZWN0RW5kLCBvbkNsaWNrQ29ubmVjdFN0YXJ0OiBvbkNsaWNrQ29ubmVjdFN0YXJ0LCBvbkNsaWNrQ29ubmVjdEVuZDogb25DbGlja0Nvbm5lY3RFbmQsIG5vZGVzRHJhZ2dhYmxlOiBub2Rlc0RyYWdnYWJsZSwgbm9kZXNDb25uZWN0YWJsZTogbm9kZXNDb25uZWN0YWJsZSwgbm9kZXNGb2N1c2FibGU6IG5vZGVzRm9jdXNhYmxlLCBlZGdlc0ZvY3VzYWJsZTogZWRnZXNGb2N1c2FibGUsIGVkZ2VzVXBkYXRhYmxlOiBlZGdlc1VwZGF0YWJsZSwgZWxlbWVudHNTZWxlY3RhYmxlOiBlbGVtZW50c1NlbGVjdGFibGUsIGVsZXZhdGVOb2Rlc09uU2VsZWN0OiBlbGV2YXRlTm9kZXNPblNlbGVjdCwgbWluWm9vbTogbWluWm9vbSwgbWF4Wm9vbTogbWF4Wm9vbSwgbm9kZUV4dGVudDogbm9kZUV4dGVudCwgb25Ob2Rlc0NoYW5nZTogb25Ob2Rlc0NoYW5nZSwgb25FZGdlc0NoYW5nZTogb25FZGdlc0NoYW5nZSwgc25hcFRvR3JpZDogc25hcFRvR3JpZCwgc25hcEdyaWQ6IHNuYXBHcmlkLCBjb25uZWN0aW9uTW9kZTogY29ubmVjdGlvbk1vZGUsIHRyYW5zbGF0ZUV4dGVudDogdHJhbnNsYXRlRXh0ZW50LCBjb25uZWN0T25DbGljazogY29ubmVjdE9uQ2xpY2ssIGRlZmF1bHRFZGdlT3B0aW9uczogZGVmYXVsdEVkZ2VPcHRpb25zLCBmaXRWaWV3OiBmaXRWaWV3LCBmaXRWaWV3T3B0aW9uczogZml0Vmlld09wdGlvbnMsIG9uTm9kZXNEZWxldGU6IG9uTm9kZXNEZWxldGUsIG9uRWRnZXNEZWxldGU6IG9uRWRnZXNEZWxldGUsIG9uTm9kZURyYWdTdGFydDogb25Ob2RlRHJhZ1N0YXJ0LCBvbk5vZGVEcmFnOiBvbk5vZGVEcmFnLCBvbk5vZGVEcmFnU3RvcDogb25Ob2RlRHJhZ1N0b3AsIG9uU2VsZWN0aW9uRHJhZzogb25TZWxlY3Rpb25EcmFnLCBvblNlbGVjdGlvbkRyYWdTdGFydDogb25TZWxlY3Rpb25EcmFnU3RhcnQsIG9uU2VsZWN0aW9uRHJhZ1N0b3A6IG9uU2VsZWN0aW9uRHJhZ1N0b3AsIG5vUGFuQ2xhc3NOYW1lOiBub1BhbkNsYXNzTmFtZSwgbm9kZU9yaWdpbjogbm9kZU9yaWdpbiwgcmZJZDogcmZJZCwgYXV0b1Bhbk9uQ29ubmVjdDogYXV0b1Bhbk9uQ29ubmVjdCwgYXV0b1Bhbk9uTm9kZURyYWc6IGF1dG9QYW5Pbk5vZGVEcmFnLCBvbkVycm9yOiBvbkVycm9yLCBjb25uZWN0aW9uUmFkaXVzOiBjb25uZWN0aW9uUmFkaXVzLCBpc1ZhbGlkQ29ubmVjdGlvbjogaXNWYWxpZENvbm5lY3Rpb24sIG5vZGVEcmFnVGhyZXNob2xkOiBub2RlRHJhZ1RocmVzaG9sZCB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlciQxLCB7IG9uU2VsZWN0aW9uQ2hhbmdlOiBvblNlbGVjdGlvbkNoYW5nZSB9KSxcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChBdHRyaWJ1dGlvbiwgeyBwcm9PcHRpb25zOiBwcm9PcHRpb25zLCBwb3NpdGlvbjogYXR0cmlidXRpb25Qb3NpdGlvbiB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQTExeURlc2NyaXB0aW9ucywgeyByZklkOiByZklkLCBkaXNhYmxlS2V5Ym9hcmRBMTF5OiBkaXNhYmxlS2V5Ym9hcmRBMTF5IH0pKSkpO1xufSk7XG5SZWFjdEZsb3cuZGlzcGxheU5hbWUgPSAnUmVhY3RGbG93JztcblxuY29uc3Qgc2VsZWN0b3IkMSA9IChzKSA9PiBzLmRvbU5vZGU/LnF1ZXJ5U2VsZWN0b3IoJy5yZWFjdC1mbG93X19lZGdlbGFiZWwtcmVuZGVyZXInKTtcbmZ1bmN0aW9uIEVkZ2VMYWJlbFJlbmRlcmVyKHsgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IGVkZ2VMYWJlbFJlbmRlcmVyID0gdXNlU3RvcmUoc2VsZWN0b3IkMSk7XG4gICAgaWYgKCFlZGdlTGFiZWxSZW5kZXJlcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgZWRnZUxhYmVsUmVuZGVyZXIpO1xufVxuXG5mdW5jdGlvbiB1c2VVcGRhdGVOb2RlSW50ZXJuYWxzKCkge1xuICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcbiAgICByZXR1cm4gdXNlQ2FsbGJhY2soKGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZG9tTm9kZSwgdXBkYXRlTm9kZURpbWVuc2lvbnMgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUlkcyA9IEFycmF5LmlzQXJyYXkoaWQpID8gaWQgOiBbaWRdO1xuICAgICAgICBjb25zdCB1cGRhdGVzID0gdXBkYXRlSWRzLnJlZHVjZSgocmVzLCB1cGRhdGVJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm9kZUVsZW1lbnQgPSBkb21Ob2RlPy5xdWVyeVNlbGVjdG9yKGAucmVhY3QtZmxvd19fbm9kZVtkYXRhLWlkPVwiJHt1cGRhdGVJZH1cIl1gKTtcbiAgICAgICAgICAgIGlmIChub2RlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHsgaWQ6IHVwZGF0ZUlkLCBub2RlRWxlbWVudCwgZm9yY2VVcGRhdGU6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB1cGRhdGVOb2RlRGltZW5zaW9ucyh1cGRhdGVzKSk7XG4gICAgfSwgW10pO1xufVxuXG5jb25zdCBub2Rlc1NlbGVjdG9yID0gKHN0YXRlKSA9PiBzdGF0ZS5nZXROb2RlcygpO1xuZnVuY3Rpb24gdXNlTm9kZXMoKSB7XG4gICAgY29uc3Qgbm9kZXMgPSB1c2VTdG9yZShub2Rlc1NlbGVjdG9yLCBzaGFsbG93KTtcbiAgICByZXR1cm4gbm9kZXM7XG59XG5cbmNvbnN0IGVkZ2VzU2VsZWN0b3IgPSAoc3RhdGUpID0+IHN0YXRlLmVkZ2VzO1xuZnVuY3Rpb24gdXNlRWRnZXMoKSB7XG4gICAgY29uc3QgZWRnZXMgPSB1c2VTdG9yZShlZGdlc1NlbGVjdG9yLCBzaGFsbG93KTtcbiAgICByZXR1cm4gZWRnZXM7XG59XG5cbmNvbnN0IHZpZXdwb3J0U2VsZWN0b3IgPSAoc3RhdGUpID0+ICh7XG4gICAgeDogc3RhdGUudHJhbnNmb3JtWzBdLFxuICAgIHk6IHN0YXRlLnRyYW5zZm9ybVsxXSxcbiAgICB6b29tOiBzdGF0ZS50cmFuc2Zvcm1bMl0sXG59KTtcbmZ1bmN0aW9uIHVzZVZpZXdwb3J0KCkge1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gdXNlU3RvcmUodmlld3BvcnRTZWxlY3Rvciwgc2hhbGxvdyk7XG4gICAgcmV0dXJuIHZpZXdwb3J0O1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5mdW5jdGlvbiBjcmVhdGVVc2VJdGVtc1N0YXRlKGFwcGx5Q2hhbmdlcykge1xuICAgIHJldHVybiAoaW5pdGlhbEl0ZW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IFtpdGVtcywgc2V0SXRlbXNdID0gdXNlU3RhdGUoaW5pdGlhbEl0ZW1zKTtcbiAgICAgICAgY29uc3Qgb25JdGVtc0NoYW5nZSA9IHVzZUNhbGxiYWNrKChjaGFuZ2VzKSA9PiBzZXRJdGVtcygoaXRlbXMpID0+IGFwcGx5Q2hhbmdlcyhjaGFuZ2VzLCBpdGVtcykpLCBbXSk7XG4gICAgICAgIHJldHVybiBbaXRlbXMsIHNldEl0ZW1zLCBvbkl0ZW1zQ2hhbmdlXTtcbiAgICB9O1xufVxuY29uc3QgdXNlTm9kZXNTdGF0ZSA9IGNyZWF0ZVVzZUl0ZW1zU3RhdGUoYXBwbHlOb2RlQ2hhbmdlcyk7XG5jb25zdCB1c2VFZGdlc1N0YXRlID0gY3JlYXRlVXNlSXRlbXNTdGF0ZShhcHBseUVkZ2VDaGFuZ2VzKTtcblxuZnVuY3Rpb24gdXNlT25WaWV3cG9ydENoYW5nZSh7IG9uU3RhcnQsIG9uQ2hhbmdlLCBvbkVuZCB9KSB7XG4gICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHN0b3JlLnNldFN0YXRlKHsgb25WaWV3cG9ydENoYW5nZVN0YXJ0OiBvblN0YXJ0IH0pO1xuICAgIH0sIFtvblN0YXJ0XSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUoeyBvblZpZXdwb3J0Q2hhbmdlOiBvbkNoYW5nZSB9KTtcbiAgICB9LCBbb25DaGFuZ2VdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7IG9uVmlld3BvcnRDaGFuZ2VFbmQ6IG9uRW5kIH0pO1xuICAgIH0sIFtvbkVuZF0pO1xufVxuXG5mdW5jdGlvbiB1c2VPblNlbGVjdGlvbkNoYW5nZSh7IG9uQ2hhbmdlIH0pIHtcbiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUoeyBvblNlbGVjdGlvbkNoYW5nZTogb25DaGFuZ2UgfSk7XG4gICAgfSwgW29uQ2hhbmdlXSk7XG59XG5cbmNvbnN0IHNlbGVjdG9yID0gKG9wdGlvbnMpID0+IChzKSA9PiB7XG4gICAgaWYgKHMubm9kZUludGVybmFscy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHNcbiAgICAgICAgLmdldE5vZGVzKClcbiAgICAgICAgLmZpbHRlcigobikgPT4gKG9wdGlvbnMuaW5jbHVkZUhpZGRlbk5vZGVzID8gdHJ1ZSA6ICFuLmhpZGRlbikpXG4gICAgICAgIC5ldmVyeSgobikgPT4gbltpbnRlcm5hbHNTeW1ib2xdPy5oYW5kbGVCb3VuZHMgIT09IHVuZGVmaW5lZCk7XG59O1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgaW5jbHVkZUhpZGRlbk5vZGVzOiBmYWxzZSxcbn07XG5mdW5jdGlvbiB1c2VOb2Rlc0luaXRpYWxpemVkKG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucykge1xuICAgIGNvbnN0IGluaXRpYWxpemVkID0gdXNlU3RvcmUoc2VsZWN0b3Iob3B0aW9ucykpO1xuICAgIHJldHVybiBpbml0aWFsaXplZDtcbn1cblxuZXhwb3J0IHsgQmFzZUVkZ2UsIEJlemllckVkZ2UsIENvbm5lY3Rpb25MaW5lVHlwZSwgQ29ubmVjdGlvbk1vZGUsIEVkZ2VMYWJlbFJlbmRlcmVyLCBFZGdlVGV4dCQxIGFzIEVkZ2VUZXh0LCBIYW5kbGUkMSBhcyBIYW5kbGUsIE1hcmtlclR5cGUsIFBhbk9uU2Nyb2xsTW9kZSwgUGFuZWwsIFBvc2l0aW9uLCBSZWFjdEZsb3csIFJlYWN0Rmxvd1Byb3ZpZGVyLCBTZWxlY3Rpb25Nb2RlLCBTaW1wbGVCZXppZXJFZGdlLCBTbW9vdGhTdGVwRWRnZSwgU3RlcEVkZ2UsIFN0cmFpZ2h0RWRnZSwgYWRkRWRnZSwgYXBwbHlFZGdlQ2hhbmdlcywgYXBwbHlOb2RlQ2hhbmdlcywgYm94VG9SZWN0LCBjbGFtcCwgZ2V0QmV6aWVyUGF0aCwgZ2V0Qm91bmRzT2ZSZWN0cywgZ2V0Q29ubmVjdGVkRWRnZXMsIGdldEluY29tZXJzLCBnZXRNYXJrZXJFbmQsIGdldE5vZGVQb3NpdGlvbldpdGhPcmlnaW4sIGdldE91dGdvZXJzLCBnZXRSZWN0T2ZOb2RlcywgZ2V0U2ltcGxlQmV6aWVyUGF0aCwgZ2V0U21vb3RoU3RlcFBhdGgsIGdldFN0cmFpZ2h0UGF0aCwgZ2V0VHJhbnNmb3JtRm9yQm91bmRzLCBoYW5kbGVQYXJlbnRFeHBhbmQsIGludGVybmFsc1N5bWJvbCwgaXNFZGdlLCBpc05vZGUsIHJlY3RUb0JveCwgdXBkYXRlRWRnZSwgdXNlRWRnZXMsIHVzZUVkZ2VzU3RhdGUsIHVzZUdldFBvaW50ZXJQb3NpdGlvbiwgdXNlS2V5UHJlc3MsIHVzZU5vZGVJZCwgdXNlTm9kZXMsIHVzZU5vZGVzSW5pdGlhbGl6ZWQsIHVzZU5vZGVzU3RhdGUsIHVzZU9uU2VsZWN0aW9uQ2hhbmdlLCB1c2VPblZpZXdwb3J0Q2hhbmdlLCB1c2VSZWFjdEZsb3csIHVzZVN0b3JlLCB1c2VTdG9yZUFwaSwgdXNlVXBkYXRlTm9kZUludGVybmFscywgdXNlVmlld3BvcnQgfTtcbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYyhuYW1lcykge1xuICBpZiAodHlwZW9mIG5hbWVzID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBuYW1lcyA9PT0gXCJudW1iZXJcIikgcmV0dXJuIFwiXCIgKyBuYW1lc1xuXG4gIGxldCBvdXQgPSBcIlwiXG5cbiAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIHRtcDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoKHRtcCA9IGNjKG5hbWVzW2ldKSkgIT09IFwiXCIpIHtcbiAgICAgICAgb3V0ICs9IChvdXQgJiYgXCIgXCIpICsgdG1wXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGsgaW4gbmFtZXMpIHtcbiAgICAgIGlmIChuYW1lc1trXSkgb3V0ICs9IChvdXQgJiYgXCIgXCIpICsga1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRcbn1cbiIsICJpbXBvcnQgUmVhY3RFeHBvcnRzIGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VTeW5jRXh0ZXJuYWxTdG9yZUV4cG9ydHMgZnJvbSAndXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvc2hpbS93aXRoLXNlbGVjdG9yLmpzJztcbmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAnenVzdGFuZC92YW5pbGxhJztcblxuY29uc3QgeyB1c2VEZWJ1Z1ZhbHVlIH0gPSBSZWFjdEV4cG9ydHM7XG5jb25zdCB7IHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yIH0gPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZUV4cG9ydHM7XG5mdW5jdGlvbiB1c2VTdG9yZVdpdGhFcXVhbGl0eUZuKGFwaSwgc2VsZWN0b3IgPSBhcGkuZ2V0U3RhdGUsIGVxdWFsaXR5Rm4pIHtcbiAgY29uc3Qgc2xpY2UgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcihcbiAgICBhcGkuc3Vic2NyaWJlLFxuICAgIGFwaS5nZXRTdGF0ZSxcbiAgICBhcGkuZ2V0U2VydmVyU3RhdGUgfHwgYXBpLmdldFN0YXRlLFxuICAgIHNlbGVjdG9yLFxuICAgIGVxdWFsaXR5Rm5cbiAgKTtcbiAgdXNlRGVidWdWYWx1ZShzbGljZSk7XG4gIHJldHVybiBzbGljZTtcbn1cbmNvbnN0IGNyZWF0ZVdpdGhFcXVhbGl0eUZuSW1wbCA9IChjcmVhdGVTdGF0ZSwgZGVmYXVsdEVxdWFsaXR5Rm4pID0+IHtcbiAgY29uc3QgYXBpID0gY3JlYXRlU3RvcmUoY3JlYXRlU3RhdGUpO1xuICBjb25zdCB1c2VCb3VuZFN0b3JlV2l0aEVxdWFsaXR5Rm4gPSAoc2VsZWN0b3IsIGVxdWFsaXR5Rm4gPSBkZWZhdWx0RXF1YWxpdHlGbikgPT4gdXNlU3RvcmVXaXRoRXF1YWxpdHlGbihhcGksIHNlbGVjdG9yLCBlcXVhbGl0eUZuKTtcbiAgT2JqZWN0LmFzc2lnbih1c2VCb3VuZFN0b3JlV2l0aEVxdWFsaXR5Rm4sIGFwaSk7XG4gIHJldHVybiB1c2VCb3VuZFN0b3JlV2l0aEVxdWFsaXR5Rm47XG59O1xuY29uc3QgY3JlYXRlV2l0aEVxdWFsaXR5Rm4gPSAoY3JlYXRlU3RhdGUsIGRlZmF1bHRFcXVhbGl0eUZuKSA9PiBjcmVhdGVTdGF0ZSA/IGNyZWF0ZVdpdGhFcXVhbGl0eUZuSW1wbChjcmVhdGVTdGF0ZSwgZGVmYXVsdEVxdWFsaXR5Rm4pIDogY3JlYXRlV2l0aEVxdWFsaXR5Rm5JbXBsO1xuXG5leHBvcnQgeyBjcmVhdGVXaXRoRXF1YWxpdHlGbiwgdXNlU3RvcmVXaXRoRXF1YWxpdHlGbiB9O1xuIiwgImZ1bmN0aW9uIHNoYWxsb3ckMShvYmpBLCBvYmpCKSB7XG4gIGlmIChPYmplY3QuaXMob2JqQSwgb2JqQikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIG9iakEgIT09IFwib2JqZWN0XCIgfHwgb2JqQSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqQiAhPT0gXCJvYmplY3RcIiB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChvYmpBIGluc3RhbmNlb2YgTWFwICYmIG9iakIgaW5zdGFuY2VvZiBNYXApIHtcbiAgICBpZiAob2JqQS5zaXplICE9PSBvYmpCLnNpemUpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Ygb2JqQSkge1xuICAgICAgaWYgKCFPYmplY3QuaXModmFsdWUsIG9iakIuZ2V0KGtleSkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG9iakEgaW5zdGFuY2VvZiBTZXQgJiYgb2JqQiBpbnN0YW5jZW9mIFNldCkge1xuICAgIGlmIChvYmpBLnNpemUgIT09IG9iakIuc2l6ZSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIG9iakEpIHtcbiAgICAgIGlmICghb2JqQi5oYXModmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMob2JqQikubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgIU9iamVjdC5pcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG52YXIgc2hhbGxvdyA9IChvYmpBLCBvYmpCKSA9PiB7XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiW0RFUFJFQ0FURURdIERlZmF1bHQgZXhwb3J0IGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQgdXNlIGBpbXBvcnQgeyBzaGFsbG93IH0gZnJvbSAnenVzdGFuZC9zaGFsbG93J2AuXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBzaGFsbG93JDEob2JqQSwgb2JqQik7XG59O1xuXG5leHBvcnQgeyBzaGFsbG93IGFzIGRlZmF1bHQsIHNoYWxsb3ckMSBhcyBzaGFsbG93IH07XG4iLCAidmFyIG5vb3AgPSB7dmFsdWU6ICgpID0+IHt9fTtcblxuZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gYXJndW1lbnRzLmxlbmd0aCwgXyA9IHt9LCB0OyBpIDwgbjsgKytpKSB7XG4gICAgaWYgKCEodCA9IGFyZ3VtZW50c1tpXSArIFwiXCIpIHx8ICh0IGluIF8pIHx8IC9bXFxzLl0vLnRlc3QodCkpIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgdHlwZTogXCIgKyB0KTtcbiAgICBfW3RdID0gW107XG4gIH1cbiAgcmV0dXJuIG5ldyBEaXNwYXRjaChfKTtcbn1cblxuZnVuY3Rpb24gRGlzcGF0Y2goXykge1xuICB0aGlzLl8gPSBfO1xufVxuXG5mdW5jdGlvbiBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZXMsIHR5cGVzKSB7XG4gIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxccysvKS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHZhciBuYW1lID0gXCJcIiwgaSA9IHQuaW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICBpZiAodCAmJiAhdHlwZXMuaGFzT3duUHJvcGVydHkodCkpIHRocm93IG5ldyBFcnJvcihcInVua25vd24gdHlwZTogXCIgKyB0KTtcbiAgICByZXR1cm4ge3R5cGU6IHQsIG5hbWU6IG5hbWV9O1xuICB9KTtcbn1cblxuRGlzcGF0Y2gucHJvdG90eXBlID0gZGlzcGF0Y2gucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogRGlzcGF0Y2gsXG4gIG9uOiBmdW5jdGlvbih0eXBlbmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgXyA9IHRoaXMuXyxcbiAgICAgICAgVCA9IHBhcnNlVHlwZW5hbWVzKHR5cGVuYW1lICsgXCJcIiwgXyksXG4gICAgICAgIHQsXG4gICAgICAgIGkgPSAtMSxcbiAgICAgICAgbiA9IFQubGVuZ3RoO1xuXG4gICAgLy8gSWYgbm8gY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmV0dXJuIHRoZSBjYWxsYmFjayBvZiB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHdoaWxlICgrK2kgPCBuKSBpZiAoKHQgPSAodHlwZW5hbWUgPSBUW2ldKS50eXBlKSAmJiAodCA9IGdldChfW3RdLCB0eXBlbmFtZS5uYW1lKSkpIHJldHVybiB0O1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIGEgdHlwZSB3YXMgc3BlY2lmaWVkLCBzZXQgdGhlIGNhbGxiYWNrIGZvciB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS5cbiAgICAvLyBPdGhlcndpc2UsIGlmIGEgbnVsbCBjYWxsYmFjayB3YXMgc3BlY2lmaWVkLCByZW1vdmUgY2FsbGJhY2tzIG9mIHRoZSBnaXZlbiBuYW1lLlxuICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGNhbGxiYWNrOiBcIiArIGNhbGxiYWNrKTtcbiAgICB3aGlsZSAoKytpIDwgbikge1xuICAgICAgaWYgKHQgPSAodHlwZW5hbWUgPSBUW2ldKS50eXBlKSBfW3RdID0gc2V0KF9bdF0sIHR5cGVuYW1lLm5hbWUsIGNhbGxiYWNrKTtcbiAgICAgIGVsc2UgaWYgKGNhbGxiYWNrID09IG51bGwpIGZvciAodCBpbiBfKSBfW3RdID0gc2V0KF9bdF0sIHR5cGVuYW1lLm5hbWUsIG51bGwpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBjb3B5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29weSA9IHt9LCBfID0gdGhpcy5fO1xuICAgIGZvciAodmFyIHQgaW4gXykgY29weVt0XSA9IF9bdF0uc2xpY2UoKTtcbiAgICByZXR1cm4gbmV3IERpc3BhdGNoKGNvcHkpO1xuICB9LFxuICBjYWxsOiBmdW5jdGlvbih0eXBlLCB0aGF0KSB7XG4gICAgaWYgKChuID0gYXJndW1lbnRzLmxlbmd0aCAtIDIpID4gMCkgZm9yICh2YXIgYXJncyA9IG5ldyBBcnJheShuKSwgaSA9IDAsIG4sIHQ7IGkgPCBuOyArK2kpIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgZm9yICh0ID0gdGhpcy5fW3R5cGVdLCBpID0gMCwgbiA9IHQubGVuZ3RoOyBpIDwgbjsgKytpKSB0W2ldLnZhbHVlLmFwcGx5KHRoYXQsIGFyZ3MpO1xuICB9LFxuICBhcHBseTogZnVuY3Rpb24odHlwZSwgdGhhdCwgYXJncykge1xuICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgZm9yICh2YXIgdCA9IHRoaXMuX1t0eXBlXSwgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47ICsraSkgdFtpXS52YWx1ZS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0KHR5cGUsIG5hbWUpIHtcbiAgZm9yICh2YXIgaSA9IDAsIG4gPSB0eXBlLmxlbmd0aCwgYzsgaSA8IG47ICsraSkge1xuICAgIGlmICgoYyA9IHR5cGVbaV0pLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgIHJldHVybiBjLnZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzZXQodHlwZSwgbmFtZSwgY2FsbGJhY2spIHtcbiAgZm9yICh2YXIgaSA9IDAsIG4gPSB0eXBlLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgIGlmICh0eXBlW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgIHR5cGVbaV0gPSBub29wLCB0eXBlID0gdHlwZS5zbGljZSgwLCBpKS5jb25jYXQodHlwZS5zbGljZShpICsgMSkpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmIChjYWxsYmFjayAhPSBudWxsKSB0eXBlLnB1c2goe25hbWU6IG5hbWUsIHZhbHVlOiBjYWxsYmFja30pO1xuICByZXR1cm4gdHlwZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGlzcGF0Y2g7XG4iLCAiZXhwb3J0IHZhciB4aHRtbCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB4aHRtbDogeGh0bWwsXG4gIHhsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgeG1sOiBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiXG59O1xuIiwgImltcG9ydCBuYW1lc3BhY2VzIGZyb20gXCIuL25hbWVzcGFjZXMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSkge1xuICB2YXIgcHJlZml4ID0gbmFtZSArPSBcIlwiLCBpID0gcHJlZml4LmluZGV4T2YoXCI6XCIpO1xuICBpZiAoaSA+PSAwICYmIChwcmVmaXggPSBuYW1lLnNsaWNlKDAsIGkpKSAhPT0gXCJ4bWxuc1wiKSBuYW1lID0gbmFtZS5zbGljZShpICsgMSk7XG4gIHJldHVybiBuYW1lc3BhY2VzLmhhc093blByb3BlcnR5KHByZWZpeCkgPyB7c3BhY2U6IG5hbWVzcGFjZXNbcHJlZml4XSwgbG9jYWw6IG5hbWV9IDogbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbn1cbiIsICJpbXBvcnQgbmFtZXNwYWNlIGZyb20gXCIuL25hbWVzcGFjZS5qc1wiO1xuaW1wb3J0IHt4aHRtbH0gZnJvbSBcIi4vbmFtZXNwYWNlcy5qc1wiO1xuXG5mdW5jdGlvbiBjcmVhdG9ySW5oZXJpdChuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZG9jdW1lbnQgPSB0aGlzLm93bmVyRG9jdW1lbnQsXG4gICAgICAgIHVyaSA9IHRoaXMubmFtZXNwYWNlVVJJO1xuICAgIHJldHVybiB1cmkgPT09IHhodG1sICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5uYW1lc3BhY2VVUkkgPT09IHhodG1sXG4gICAgICAgID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKVxuICAgICAgICA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh1cmksIG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdG9yRml4ZWQoZnVsbG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpO1xuICByZXR1cm4gKGZ1bGxuYW1lLmxvY2FsXG4gICAgICA/IGNyZWF0b3JGaXhlZFxuICAgICAgOiBjcmVhdG9ySW5oZXJpdCkoZnVsbG5hbWUpO1xufVxuIiwgImZ1bmN0aW9uIG5vbmUoKSB7fVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IG5vbmUgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfTtcbn1cbiIsICJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzZWxlY3RvciBmcm9tIFwiLi4vc2VsZWN0b3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0KSB7XG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgc3Vibm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiAoc3Vibm9kZSA9IHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkpIHtcbiAgICAgICAgaWYgKFwiX19kYXRhX19cIiBpbiBub2RlKSBzdWJub2RlLl9fZGF0YV9fID0gbm9kZS5fX2RhdGFfXztcbiAgICAgICAgc3ViZ3JvdXBbaV0gPSBzdWJub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cyk7XG59XG4iLCAiLy8gR2l2ZW4gc29tZXRoaW5nIGFycmF5IGxpa2UgKG9yIG51bGwpLCByZXR1cm5zIHNvbWV0aGluZyB0aGF0IGlzIHN0cmljdGx5IGFuXG4vLyBhcnJheS4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IGFycmF5LWxpa2Ugb2JqZWN0cyBwYXNzZWQgdG8gZDMuc2VsZWN0QWxsXG4vLyBvciBzZWxlY3Rpb24uc2VsZWN0QWxsIGFyZSBjb252ZXJ0ZWQgaW50byBwcm9wZXIgYXJyYXlzIHdoZW4gY3JlYXRpbmcgYVxuLy8gc2VsZWN0aW9uOyB3ZSBkb25cdTIwMTl0IGV2ZXIgd2FudCB0byBjcmVhdGUgYSBzZWxlY3Rpb24gYmFja2VkIGJ5IGEgbGl2ZVxuLy8gSFRNTENvbGxlY3Rpb24gb3IgTm9kZUxpc3QuIEhvd2V2ZXIsIG5vdGUgdGhhdCBzZWxlY3Rpb24uc2VsZWN0QWxsIHdpbGwgdXNlIGFcbi8vIHN0YXRpYyBOb2RlTGlzdCBhcyBhIGdyb3VwLCBzaW5jZSBpdCBzYWZlbHkgZGVyaXZlZCBmcm9tIHF1ZXJ5U2VsZWN0b3JBbGwuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcnJheSh4KSB7XG4gIHJldHVybiB4ID09IG51bGwgPyBbXSA6IEFycmF5LmlzQXJyYXkoeCkgPyB4IDogQXJyYXkuZnJvbSh4KTtcbn1cbiIsICJmdW5jdGlvbiBlbXB0eSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IGVtcHR5IDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIH07XG59XG4iLCAiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgYXJyYXkgZnJvbSBcIi4uL2FycmF5LmpzXCI7XG5pbXBvcnQgc2VsZWN0b3JBbGwgZnJvbSBcIi4uL3NlbGVjdG9yQWxsLmpzXCI7XG5cbmZ1bmN0aW9uIGFycmF5QWxsKHNlbGVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGFycmF5KHNlbGVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0KSB7XG4gIGlmICh0eXBlb2Ygc2VsZWN0ID09PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IGFycmF5QWxsKHNlbGVjdCk7XG4gIGVsc2Ugc2VsZWN0ID0gc2VsZWN0b3JBbGwoc2VsZWN0KTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBbXSwgcGFyZW50cyA9IFtdLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzdWJncm91cHMucHVzaChzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpO1xuICAgICAgICBwYXJlbnRzLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3ViZ3JvdXBzLCBwYXJlbnRzKTtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2hlcyhzZWxlY3Rvcik7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZE1hdGNoZXIoc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgfTtcbn1cblxuIiwgImltcG9ydCB7Y2hpbGRNYXRjaGVyfSBmcm9tIFwiLi4vbWF0Y2hlci5qc1wiO1xuXG52YXIgZmluZCA9IEFycmF5LnByb3RvdHlwZS5maW5kO1xuXG5mdW5jdGlvbiBjaGlsZEZpbmQobWF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmaW5kLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjaGlsZEZpcnN0KCkge1xuICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0XG4gICAgICA6IGNoaWxkRmluZCh0eXBlb2YgbWF0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpO1xufVxuIiwgImltcG9ydCB7Y2hpbGRNYXRjaGVyfSBmcm9tIFwiLi4vbWF0Y2hlci5qc1wiO1xuXG52YXIgZmlsdGVyID0gQXJyYXkucHJvdG90eXBlLmZpbHRlcjtcblxuZnVuY3Rpb24gY2hpbGRyZW4oKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY2hpbGRyZW4pO1xufVxuXG5mdW5jdGlvbiBjaGlsZHJlbkZpbHRlcihtYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKHRoaXMuY2hpbGRyZW4sIG1hdGNoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0QWxsKG1hdGNoID09IG51bGwgPyBjaGlsZHJlblxuICAgICAgOiBjaGlsZHJlbkZpbHRlcih0eXBlb2YgbWF0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpO1xufVxuIiwgImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IG1hdGNoZXIgZnJvbSBcIi4uL21hdGNoZXIuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBtYXRjaCAhPT0gXCJmdW5jdGlvblwiKSBtYXRjaCA9IG1hdGNoZXIobWF0Y2gpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBbXSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiBtYXRjaC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkge1xuICAgICAgICBzdWJncm91cC5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cyk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odXBkYXRlKSB7XG4gIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7XG59XG4iLCAiaW1wb3J0IHNwYXJzZSBmcm9tIFwiLi9zcGFyc2UuanNcIjtcbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZW50ZXIgfHwgdGhpcy5fZ3JvdXBzLm1hcChzcGFyc2UpLCB0aGlzLl9wYXJlbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVudGVyTm9kZShwYXJlbnQsIGRhdHVtKSB7XG4gIHRoaXMub3duZXJEb2N1bWVudCA9IHBhcmVudC5vd25lckRvY3VtZW50O1xuICB0aGlzLm5hbWVzcGFjZVVSSSA9IHBhcmVudC5uYW1lc3BhY2VVUkk7XG4gIHRoaXMuX25leHQgPSBudWxsO1xuICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gIHRoaXMuX19kYXRhX18gPSBkYXR1bTtcbn1cblxuRW50ZXJOb2RlLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IEVudGVyTm9kZSxcbiAgYXBwZW5kQ2hpbGQ6IGZ1bmN0aW9uKGNoaWxkKSB7IHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCB0aGlzLl9uZXh0KTsgfSxcbiAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbihjaGlsZCwgbmV4dCkgeyByZXR1cm4gdGhpcy5fcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgbmV4dCk7IH0sXG4gIHF1ZXJ5U2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7IHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7IH0sXG4gIHF1ZXJ5U2VsZWN0b3JBbGw6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7IHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7IH1cbn07XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHg7XG4gIH07XG59XG4iLCAiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQge0VudGVyTm9kZX0gZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi4vY29uc3RhbnQuanNcIjtcblxuZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHtcbiAgdmFyIGkgPSAwLFxuICAgICAgbm9kZSxcbiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLFxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBmaXQgaW50byB1cGRhdGUuXG4gIC8vIFB1dCBhbnkgbnVsbCBub2RlcyBpbnRvIGVudGVyLlxuICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuXG4gIGZvciAoOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07XG4gICAgICB1cGRhdGVbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTtcbiAgICB9XG4gIH1cblxuICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZG9uXHUyMDE5dCBmaXQgaW50byBleGl0LlxuICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBleGl0W2ldID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYmluZEtleShwYXJlbnQsIGdyb3VwLCBlbnRlciwgdXBkYXRlLCBleGl0LCBkYXRhLCBrZXkpIHtcbiAgdmFyIGksXG4gICAgICBub2RlLFxuICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwLFxuICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsXG4gICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICBrZXlWYWx1ZXMgPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpLFxuICAgICAga2V5VmFsdWU7XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIG5vZGUuXG4gIC8vIElmIG11bHRpcGxlIG5vZGVzIGhhdmUgdGhlIHNhbWUga2V5LCB0aGUgZHVwbGljYXRlcyBhcmUgYWRkZWQgdG8gZXhpdC5cbiAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBrZXlWYWx1ZXNbaV0gPSBrZXlWYWx1ZSA9IGtleS5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSArIFwiXCI7XG4gICAgICBpZiAobm9kZUJ5S2V5VmFsdWUuaGFzKGtleVZhbHVlKSkge1xuICAgICAgICBleGl0W2ldID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVCeUtleVZhbHVlLnNldChrZXlWYWx1ZSwgbm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIGRhdHVtLlxuICAvLyBJZiB0aGVyZSBhIG5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMga2V5LCBqb2luIGFuZCBhZGQgaXQgdG8gdXBkYXRlLlxuICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuXG4gIGZvciAoaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyArK2kpIHtcbiAgICBrZXlWYWx1ZSA9IGtleS5jYWxsKHBhcmVudCwgZGF0YVtpXSwgaSwgZGF0YSkgKyBcIlwiO1xuICAgIGlmIChub2RlID0gbm9kZUJ5S2V5VmFsdWUuZ2V0KGtleVZhbHVlKSkge1xuICAgICAgdXBkYXRlW2ldID0gbm9kZTtcbiAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldO1xuICAgICAgbm9kZUJ5S2V5VmFsdWUuZGVsZXRlKGtleVZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIGFueSByZW1haW5pbmcgbm9kZXMgdGhhdCB3ZXJlIG5vdCBib3VuZCB0byBkYXRhIHRvIGV4aXQuXG4gIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkpIHtcbiAgICAgIGV4aXRbaV0gPSBub2RlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkYXR1bShub2RlKSB7XG4gIHJldHVybiBub2RlLl9fZGF0YV9fO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIEFycmF5LmZyb20odGhpcywgZGF0dW0pO1xuXG4gIHZhciBiaW5kID0ga2V5ID8gYmluZEtleSA6IGJpbmRJbmRleCxcbiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLFxuICAgICAgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdmFsdWUgPSBjb25zdGFudCh2YWx1ZSk7XG5cbiAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgdmFyIHBhcmVudCA9IHBhcmVudHNbal0sXG4gICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLFxuICAgICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgICAgZGF0YSA9IGFycmF5bGlrZSh2YWx1ZS5jYWxsKHBhcmVudCwgcGFyZW50ICYmIHBhcmVudC5fX2RhdGFfXywgaiwgcGFyZW50cykpLFxuICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICAgIGVudGVyR3JvdXAgPSBlbnRlcltqXSA9IG5ldyBBcnJheShkYXRhTGVuZ3RoKSxcbiAgICAgICAgdXBkYXRlR3JvdXAgPSB1cGRhdGVbal0gPSBuZXcgQXJyYXkoZGF0YUxlbmd0aCksXG4gICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpO1xuXG4gICAgYmluZChwYXJlbnQsIGdyb3VwLCBlbnRlckdyb3VwLCB1cGRhdGVHcm91cCwgZXhpdEdyb3VwLCBkYXRhLCBrZXkpO1xuXG4gICAgLy8gTm93IGNvbm5lY3QgdGhlIGVudGVyIG5vZGVzIHRvIHRoZWlyIGZvbGxvd2luZyB1cGRhdGUgbm9kZSwgc3VjaCB0aGF0XG4gICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSxcbiAgICAvLyByYXRoZXIgdGhhbiBhdCB0aGUgZW5kIG9mIHRoZSBwYXJlbnQgbm9kZS5cbiAgICBmb3IgKHZhciBpMCA9IDAsIGkxID0gMCwgcHJldmlvdXMsIG5leHQ7IGkwIDwgZGF0YUxlbmd0aDsgKytpMCkge1xuICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHtcbiAgICAgICAgaWYgKGkwID49IGkxKSBpMSA9IGkwICsgMTtcbiAgICAgICAgd2hpbGUgKCEobmV4dCA9IHVwZGF0ZUdyb3VwW2kxXSkgJiYgKytpMSA8IGRhdGFMZW5ndGgpO1xuICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUgPSBuZXcgU2VsZWN0aW9uKHVwZGF0ZSwgcGFyZW50cyk7XG4gIHVwZGF0ZS5fZW50ZXIgPSBlbnRlcjtcbiAgdXBkYXRlLl9leGl0ID0gZXhpdDtcbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuLy8gR2l2ZW4gc29tZSBkYXRhLCB0aGlzIHJldHVybnMgYW4gYXJyYXktbGlrZSB2aWV3IG9mIGl0OiBhbiBvYmplY3QgdGhhdFxuLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2Vcbi8vIHNlbGVjdEFsbCwgdGhpcyBpc25cdTIwMTl0IHdvcnJpZWQgYWJvdXQgXHUyMDFDbGl2ZVx1MjAxRCBjb2xsZWN0aW9ucyBiZWNhdXNlIHRoZSByZXN1bHRpbmdcbi8vIGFycmF5IHdpbGwgb25seSBiZSB1c2VkIGJyaWVmbHkgd2hpbGUgZGF0YSBpcyBiZWluZyBib3VuZC4gKEl0IGlzIHBvc3NpYmxlIHRvXG4vLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlXG4vLyBkb25cdTIwMTl0OyB3ZVx1MjAxOWQgcmF0aGVyIGF2b2lkIGEgZ3JhdHVpdG91cyBjb3B5LilcbmZ1bmN0aW9uIGFycmF5bGlrZShkYXRhKSB7XG4gIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcImxlbmd0aFwiIGluIGRhdGFcbiAgICA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlXG4gICAgOiBBcnJheS5mcm9tKGRhdGEpOyAvLyBNYXAsIFNldCwgaXRlcmFibGUsIHN0cmluZywgb3IgYW55dGhpbmcgZWxzZVxufVxuIiwgImltcG9ydCBzcGFyc2UgZnJvbSBcIi4vc3BhcnNlLmpzXCI7XG5pbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHRoaXMuX2V4aXQgfHwgdGhpcy5fZ3JvdXBzLm1hcChzcGFyc2UpLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihvbmVudGVyLCBvbnVwZGF0ZSwgb25leGl0KSB7XG4gIHZhciBlbnRlciA9IHRoaXMuZW50ZXIoKSwgdXBkYXRlID0gdGhpcywgZXhpdCA9IHRoaXMuZXhpdCgpO1xuICBpZiAodHlwZW9mIG9uZW50ZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGVudGVyID0gb25lbnRlcihlbnRlcik7XG4gICAgaWYgKGVudGVyKSBlbnRlciA9IGVudGVyLnNlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIGVudGVyID0gZW50ZXIuYXBwZW5kKG9uZW50ZXIgKyBcIlwiKTtcbiAgfVxuICBpZiAob251cGRhdGUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZSA9IG9udXBkYXRlKHVwZGF0ZSk7XG4gICAgaWYgKHVwZGF0ZSkgdXBkYXRlID0gdXBkYXRlLnNlbGVjdGlvbigpO1xuICB9XG4gIGlmIChvbmV4aXQgPT0gbnVsbCkgZXhpdC5yZW1vdmUoKTsgZWxzZSBvbmV4aXQoZXhpdCk7XG4gIHJldHVybiBlbnRlciAmJiB1cGRhdGUgPyBlbnRlci5tZXJnZSh1cGRhdGUpLm9yZGVyKCkgOiB1cGRhdGU7XG59XG4iLCAiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7XG5cbiAgZm9yICh2YXIgZ3JvdXBzMCA9IHRoaXMuX2dyb3VwcywgZ3JvdXBzMSA9IHNlbGVjdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IC0xLCBtID0gZ3JvdXBzLmxlbmd0aDsgKytqIDwgbTspIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgaSA9IGdyb3VwLmxlbmd0aCAtIDEsIG5leHQgPSBncm91cFtpXSwgbm9kZTsgLS1pID49IDA7KSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIGlmIChuZXh0ICYmIG5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24obmV4dCkgXiA0KSBuZXh0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIG5leHQpO1xuICAgICAgICBuZXh0ID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cbiIsICJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY29tcGFyZSkge1xuICBpZiAoIWNvbXBhcmUpIGNvbXBhcmUgPSBhc2NlbmRpbmc7XG5cbiAgZnVuY3Rpb24gY29tcGFyZU5vZGUoYSwgYikge1xuICAgIHJldHVybiBhICYmIGIgPyBjb21wYXJlKGEuX19kYXRhX18sIGIuX19kYXRhX18pIDogIWEgLSAhYjtcbiAgfVxuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHNvcnRncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHNvcnRncm91cCA9IHNvcnRncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHNvcnRncm91cFtpXSA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvcnRncm91cC5zb3J0KGNvbXBhcmVOb2RlKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHNvcnRncm91cHMsIHRoaXMuX3BhcmVudHMpLm9yZGVyKCk7XG59XG5cbmZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XG4gIHJldHVybiBhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogYSA+PSBiID8gMCA6IE5hTjtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzWzBdO1xuICBhcmd1bWVudHNbMF0gPSB0aGlzO1xuICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcztcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20odGhpcyk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgaSA9IDAsIG4gPSBncm91cC5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgIHZhciBub2RlID0gZ3JvdXBbaV07XG4gICAgICBpZiAobm9kZSkgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIGxldCBzaXplID0gMDtcbiAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gc2l6ZTtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICF0aGlzLm5vZGUoKTtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjYWxsYmFjaykge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSBjYWxsYmFjay5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cbiIsICJpbXBvcnQgbmFtZXNwYWNlIGZyb20gXCIuLi9uYW1lc3BhY2UuanNcIjtcblxuZnVuY3Rpb24gYXR0clJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJDb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBlbHNlIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHZhciBub2RlID0gdGhpcy5ub2RlKCk7XG4gICAgcmV0dXJuIGZ1bGxuYW1lLmxvY2FsXG4gICAgICAgID8gbm9kZS5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpXG4gICAgICAgIDogbm9kZS5nZXRBdHRyaWJ1dGUoZnVsbG5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbFxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMgOiBhdHRyUmVtb3ZlKSA6ICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbilcbiAgICAgIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKSkoZnVsbG5hbWUsIHZhbHVlKSk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gKG5vZGUub3duZXJEb2N1bWVudCAmJiBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIC8vIG5vZGUgaXMgYSBOb2RlXG4gICAgICB8fCAobm9kZS5kb2N1bWVudCAmJiBub2RlKSAvLyBub2RlIGlzIGEgV2luZG93XG4gICAgICB8fCBub2RlLmRlZmF1bHRWaWV3OyAvLyBub2RlIGlzIGEgRG9jdW1lbnRcbn1cbiIsICJpbXBvcnQgZGVmYXVsdFZpZXcgZnJvbSBcIi4uL3dpbmRvdy5qc1wiO1xuXG5mdW5jdGlvbiBzdHlsZVJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZUNvbnN0YW50KG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZUZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gICAgZWxzZSB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHYsIHByaW9yaXR5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMVxuICAgICAgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGxcbiAgICAgICAgICAgID8gc3R5bGVSZW1vdmUgOiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBzdHlsZUZ1bmN0aW9uXG4gICAgICAgICAgICA6IHN0eWxlQ29uc3RhbnQpKG5hbWUsIHZhbHVlLCBwcmlvcml0eSA9PSBudWxsID8gXCJcIiA6IHByaW9yaXR5KSlcbiAgICAgIDogc3R5bGVWYWx1ZSh0aGlzLm5vZGUoKSwgbmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZVZhbHVlKG5vZGUsIG5hbWUpIHtcbiAgcmV0dXJuIG5vZGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKVxuICAgICAgfHwgZGVmYXVsdFZpZXcobm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpO1xufVxuIiwgImZ1bmN0aW9uIHByb3BlcnR5UmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzW25hbWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb3BlcnR5RnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSBkZWxldGUgdGhpc1tuYW1lXTtcbiAgICBlbHNlIHRoaXNbbmFtZV0gPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBwcm9wZXJ0eUZ1bmN0aW9uXG4gICAgICAgICAgOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpW25hbWVdO1xufVxuIiwgImZ1bmN0aW9uIGNsYXNzQXJyYXkoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcudHJpbSgpLnNwbGl0KC9efFxccysvKTtcbn1cblxuZnVuY3Rpb24gY2xhc3NMaXN0KG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuY2xhc3NMaXN0IHx8IG5ldyBDbGFzc0xpc3Qobm9kZSk7XG59XG5cbmZ1bmN0aW9uIENsYXNzTGlzdChub2RlKSB7XG4gIHRoaXMuX25vZGUgPSBub2RlO1xuICB0aGlzLl9uYW1lcyA9IGNsYXNzQXJyYXkobm9kZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiKTtcbn1cblxuQ2xhc3NMaXN0LnByb3RvdHlwZSA9IHtcbiAgYWRkOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGkgPSB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpO1xuICAgIGlmIChpIDwgMCkge1xuICAgICAgdGhpcy5fbmFtZXMucHVzaChuYW1lKTtcbiAgICAgIHRoaXMuX25vZGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy5fbmFtZXMuam9pbihcIiBcIikpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGkgPSB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpO1xuICAgIGlmIChpID49IDApIHtcbiAgICAgIHRoaXMuX25hbWVzLnNwbGljZShpLCAxKTtcbiAgICAgIHRoaXMuX25vZGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy5fbmFtZXMuam9pbihcIiBcIikpO1xuICAgIH1cbiAgfSxcbiAgY29udGFpbnM6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKSA+PSAwO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjbGFzc2VkQWRkKG5vZGUsIG5hbWVzKSB7XG4gIHZhciBsaXN0ID0gY2xhc3NMaXN0KG5vZGUpLCBpID0gLTEsIG4gPSBuYW1lcy5sZW5ndGg7XG4gIHdoaWxlICgrK2kgPCBuKSBsaXN0LmFkZChuYW1lc1tpXSk7XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRSZW1vdmUobm9kZSwgbmFtZXMpIHtcbiAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgd2hpbGUgKCsraSA8IG4pIGxpc3QucmVtb3ZlKG5hbWVzW2ldKTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZFRydWUobmFtZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGNsYXNzZWRBZGQodGhpcywgbmFtZXMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkRmFsc2UobmFtZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGNsYXNzZWRSZW1vdmUodGhpcywgbmFtZXMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkRnVuY3Rpb24obmFtZXMsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAodmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKSA/IGNsYXNzZWRBZGQgOiBjbGFzc2VkUmVtb3ZlKSh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBuYW1lcyA9IGNsYXNzQXJyYXkobmFtZSArIFwiXCIpO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHZhciBsaXN0ID0gY2xhc3NMaXN0KHRoaXMubm9kZSgpKSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICAgIHdoaWxlICgrK2kgPCBuKSBpZiAoIWxpc3QuY29udGFpbnMobmFtZXNbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gdGhpcy5lYWNoKCh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyBjbGFzc2VkRnVuY3Rpb24gOiB2YWx1ZVxuICAgICAgPyBjbGFzc2VkVHJ1ZVxuICAgICAgOiBjbGFzc2VkRmFsc2UpKG5hbWVzLCB2YWx1ZSkpO1xufVxuIiwgImZ1bmN0aW9uIHRleHRSZW1vdmUoKSB7XG4gIHRoaXMudGV4dENvbnRlbnQgPSBcIlwiO1xufVxuXG5mdW5jdGlvbiB0ZXh0Q29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IHYgPT0gbnVsbCA/IFwiXCIgOiB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbFxuICAgICAgICAgID8gdGV4dFJlbW92ZSA6ICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gdGV4dEZ1bmN0aW9uXG4gICAgICAgICAgOiB0ZXh0Q29uc3RhbnQpKHZhbHVlKSlcbiAgICAgIDogdGhpcy5ub2RlKCkudGV4dENvbnRlbnQ7XG59XG4iLCAiZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHtcbiAgdGhpcy5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG5mdW5jdGlvbiBodG1sQ29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdiA9PSBudWxsID8gXCJcIiA6IHY7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBodG1sUmVtb3ZlIDogKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBodG1sRnVuY3Rpb25cbiAgICAgICAgICA6IGh0bWxDb25zdGFudCkodmFsdWUpKVxuICAgICAgOiB0aGlzLm5vZGUoKS5pbm5lckhUTUw7XG59XG4iLCAiZnVuY3Rpb24gcmFpc2UoKSB7XG4gIGlmICh0aGlzLm5leHRTaWJsaW5nKSB0aGlzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKHJhaXNlKTtcbn1cbiIsICJmdW5jdGlvbiBsb3dlcigpIHtcbiAgaWYgKHRoaXMucHJldmlvdXNTaWJsaW5nKSB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMsIHRoaXMucGFyZW50Tm9kZS5maXJzdENoaWxkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gobG93ZXIpO1xufVxuIiwgImltcG9ydCBjcmVhdG9yIGZyb20gXCIuLi9jcmVhdG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFwcGVuZENoaWxkKGNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IGNyZWF0b3IgZnJvbSBcIi4uL2NyZWF0b3IuanNcIjtcbmltcG9ydCBzZWxlY3RvciBmcm9tIFwiLi4vc2VsZWN0b3IuanNcIjtcblxuZnVuY3Rpb24gY29uc3RhbnROdWxsKCkge1xuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgYmVmb3JlKSB7XG4gIHZhciBjcmVhdGUgPSB0eXBlb2YgbmFtZSA9PT0gXCJmdW5jdGlvblwiID8gbmFtZSA6IGNyZWF0b3IobmFtZSksXG4gICAgICBzZWxlY3QgPSBiZWZvcmUgPT0gbnVsbCA/IGNvbnN0YW50TnVsbCA6IHR5cGVvZiBiZWZvcmUgPT09IFwiZnVuY3Rpb25cIiA/IGJlZm9yZSA6IHNlbGVjdG9yKGJlZm9yZSk7XG4gIHJldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHNlbGVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IG51bGwpO1xuICB9KTtcbn1cbiIsICJmdW5jdGlvbiByZW1vdmUoKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gocmVtb3ZlKTtcbn1cbiIsICJmdW5jdGlvbiBzZWxlY3Rpb25fY2xvbmVTaGFsbG93KCkge1xuICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZShmYWxzZSksIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7XG4gIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKHRydWUpLCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNsb25lLCB0aGlzLm5leHRTaWJsaW5nKSA6IGNsb25lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkZWVwKSB7XG4gIHJldHVybiB0aGlzLnNlbGVjdChkZWVwID8gc2VsZWN0aW9uX2Nsb25lRGVlcCA6IHNlbGVjdGlvbl9jbG9uZVNoYWxsb3cpO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMucHJvcGVydHkoXCJfX2RhdGFfX1wiLCB2YWx1ZSlcbiAgICAgIDogdGhpcy5ub2RlKCkuX19kYXRhX187XG59XG4iLCAiZnVuY3Rpb24gY29udGV4dExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIHJldHVybiBmdW5jdGlvbihldmVudCkge1xuICAgIGxpc3RlbmVyLmNhbGwodGhpcywgZXZlbnQsIHRoaXMuX19kYXRhX18pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZXMpIHtcbiAgcmV0dXJuIHR5cGVuYW1lcy50cmltKCkuc3BsaXQoL158XFxzKy8pLm1hcChmdW5jdGlvbih0KSB7XG4gICAgdmFyIG5hbWUgPSBcIlwiLCBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSBuYW1lID0gdC5zbGljZShpICsgMSksIHQgPSB0LnNsaWNlKDAsIGkpO1xuICAgIHJldHVybiB7dHlwZTogdCwgbmFtZTogbmFtZX07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvblJlbW92ZSh0eXBlbmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uID0gdGhpcy5fX29uO1xuICAgIGlmICghb24pIHJldHVybjtcbiAgICBmb3IgKHZhciBqID0gMCwgaSA9IC0xLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7XG4gICAgICBpZiAobyA9IG9uW2pdLCAoIXR5cGVuYW1lLnR5cGUgfHwgby50eXBlID09PSB0eXBlbmFtZS50eXBlKSAmJiBvLm5hbWUgPT09IHR5cGVuYW1lLm5hbWUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciwgby5vcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uWysraV0gPSBvO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoKytpKSBvbi5sZW5ndGggPSBpO1xuICAgIGVsc2UgZGVsZXRlIHRoaXMuX19vbjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gb25BZGQodHlwZW5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgb24gPSB0aGlzLl9fb24sIG8sIGxpc3RlbmVyID0gY29udGV4dExpc3RlbmVyKHZhbHVlKTtcbiAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgICBpZiAoKG8gPSBvbltqXSkudHlwZSA9PT0gdHlwZW5hbWUudHlwZSAmJiBvLm5hbWUgPT09IHR5cGVuYW1lLm5hbWUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciwgby5vcHRpb25zKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciA9IGxpc3RlbmVyLCBvLm9wdGlvbnMgPSBvcHRpb25zKTtcbiAgICAgICAgby52YWx1ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlbmFtZS50eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgbyA9IHt0eXBlOiB0eXBlbmFtZS50eXBlLCBuYW1lOiB0eXBlbmFtZS5uYW1lLCB2YWx1ZTogdmFsdWUsIGxpc3RlbmVyOiBsaXN0ZW5lciwgb3B0aW9uczogb3B0aW9uc307XG4gICAgaWYgKCFvbikgdGhpcy5fX29uID0gW29dO1xuICAgIGVsc2Ugb24ucHVzaChvKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odHlwZW5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XG4gIHZhciB0eXBlbmFtZXMgPSBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZSArIFwiXCIpLCBpLCBuID0gdHlwZW5hbWVzLmxlbmd0aCwgdDtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB2YXIgb24gPSB0aGlzLm5vZGUoKS5fX29uO1xuICAgIGlmIChvbikgZm9yICh2YXIgaiA9IDAsIG0gPSBvbi5sZW5ndGgsIG87IGogPCBtOyArK2opIHtcbiAgICAgIGZvciAoaSA9IDAsIG8gPSBvbltqXTsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAoKHQgPSB0eXBlbmFtZXNbaV0pLnR5cGUgPT09IG8udHlwZSAmJiB0Lm5hbWUgPT09IG8ubmFtZSkge1xuICAgICAgICAgIHJldHVybiBvLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIG9uID0gdmFsdWUgPyBvbkFkZCA6IG9uUmVtb3ZlO1xuICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB0aGlzLmVhY2gob24odHlwZW5hbWVzW2ldLCB2YWx1ZSwgb3B0aW9ucykpO1xuICByZXR1cm4gdGhpcztcbn1cbiIsICJpbXBvcnQgZGVmYXVsdFZpZXcgZnJvbSBcIi4uL3dpbmRvdy5qc1wiO1xuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykge1xuICB2YXIgd2luZG93ID0gZGVmYXVsdFZpZXcobm9kZSksXG4gICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcblxuICBpZiAodHlwZW9mIGV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBldmVudCA9IG5ldyBldmVudCh0eXBlLCBwYXJhbXMpO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgaWYgKHBhcmFtcykgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSksIGV2ZW50LmRldGFpbCA9IHBhcmFtcy5kZXRhaWw7XG4gICAgZWxzZSBldmVudC5pbml0RXZlbnQodHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoQ29uc3RhbnQodHlwZSwgcGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudCh0aGlzLCB0eXBlLCBwYXJhbXMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0eXBlLCBwYXJhbXMpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGRpc3BhdGNoRnVuY3Rpb25cbiAgICAgIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24qKCkge1xuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAwLCBtID0gZ3JvdXBzLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgeWllbGQgbm9kZTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgc2VsZWN0aW9uX3NlbGVjdCBmcm9tIFwiLi9zZWxlY3QuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0QWxsIGZyb20gXCIuL3NlbGVjdEFsbC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3RDaGlsZCBmcm9tIFwiLi9zZWxlY3RDaGlsZC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3RDaGlsZHJlbiBmcm9tIFwiLi9zZWxlY3RDaGlsZHJlbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9maWx0ZXIgZnJvbSBcIi4vZmlsdGVyLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2RhdGEgZnJvbSBcIi4vZGF0YS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9lbnRlciBmcm9tIFwiLi9lbnRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9leGl0IGZyb20gXCIuL2V4aXQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fam9pbiBmcm9tIFwiLi9qb2luLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX21lcmdlIGZyb20gXCIuL21lcmdlLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX29yZGVyIGZyb20gXCIuL29yZGVyLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3NvcnQgZnJvbSBcIi4vc29ydC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jYWxsIGZyb20gXCIuL2NhbGwuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fbm9kZXMgZnJvbSBcIi4vbm9kZXMuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fbm9kZSBmcm9tIFwiLi9ub2RlLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3NpemUgZnJvbSBcIi4vc2l6ZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9lbXB0eSBmcm9tIFwiLi9lbXB0eS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9lYWNoIGZyb20gXCIuL2VhY2guanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fYXR0ciBmcm9tIFwiLi9hdHRyLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3N0eWxlIGZyb20gXCIuL3N0eWxlLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3Byb3BlcnR5IGZyb20gXCIuL3Byb3BlcnR5LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2NsYXNzZWQgZnJvbSBcIi4vY2xhc3NlZC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl90ZXh0IGZyb20gXCIuL3RleHQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25faHRtbCBmcm9tIFwiLi9odG1sLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3JhaXNlIGZyb20gXCIuL3JhaXNlLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2xvd2VyIGZyb20gXCIuL2xvd2VyLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2FwcGVuZCBmcm9tIFwiLi9hcHBlbmQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25faW5zZXJ0IGZyb20gXCIuL2luc2VydC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9yZW1vdmUgZnJvbSBcIi4vcmVtb3ZlLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2Nsb25lIGZyb20gXCIuL2Nsb25lLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2RhdHVtIGZyb20gXCIuL2RhdHVtLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX29uIGZyb20gXCIuL29uLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2Rpc3BhdGNoIGZyb20gXCIuL2Rpc3BhdGNoLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2l0ZXJhdG9yIGZyb20gXCIuL2l0ZXJhdG9yLmpzXCI7XG5cbmV4cG9ydCB2YXIgcm9vdCA9IFtudWxsXTtcblxuZXhwb3J0IGZ1bmN0aW9uIFNlbGVjdGlvbihncm91cHMsIHBhcmVudHMpIHtcbiAgdGhpcy5fZ3JvdXBzID0gZ3JvdXBzO1xuICB0aGlzLl9wYXJlbnRzID0gcGFyZW50cztcbn1cblxuZnVuY3Rpb24gc2VsZWN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbihbW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudF1dLCByb290KTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0aW9uX3NlbGVjdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59XG5cblNlbGVjdGlvbi5wcm90b3R5cGUgPSBzZWxlY3Rpb24ucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogU2VsZWN0aW9uLFxuICBzZWxlY3Q6IHNlbGVjdGlvbl9zZWxlY3QsXG4gIHNlbGVjdEFsbDogc2VsZWN0aW9uX3NlbGVjdEFsbCxcbiAgc2VsZWN0Q2hpbGQ6IHNlbGVjdGlvbl9zZWxlY3RDaGlsZCxcbiAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9zZWxlY3RDaGlsZHJlbixcbiAgZmlsdGVyOiBzZWxlY3Rpb25fZmlsdGVyLFxuICBkYXRhOiBzZWxlY3Rpb25fZGF0YSxcbiAgZW50ZXI6IHNlbGVjdGlvbl9lbnRlcixcbiAgZXhpdDogc2VsZWN0aW9uX2V4aXQsXG4gIGpvaW46IHNlbGVjdGlvbl9qb2luLFxuICBtZXJnZTogc2VsZWN0aW9uX21lcmdlLFxuICBzZWxlY3Rpb246IHNlbGVjdGlvbl9zZWxlY3Rpb24sXG4gIG9yZGVyOiBzZWxlY3Rpb25fb3JkZXIsXG4gIHNvcnQ6IHNlbGVjdGlvbl9zb3J0LFxuICBjYWxsOiBzZWxlY3Rpb25fY2FsbCxcbiAgbm9kZXM6IHNlbGVjdGlvbl9ub2RlcyxcbiAgbm9kZTogc2VsZWN0aW9uX25vZGUsXG4gIHNpemU6IHNlbGVjdGlvbl9zaXplLFxuICBlbXB0eTogc2VsZWN0aW9uX2VtcHR5LFxuICBlYWNoOiBzZWxlY3Rpb25fZWFjaCxcbiAgYXR0cjogc2VsZWN0aW9uX2F0dHIsXG4gIHN0eWxlOiBzZWxlY3Rpb25fc3R5bGUsXG4gIHByb3BlcnR5OiBzZWxlY3Rpb25fcHJvcGVydHksXG4gIGNsYXNzZWQ6IHNlbGVjdGlvbl9jbGFzc2VkLFxuICB0ZXh0OiBzZWxlY3Rpb25fdGV4dCxcbiAgaHRtbDogc2VsZWN0aW9uX2h0bWwsXG4gIHJhaXNlOiBzZWxlY3Rpb25fcmFpc2UsXG4gIGxvd2VyOiBzZWxlY3Rpb25fbG93ZXIsXG4gIGFwcGVuZDogc2VsZWN0aW9uX2FwcGVuZCxcbiAgaW5zZXJ0OiBzZWxlY3Rpb25faW5zZXJ0LFxuICByZW1vdmU6IHNlbGVjdGlvbl9yZW1vdmUsXG4gIGNsb25lOiBzZWxlY3Rpb25fY2xvbmUsXG4gIGRhdHVtOiBzZWxlY3Rpb25fZGF0dW0sXG4gIG9uOiBzZWxlY3Rpb25fb24sXG4gIGRpc3BhdGNoOiBzZWxlY3Rpb25fZGlzcGF0Y2gsXG4gIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25faXRlcmF0b3Jcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNlbGVjdGlvbjtcbiIsICJpbXBvcnQge1NlbGVjdGlvbiwgcm9vdH0gZnJvbSBcIi4vc2VsZWN0aW9uL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIHJldHVybiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCJcbiAgICAgID8gbmV3IFNlbGVjdGlvbihbW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXV0sIFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdKVxuICAgICAgOiBuZXcgU2VsZWN0aW9uKFtbc2VsZWN0b3JdXSwgcm9vdCk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZXZlbnQpIHtcbiAgbGV0IHNvdXJjZUV2ZW50O1xuICB3aGlsZSAoc291cmNlRXZlbnQgPSBldmVudC5zb3VyY2VFdmVudCkgZXZlbnQgPSBzb3VyY2VFdmVudDtcbiAgcmV0dXJuIGV2ZW50O1xufVxuIiwgImltcG9ydCBzb3VyY2VFdmVudCBmcm9tIFwiLi9zb3VyY2VFdmVudC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihldmVudCwgbm9kZSkge1xuICBldmVudCA9IHNvdXJjZUV2ZW50KGV2ZW50KTtcbiAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkgbm9kZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gIGlmIChub2RlKSB7XG4gICAgdmFyIHN2ZyA9IG5vZGUub3duZXJTVkdFbGVtZW50IHx8IG5vZGU7XG4gICAgaWYgKHN2Zy5jcmVhdGVTVkdQb2ludCkge1xuICAgICAgdmFyIHBvaW50ID0gc3ZnLmNyZWF0ZVNWR1BvaW50KCk7XG4gICAgICBwb2ludC54ID0gZXZlbnQuY2xpZW50WCwgcG9pbnQueSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICBwb2ludCA9IHBvaW50Lm1hdHJpeFRyYW5zZm9ybShub2RlLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG4gICAgICByZXR1cm4gW3BvaW50LngsIHBvaW50LnldO1xuICAgIH1cbiAgICBpZiAobm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICAgIHZhciByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHJldHVybiBbZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCAtIG5vZGUuY2xpZW50TGVmdCwgZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wIC0gbm9kZS5jbGllbnRUb3BdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW2V2ZW50LnBhZ2VYLCBldmVudC5wYWdlWV07XG59XG4iLCAiLy8gVGhlc2UgYXJlIHR5cGljYWxseSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggbm9ldmVudCB0byBlbnN1cmUgdGhhdCB3ZSBjYW5cbi8vIHByZXZlbnREZWZhdWx0IG9uIHRoZSBldmVudC5cbmV4cG9ydCBjb25zdCBub25wYXNzaXZlID0ge3Bhc3NpdmU6IGZhbHNlfTtcbmV4cG9ydCBjb25zdCBub25wYXNzaXZlY2FwdHVyZSA9IHtjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiBmYWxzZX07XG5cbmV4cG9ydCBmdW5jdGlvbiBub3Byb3BhZ2F0aW9uKGV2ZW50KSB7XG4gIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbn1cbiIsICJpbXBvcnQge3NlbGVjdH0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IG5vZXZlbnQsIHtub25wYXNzaXZlY2FwdHVyZX0gZnJvbSBcIi4vbm9ldmVudC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2aWV3KSB7XG4gIHZhciByb290ID0gdmlldy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICBzZWxlY3Rpb24gPSBzZWxlY3Qodmlldykub24oXCJkcmFnc3RhcnQuZHJhZ1wiLCBub2V2ZW50LCBub25wYXNzaXZlY2FwdHVyZSk7XG4gIGlmIChcIm9uc2VsZWN0c3RhcnRcIiBpbiByb290KSB7XG4gICAgc2VsZWN0aW9uLm9uKFwic2VsZWN0c3RhcnQuZHJhZ1wiLCBub2V2ZW50LCBub25wYXNzaXZlY2FwdHVyZSk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5fX25vc2VsZWN0ID0gcm9vdC5zdHlsZS5Nb3pVc2VyU2VsZWN0O1xuICAgIHJvb3Quc3R5bGUuTW96VXNlclNlbGVjdCA9IFwibm9uZVwiO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB5ZXNkcmFnKHZpZXcsIG5vY2xpY2spIHtcbiAgdmFyIHJvb3QgPSB2aWV3LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdCh2aWV3KS5vbihcImRyYWdzdGFydC5kcmFnXCIsIG51bGwpO1xuICBpZiAobm9jbGljaykge1xuICAgIHNlbGVjdGlvbi5vbihcImNsaWNrLmRyYWdcIiwgbm9ldmVudCwgbm9ucGFzc2l2ZWNhcHR1cmUpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHNlbGVjdGlvbi5vbihcImNsaWNrLmRyYWdcIiwgbnVsbCk7IH0sIDApO1xuICB9XG4gIGlmIChcIm9uc2VsZWN0c3RhcnRcIiBpbiByb290KSB7XG4gICAgc2VsZWN0aW9uLm9uKFwic2VsZWN0c3RhcnQuZHJhZ1wiLCBudWxsKTtcbiAgfSBlbHNlIHtcbiAgICByb290LnN0eWxlLk1velVzZXJTZWxlY3QgPSByb290Ll9fbm9zZWxlY3Q7XG4gICAgZGVsZXRlIHJvb3QuX19ub3NlbGVjdDtcbiAgfVxufVxuIiwgImV4cG9ydCBkZWZhdWx0IHggPT4gKCkgPT4geDtcbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEcmFnRXZlbnQodHlwZSwge1xuICBzb3VyY2VFdmVudCxcbiAgc3ViamVjdCxcbiAgdGFyZ2V0LFxuICBpZGVudGlmaWVyLFxuICBhY3RpdmUsXG4gIHgsIHksIGR4LCBkeSxcbiAgZGlzcGF0Y2hcbn0pIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgIHR5cGU6IHt2YWx1ZTogdHlwZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcbiAgICBzb3VyY2VFdmVudDoge3ZhbHVlOiBzb3VyY2VFdmVudCwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcbiAgICBzdWJqZWN0OiB7dmFsdWU6IHN1YmplY3QsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXG4gICAgdGFyZ2V0OiB7dmFsdWU6IHRhcmdldCwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcbiAgICBpZGVudGlmaWVyOiB7dmFsdWU6IGlkZW50aWZpZXIsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXG4gICAgYWN0aXZlOiB7dmFsdWU6IGFjdGl2ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcbiAgICB4OiB7dmFsdWU6IHgsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXG4gICAgeToge3ZhbHVlOiB5LCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxuICAgIGR4OiB7dmFsdWU6IGR4LCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxuICAgIGR5OiB7dmFsdWU6IGR5LCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxuICAgIF86IHt2YWx1ZTogZGlzcGF0Y2h9XG4gIH0pO1xufVxuXG5EcmFnRXZlbnQucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oKSB7XG4gIHZhciB2YWx1ZSA9IHRoaXMuXy5vbi5hcHBseSh0aGlzLl8sIGFyZ3VtZW50cyk7XG4gIHJldHVybiB2YWx1ZSA9PT0gdGhpcy5fID8gdGhpcyA6IHZhbHVlO1xufTtcbiIsICJpbXBvcnQge2Rpc3BhdGNofSBmcm9tIFwiZDMtZGlzcGF0Y2hcIjtcbmltcG9ydCB7c2VsZWN0LCBwb2ludGVyfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQgbm9kcmFnLCB7eWVzZHJhZ30gZnJvbSBcIi4vbm9kcmFnLmpzXCI7XG5pbXBvcnQgbm9ldmVudCwge25vbnBhc3NpdmUsIG5vbnBhc3NpdmVjYXB0dXJlLCBub3Byb3BhZ2F0aW9ufSBmcm9tIFwiLi9ub2V2ZW50LmpzXCI7XG5pbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4vY29uc3RhbnQuanNcIjtcbmltcG9ydCBEcmFnRXZlbnQgZnJvbSBcIi4vZXZlbnQuanNcIjtcblxuLy8gSWdub3JlIHJpZ2h0LWNsaWNrLCBzaW5jZSB0aGF0IHNob3VsZCBvcGVuIHRoZSBjb250ZXh0IG1lbnUuXG5mdW5jdGlvbiBkZWZhdWx0RmlsdGVyKGV2ZW50KSB7XG4gIHJldHVybiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuYnV0dG9uO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29udGFpbmVyKCkge1xuICByZXR1cm4gdGhpcy5wYXJlbnROb2RlO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0U3ViamVjdChldmVudCwgZCkge1xuICByZXR1cm4gZCA9PSBudWxsID8ge3g6IGV2ZW50LngsIHk6IGV2ZW50Lnl9IDogZDtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFRvdWNoYWJsZSgpIHtcbiAgcmV0dXJuIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCAoXCJvbnRvdWNoc3RhcnRcIiBpbiB0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBmaWx0ZXIgPSBkZWZhdWx0RmlsdGVyLFxuICAgICAgY29udGFpbmVyID0gZGVmYXVsdENvbnRhaW5lcixcbiAgICAgIHN1YmplY3QgPSBkZWZhdWx0U3ViamVjdCxcbiAgICAgIHRvdWNoYWJsZSA9IGRlZmF1bHRUb3VjaGFibGUsXG4gICAgICBnZXN0dXJlcyA9IHt9LFxuICAgICAgbGlzdGVuZXJzID0gZGlzcGF0Y2goXCJzdGFydFwiLCBcImRyYWdcIiwgXCJlbmRcIiksXG4gICAgICBhY3RpdmUgPSAwLFxuICAgICAgbW91c2Vkb3dueCxcbiAgICAgIG1vdXNlZG93bnksXG4gICAgICBtb3VzZW1vdmluZyxcbiAgICAgIHRvdWNoZW5kaW5nLFxuICAgICAgY2xpY2tEaXN0YW5jZTIgPSAwO1xuXG4gIGZ1bmN0aW9uIGRyYWcoc2VsZWN0aW9uKSB7XG4gICAgc2VsZWN0aW9uXG4gICAgICAgIC5vbihcIm1vdXNlZG93bi5kcmFnXCIsIG1vdXNlZG93bmVkKVxuICAgICAgLmZpbHRlcih0b3VjaGFibGUpXG4gICAgICAgIC5vbihcInRvdWNoc3RhcnQuZHJhZ1wiLCB0b3VjaHN0YXJ0ZWQpXG4gICAgICAgIC5vbihcInRvdWNobW92ZS5kcmFnXCIsIHRvdWNobW92ZWQsIG5vbnBhc3NpdmUpXG4gICAgICAgIC5vbihcInRvdWNoZW5kLmRyYWcgdG91Y2hjYW5jZWwuZHJhZ1wiLCB0b3VjaGVuZGVkKVxuICAgICAgICAuc3R5bGUoXCJ0b3VjaC1hY3Rpb25cIiwgXCJub25lXCIpXG4gICAgICAgIC5zdHlsZShcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvclwiLCBcInJnYmEoMCwwLDAsMClcIik7XG4gIH1cblxuICBmdW5jdGlvbiBtb3VzZWRvd25lZChldmVudCwgZCkge1xuICAgIGlmICh0b3VjaGVuZGluZyB8fCAhZmlsdGVyLmNhbGwodGhpcywgZXZlbnQsIGQpKSByZXR1cm47XG4gICAgdmFyIGdlc3R1cmUgPSBiZWZvcmVzdGFydCh0aGlzLCBjb250YWluZXIuY2FsbCh0aGlzLCBldmVudCwgZCksIGV2ZW50LCBkLCBcIm1vdXNlXCIpO1xuICAgIGlmICghZ2VzdHVyZSkgcmV0dXJuO1xuICAgIHNlbGVjdChldmVudC52aWV3KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlLmRyYWdcIiwgbW91c2Vtb3ZlZCwgbm9ucGFzc2l2ZWNhcHR1cmUpXG4gICAgICAub24oXCJtb3VzZXVwLmRyYWdcIiwgbW91c2V1cHBlZCwgbm9ucGFzc2l2ZWNhcHR1cmUpO1xuICAgIG5vZHJhZyhldmVudC52aWV3KTtcbiAgICBub3Byb3BhZ2F0aW9uKGV2ZW50KTtcbiAgICBtb3VzZW1vdmluZyA9IGZhbHNlO1xuICAgIG1vdXNlZG93bnggPSBldmVudC5jbGllbnRYO1xuICAgIG1vdXNlZG93bnkgPSBldmVudC5jbGllbnRZO1xuICAgIGdlc3R1cmUoXCJzdGFydFwiLCBldmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBtb3VzZW1vdmVkKGV2ZW50KSB7XG4gICAgbm9ldmVudChldmVudCk7XG4gICAgaWYgKCFtb3VzZW1vdmluZykge1xuICAgICAgdmFyIGR4ID0gZXZlbnQuY2xpZW50WCAtIG1vdXNlZG93bngsIGR5ID0gZXZlbnQuY2xpZW50WSAtIG1vdXNlZG93bnk7XG4gICAgICBtb3VzZW1vdmluZyA9IGR4ICogZHggKyBkeSAqIGR5ID4gY2xpY2tEaXN0YW5jZTI7XG4gICAgfVxuICAgIGdlc3R1cmVzLm1vdXNlKFwiZHJhZ1wiLCBldmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBtb3VzZXVwcGVkKGV2ZW50KSB7XG4gICAgc2VsZWN0KGV2ZW50LnZpZXcpLm9uKFwibW91c2Vtb3ZlLmRyYWcgbW91c2V1cC5kcmFnXCIsIG51bGwpO1xuICAgIHllc2RyYWcoZXZlbnQudmlldywgbW91c2Vtb3ZpbmcpO1xuICAgIG5vZXZlbnQoZXZlbnQpO1xuICAgIGdlc3R1cmVzLm1vdXNlKFwiZW5kXCIsIGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvdWNoc3RhcnRlZChldmVudCwgZCkge1xuICAgIGlmICghZmlsdGVyLmNhbGwodGhpcywgZXZlbnQsIGQpKSByZXR1cm47XG4gICAgdmFyIHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgYyA9IGNvbnRhaW5lci5jYWxsKHRoaXMsIGV2ZW50LCBkKSxcbiAgICAgICAgbiA9IHRvdWNoZXMubGVuZ3RoLCBpLCBnZXN0dXJlO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKGdlc3R1cmUgPSBiZWZvcmVzdGFydCh0aGlzLCBjLCBldmVudCwgZCwgdG91Y2hlc1tpXS5pZGVudGlmaWVyLCB0b3VjaGVzW2ldKSkge1xuICAgICAgICBub3Byb3BhZ2F0aW9uKGV2ZW50KTtcbiAgICAgICAgZ2VzdHVyZShcInN0YXJ0XCIsIGV2ZW50LCB0b3VjaGVzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0b3VjaG1vdmVkKGV2ZW50KSB7XG4gICAgdmFyIHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgbiA9IHRvdWNoZXMubGVuZ3RoLCBpLCBnZXN0dXJlO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKGdlc3R1cmUgPSBnZXN0dXJlc1t0b3VjaGVzW2ldLmlkZW50aWZpZXJdKSB7XG4gICAgICAgIG5vZXZlbnQoZXZlbnQpO1xuICAgICAgICBnZXN0dXJlKFwiZHJhZ1wiLCBldmVudCwgdG91Y2hlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdG91Y2hlbmRlZChldmVudCkge1xuICAgIHZhciB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMsXG4gICAgICAgIG4gPSB0b3VjaGVzLmxlbmd0aCwgaSwgZ2VzdHVyZTtcblxuICAgIGlmICh0b3VjaGVuZGluZykgY2xlYXJUaW1lb3V0KHRvdWNoZW5kaW5nKTtcbiAgICB0b3VjaGVuZGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRvdWNoZW5kaW5nID0gbnVsbDsgfSwgNTAwKTsgLy8gR2hvc3QgY2xpY2tzIGFyZSBkZWxheWVkIVxuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChnZXN0dXJlID0gZ2VzdHVyZXNbdG91Y2hlc1tpXS5pZGVudGlmaWVyXSkge1xuICAgICAgICBub3Byb3BhZ2F0aW9uKGV2ZW50KTtcbiAgICAgICAgZ2VzdHVyZShcImVuZFwiLCBldmVudCwgdG91Y2hlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYmVmb3Jlc3RhcnQodGhhdCwgY29udGFpbmVyLCBldmVudCwgZCwgaWRlbnRpZmllciwgdG91Y2gpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSBsaXN0ZW5lcnMuY29weSgpLFxuICAgICAgICBwID0gcG9pbnRlcih0b3VjaCB8fCBldmVudCwgY29udGFpbmVyKSwgZHgsIGR5LFxuICAgICAgICBzO1xuXG4gICAgaWYgKChzID0gc3ViamVjdC5jYWxsKHRoYXQsIG5ldyBEcmFnRXZlbnQoXCJiZWZvcmVzdGFydFwiLCB7XG4gICAgICAgIHNvdXJjZUV2ZW50OiBldmVudCxcbiAgICAgICAgdGFyZ2V0OiBkcmFnLFxuICAgICAgICBpZGVudGlmaWVyLFxuICAgICAgICBhY3RpdmUsXG4gICAgICAgIHg6IHBbMF0sXG4gICAgICAgIHk6IHBbMV0sXG4gICAgICAgIGR4OiAwLFxuICAgICAgICBkeTogMCxcbiAgICAgICAgZGlzcGF0Y2hcbiAgICAgIH0pLCBkKSkgPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgZHggPSBzLnggLSBwWzBdIHx8IDA7XG4gICAgZHkgPSBzLnkgLSBwWzFdIHx8IDA7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gZ2VzdHVyZSh0eXBlLCBldmVudCwgdG91Y2gpIHtcbiAgICAgIHZhciBwMCA9IHAsIG47XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInN0YXJ0XCI6IGdlc3R1cmVzW2lkZW50aWZpZXJdID0gZ2VzdHVyZSwgbiA9IGFjdGl2ZSsrOyBicmVhaztcbiAgICAgICAgY2FzZSBcImVuZFwiOiBkZWxldGUgZ2VzdHVyZXNbaWRlbnRpZmllcl0sIC0tYWN0aXZlOyAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgXCJkcmFnXCI6IHAgPSBwb2ludGVyKHRvdWNoIHx8IGV2ZW50LCBjb250YWluZXIpLCBuID0gYWN0aXZlOyBicmVhaztcbiAgICAgIH1cbiAgICAgIGRpc3BhdGNoLmNhbGwoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRoYXQsXG4gICAgICAgIG5ldyBEcmFnRXZlbnQodHlwZSwge1xuICAgICAgICAgIHNvdXJjZUV2ZW50OiBldmVudCxcbiAgICAgICAgICBzdWJqZWN0OiBzLFxuICAgICAgICAgIHRhcmdldDogZHJhZyxcbiAgICAgICAgICBpZGVudGlmaWVyLFxuICAgICAgICAgIGFjdGl2ZTogbixcbiAgICAgICAgICB4OiBwWzBdICsgZHgsXG4gICAgICAgICAgeTogcFsxXSArIGR5LFxuICAgICAgICAgIGR4OiBwWzBdIC0gcDBbMF0sXG4gICAgICAgICAgZHk6IHBbMV0gLSBwMFsxXSxcbiAgICAgICAgICBkaXNwYXRjaFxuICAgICAgICB9KSxcbiAgICAgICAgZFxuICAgICAgKTtcbiAgICB9O1xuICB9XG5cbiAgZHJhZy5maWx0ZXIgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZmlsdGVyID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCghIV8pLCBkcmFnKSA6IGZpbHRlcjtcbiAgfTtcblxuICBkcmFnLmNvbnRhaW5lciA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChjb250YWluZXIgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KF8pLCBkcmFnKSA6IGNvbnRhaW5lcjtcbiAgfTtcblxuICBkcmFnLnN1YmplY3QgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc3ViamVjdCA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoXyksIGRyYWcpIDogc3ViamVjdDtcbiAgfTtcblxuICBkcmFnLnRvdWNoYWJsZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0b3VjaGFibGUgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCEhXyksIGRyYWcpIDogdG91Y2hhYmxlO1xuICB9O1xuXG4gIGRyYWcub24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSBsaXN0ZW5lcnMub24uYXBwbHkobGlzdGVuZXJzLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbGlzdGVuZXJzID8gZHJhZyA6IHZhbHVlO1xuICB9O1xuXG4gIGRyYWcuY2xpY2tEaXN0YW5jZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChjbGlja0Rpc3RhbmNlMiA9IChfID0gK18pICogXywgZHJhZykgOiBNYXRoLnNxcnQoY2xpY2tEaXN0YW5jZTIpO1xuICB9O1xuXG4gIHJldHVybiBkcmFnO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCBmYWN0b3J5LCBwcm90b3R5cGUpIHtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlID0gZmFjdG9yeS5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKHBhcmVudCwgZGVmaW5pdGlvbikge1xuICB2YXIgcHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQucHJvdG90eXBlKTtcbiAgZm9yICh2YXIga2V5IGluIGRlZmluaXRpb24pIHByb3RvdHlwZVtrZXldID0gZGVmaW5pdGlvbltrZXldO1xuICByZXR1cm4gcHJvdG90eXBlO1xufVxuIiwgImltcG9ydCBkZWZpbmUsIHtleHRlbmR9IGZyb20gXCIuL2RlZmluZS5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29sb3IoKSB7fVxuXG5leHBvcnQgdmFyIGRhcmtlciA9IDAuNztcbmV4cG9ydCB2YXIgYnJpZ2h0ZXIgPSAxIC8gZGFya2VyO1xuXG52YXIgcmVJID0gXCJcXFxccyooWystXT9cXFxcZCspXFxcXHMqXCIsXG4gICAgcmVOID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pXFxcXHMqXCIsXG4gICAgcmVQID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pJVxcXFxzKlwiLFxuICAgIHJlSGV4ID0gL14jKFswLTlhLWZdezMsOH0pJC8sXG4gICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX1cXFxcKSRgKSxcbiAgICByZVJnYlBlcmNlbnQgPSBuZXcgUmVnRXhwKGBecmdiXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlUmdiYUludGVnZXIgPSBuZXcgUmVnRXhwKGBecmdiYVxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFxcXCkkYCksXG4gICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfSwke3JlTn1cXFxcKSRgKSxcbiAgICByZUhzbFBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsXFxcXCgke3JlTn0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlSHNsYVBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsYVxcXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFxcXCkkYCk7XG5cbnZhciBuYW1lZCA9IHtcbiAgYWxpY2VibHVlOiAweGYwZjhmZixcbiAgYW50aXF1ZXdoaXRlOiAweGZhZWJkNyxcbiAgYXF1YTogMHgwMGZmZmYsXG4gIGFxdWFtYXJpbmU6IDB4N2ZmZmQ0LFxuICBhenVyZTogMHhmMGZmZmYsXG4gIGJlaWdlOiAweGY1ZjVkYyxcbiAgYmlzcXVlOiAweGZmZTRjNCxcbiAgYmxhY2s6IDB4MDAwMDAwLFxuICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsXG4gIGJsdWU6IDB4MDAwMGZmLFxuICBibHVldmlvbGV0OiAweDhhMmJlMixcbiAgYnJvd246IDB4YTUyYTJhLFxuICBidXJseXdvb2Q6IDB4ZGViODg3LFxuICBjYWRldGJsdWU6IDB4NWY5ZWEwLFxuICBjaGFydHJldXNlOiAweDdmZmYwMCxcbiAgY2hvY29sYXRlOiAweGQyNjkxZSxcbiAgY29yYWw6IDB4ZmY3ZjUwLFxuICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsXG4gIGNvcm5zaWxrOiAweGZmZjhkYyxcbiAgY3JpbXNvbjogMHhkYzE0M2MsXG4gIGN5YW46IDB4MDBmZmZmLFxuICBkYXJrYmx1ZTogMHgwMDAwOGIsXG4gIGRhcmtjeWFuOiAweDAwOGI4YixcbiAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsXG4gIGRhcmtncmF5OiAweGE5YTlhOSxcbiAgZGFya2dyZWVuOiAweDAwNjQwMCxcbiAgZGFya2dyZXk6IDB4YTlhOWE5LFxuICBkYXJra2hha2k6IDB4YmRiNzZiLFxuICBkYXJrbWFnZW50YTogMHg4YjAwOGIsXG4gIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZixcbiAgZGFya29yYW5nZTogMHhmZjhjMDAsXG4gIGRhcmtvcmNoaWQ6IDB4OTkzMmNjLFxuICBkYXJrcmVkOiAweDhiMDAwMCxcbiAgZGFya3NhbG1vbjogMHhlOTk2N2EsXG4gIGRhcmtzZWFncmVlbjogMHg4ZmJjOGYsXG4gIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLFxuICBkYXJrc2xhdGVncmF5OiAweDJmNGY0ZixcbiAgZGFya3NsYXRlZ3JleTogMHgyZjRmNGYsXG4gIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLFxuICBkYXJrdmlvbGV0OiAweDk0MDBkMyxcbiAgZGVlcHBpbms6IDB4ZmYxNDkzLFxuICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsXG4gIGRpbWdyYXk6IDB4Njk2OTY5LFxuICBkaW1ncmV5OiAweDY5Njk2OSxcbiAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsXG4gIGZpcmVicmljazogMHhiMjIyMjIsXG4gIGZsb3JhbHdoaXRlOiAweGZmZmFmMCxcbiAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLFxuICBmdWNoc2lhOiAweGZmMDBmZixcbiAgZ2FpbnNib3JvOiAweGRjZGNkYyxcbiAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsXG4gIGdvbGQ6IDB4ZmZkNzAwLFxuICBnb2xkZW5yb2Q6IDB4ZGFhNTIwLFxuICBncmF5OiAweDgwODA4MCxcbiAgZ3JlZW46IDB4MDA4MDAwLFxuICBncmVlbnllbGxvdzogMHhhZGZmMmYsXG4gIGdyZXk6IDB4ODA4MDgwLFxuICBob25leWRldzogMHhmMGZmZjAsXG4gIGhvdHBpbms6IDB4ZmY2OWI0LFxuICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLFxuICBpbmRpZ286IDB4NGIwMDgyLFxuICBpdm9yeTogMHhmZmZmZjAsXG4gIGtoYWtpOiAweGYwZTY4YyxcbiAgbGF2ZW5kZXI6IDB4ZTZlNmZhLFxuICBsYXZlbmRlcmJsdXNoOiAweGZmZjBmNSxcbiAgbGF3bmdyZWVuOiAweDdjZmMwMCxcbiAgbGVtb25jaGlmZm9uOiAweGZmZmFjZCxcbiAgbGlnaHRibHVlOiAweGFkZDhlNixcbiAgbGlnaHRjb3JhbDogMHhmMDgwODAsXG4gIGxpZ2h0Y3lhbjogMHhlMGZmZmYsXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweGZhZmFkMixcbiAgbGlnaHRncmF5OiAweGQzZDNkMyxcbiAgbGlnaHRncmVlbjogMHg5MGVlOTAsXG4gIGxpZ2h0Z3JleTogMHhkM2QzZDMsXG4gIGxpZ2h0cGluazogMHhmZmI2YzEsXG4gIGxpZ2h0c2FsbW9uOiAweGZmYTA3YSxcbiAgbGlnaHRzZWFncmVlbjogMHgyMGIyYWEsXG4gIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsXG4gIGxpZ2h0c2xhdGVncmF5OiAweDc3ODg5OSxcbiAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5LFxuICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsXG4gIGxpZ2h0eWVsbG93OiAweGZmZmZlMCxcbiAgbGltZTogMHgwMGZmMDAsXG4gIGxpbWVncmVlbjogMHgzMmNkMzIsXG4gIGxpbmVuOiAweGZhZjBlNixcbiAgbWFnZW50YTogMHhmZjAwZmYsXG4gIG1hcm9vbjogMHg4MDAwMDAsXG4gIG1lZGl1bWFxdWFtYXJpbmU6IDB4NjZjZGFhLFxuICBtZWRpdW1ibHVlOiAweDAwMDBjZCxcbiAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMyxcbiAgbWVkaXVtcHVycGxlOiAweDkzNzBkYixcbiAgbWVkaXVtc2VhZ3JlZW46IDB4M2NiMzcxLFxuICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLFxuICBtZWRpdW1zcHJpbmdncmVlbjogMHgwMGZhOWEsXG4gIG1lZGl1bXR1cnF1b2lzZTogMHg0OGQxY2MsXG4gIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsXG4gIG1pZG5pZ2h0Ymx1ZTogMHgxOTE5NzAsXG4gIG1pbnRjcmVhbTogMHhmNWZmZmEsXG4gIG1pc3R5cm9zZTogMHhmZmU0ZTEsXG4gIG1vY2Nhc2luOiAweGZmZTRiNSxcbiAgbmF2YWpvd2hpdGU6IDB4ZmZkZWFkLFxuICBuYXZ5OiAweDAwMDA4MCxcbiAgb2xkbGFjZTogMHhmZGY1ZTYsXG4gIG9saXZlOiAweDgwODAwMCxcbiAgb2xpdmVkcmFiOiAweDZiOGUyMyxcbiAgb3JhbmdlOiAweGZmYTUwMCxcbiAgb3JhbmdlcmVkOiAweGZmNDUwMCxcbiAgb3JjaGlkOiAweGRhNzBkNixcbiAgcGFsZWdvbGRlbnJvZDogMHhlZWU4YWEsXG4gIHBhbGVncmVlbjogMHg5OGZiOTgsXG4gIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLFxuICBwYWxldmlvbGV0cmVkOiAweGRiNzA5MyxcbiAgcGFwYXlhd2hpcDogMHhmZmVmZDUsXG4gIHBlYWNocHVmZjogMHhmZmRhYjksXG4gIHBlcnU6IDB4Y2Q4NTNmLFxuICBwaW5rOiAweGZmYzBjYixcbiAgcGx1bTogMHhkZGEwZGQsXG4gIHBvd2RlcmJsdWU6IDB4YjBlMGU2LFxuICBwdXJwbGU6IDB4ODAwMDgwLFxuICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSxcbiAgcmVkOiAweGZmMDAwMCxcbiAgcm9zeWJyb3duOiAweGJjOGY4ZixcbiAgcm95YWxibHVlOiAweDQxNjllMSxcbiAgc2FkZGxlYnJvd246IDB4OGI0NTEzLFxuICBzYWxtb246IDB4ZmE4MDcyLFxuICBzYW5keWJyb3duOiAweGY0YTQ2MCxcbiAgc2VhZ3JlZW46IDB4MmU4YjU3LFxuICBzZWFzaGVsbDogMHhmZmY1ZWUsXG4gIHNpZW5uYTogMHhhMDUyMmQsXG4gIHNpbHZlcjogMHhjMGMwYzAsXG4gIHNreWJsdWU6IDB4ODdjZWViLFxuICBzbGF0ZWJsdWU6IDB4NmE1YWNkLFxuICBzbGF0ZWdyYXk6IDB4NzA4MDkwLFxuICBzbGF0ZWdyZXk6IDB4NzA4MDkwLFxuICBzbm93OiAweGZmZmFmYSxcbiAgc3ByaW5nZ3JlZW46IDB4MDBmZjdmLFxuICBzdGVlbGJsdWU6IDB4NDY4MmI0LFxuICB0YW46IDB4ZDJiNDhjLFxuICB0ZWFsOiAweDAwODA4MCxcbiAgdGhpc3RsZTogMHhkOGJmZDgsXG4gIHRvbWF0bzogMHhmZjYzNDcsXG4gIHR1cnF1b2lzZTogMHg0MGUwZDAsXG4gIHZpb2xldDogMHhlZTgyZWUsXG4gIHdoZWF0OiAweGY1ZGViMyxcbiAgd2hpdGU6IDB4ZmZmZmZmLFxuICB3aGl0ZXNtb2tlOiAweGY1ZjVmNSxcbiAgeWVsbG93OiAweGZmZmYwMCxcbiAgeWVsbG93Z3JlZW46IDB4OWFjZDMyXG59O1xuXG5kZWZpbmUoQ29sb3IsIGNvbG9yLCB7XG4gIGNvcHkoY2hhbm5lbHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvciwgdGhpcywgY2hhbm5lbHMpO1xuICB9LFxuICBkaXNwbGF5YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpO1xuICB9LFxuICBoZXg6IGNvbG9yX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsXG4gIGZvcm1hdEhleDg6IGNvbG9yX2Zvcm1hdEhleDgsXG4gIGZvcm1hdEhzbDogY29sb3JfZm9ybWF0SHNsLFxuICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYixcbiAgdG9TdHJpbmc6IGNvbG9yX2Zvcm1hdFJnYlxufSk7XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleCgpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0SGV4KCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleDgoKSB7XG4gIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkge1xuICByZXR1cm4gaHNsQ29udmVydCh0aGlzKS5mb3JtYXRIc2woKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0UmdiKCkge1xuICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRSZ2IoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29sb3IoZm9ybWF0KSB7XG4gIHZhciBtLCBsO1xuICBmb3JtYXQgPSAoZm9ybWF0ICsgXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwXG4gICAgICA6IGwgPT09IDMgPyBuZXcgUmdiKChtID4+IDggJiAweGYpIHwgKG0gPj4gNCAmIDB4ZjApLCAobSA+PiA0ICYgMHhmKSB8IChtICYgMHhmMCksICgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZiksIDEpIC8vICNmMDBcbiAgICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwXG4gICAgICA6IGwgPT09IDQgPyByZ2JhKChtID4+IDEyICYgMHhmKSB8IChtID4+IDggJiAweGYwKSwgKG0gPj4gOCAmIDB4ZikgfCAobSA+PiA0ICYgMHhmMCksIChtID4+IDQgJiAweGYpIHwgKG0gJiAweGYwKSwgKCgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZikpIC8gMHhmZikgLy8gI2YwMDBcbiAgICAgIDogbnVsbCkgLy8gaW52YWxpZCBoZXhcbiAgICAgIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMClcbiAgICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSlcbiAgICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKVxuICAgICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSlcbiAgICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpXG4gICAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpXG4gICAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICA6IGZvcm1hdCA9PT0gXCJ0cmFuc3BhcmVudFwiID8gbmV3IFJnYihOYU4sIE5hTiwgTmFOLCAwKVxuICAgICAgOiBudWxsO1xufVxuXG5mdW5jdGlvbiByZ2JuKG4pIHtcbiAgcmV0dXJuIG5ldyBSZ2IobiA+PiAxNiAmIDB4ZmYsIG4gPj4gOCAmIDB4ZmYsIG4gJiAweGZmLCAxKTtcbn1cblxuZnVuY3Rpb24gcmdiYShyLCBnLCBiLCBhKSB7XG4gIGlmIChhIDw9IDApIHIgPSBnID0gYiA9IE5hTjtcbiAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JDb252ZXJ0KG8pIHtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgUmdiO1xuICBvID0gby5yZ2IoKTtcbiAgcmV0dXJuIG5ldyBSZ2Ioby5yLCBvLmcsIG8uYiwgby5vcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYihyLCBnLCBiLCBvcGFjaXR5KSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gcmdiQ29udmVydChyKSA6IG5ldyBSZ2IociwgZywgYiwgb3BhY2l0eSA9PSBudWxsID8gMSA6IG9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmdiKHIsIGcsIGIsIG9wYWNpdHkpIHtcbiAgdGhpcy5yID0gK3I7XG4gIHRoaXMuZyA9ICtnO1xuICB0aGlzLmIgPSArYjtcbiAgdGhpcy5vcGFjaXR5ID0gK29wYWNpdHk7XG59XG5cbmRlZmluZShSZ2IsIHJnYiwgZXh0ZW5kKENvbG9yLCB7XG4gIGJyaWdodGVyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7XG4gICAgcmV0dXJuIG5ldyBSZ2IodGhpcy5yICogaywgdGhpcy5nICogaywgdGhpcy5iICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgZGFya2VyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGNsYW1wKCkge1xuICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTtcbiAgfSxcbiAgZGlzcGxheWFibGUoKSB7XG4gICAgcmV0dXJuICgtMC41IDw9IHRoaXMuciAmJiB0aGlzLnIgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41KVxuICAgICAgICAmJiAoLTAuNSA8PSB0aGlzLmIgJiYgdGhpcy5iIDwgMjU1LjUpXG4gICAgICAgICYmICgwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMSk7XG4gIH0sXG4gIGhleDogcmdiX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiByZ2JfZm9ybWF0SGV4LFxuICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCxcbiAgZm9ybWF0UmdiOiByZ2JfZm9ybWF0UmdiLFxuICB0b1N0cmluZzogcmdiX2Zvcm1hdFJnYlxufSkpO1xuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4KCkge1xuICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gO1xufVxuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHtcbiAgcmV0dXJuIGAjJHtoZXgodGhpcy5yKX0ke2hleCh0aGlzLmcpfSR7aGV4KHRoaXMuYil9JHtoZXgoKGlzTmFOKHRoaXMub3BhY2l0eSkgPyAxIDogdGhpcy5vcGFjaXR5KSAqIDI1NSl9YDtcbn1cblxuZnVuY3Rpb24gcmdiX2Zvcm1hdFJnYigpIHtcbiAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICByZXR1cm4gYCR7YSA9PT0gMSA/IFwicmdiKFwiIDogXCJyZ2JhKFwifSR7Y2xhbXBpKHRoaXMucil9LCAke2NsYW1waSh0aGlzLmcpfSwgJHtjbGFtcGkodGhpcy5iKX0ke2EgPT09IDEgPyBcIilcIiA6IGAsICR7YX0pYH1gO1xufVxuXG5mdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkge1xuICByZXR1cm4gaXNOYU4ob3BhY2l0eSkgPyAxIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgb3BhY2l0eSkpO1xufVxuXG5mdW5jdGlvbiBjbGFtcGkodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh2YWx1ZSkgfHwgMCkpO1xufVxuXG5mdW5jdGlvbiBoZXgodmFsdWUpIHtcbiAgdmFsdWUgPSBjbGFtcGkodmFsdWUpO1xuICByZXR1cm4gKHZhbHVlIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgdmFsdWUudG9TdHJpbmcoMTYpO1xufVxuXG5mdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHtcbiAgaWYgKGEgPD0gMCkgaCA9IHMgPSBsID0gTmFOO1xuICBlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtcbiAgZWxzZSBpZiAocyA8PSAwKSBoID0gTmFOO1xuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbENvbnZlcnQobykge1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgSHNsO1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG87XG4gIG8gPSBvLnJnYigpO1xuICB2YXIgciA9IG8uciAvIDI1NSxcbiAgICAgIGcgPSBvLmcgLyAyNTUsXG4gICAgICBiID0gby5iIC8gMjU1LFxuICAgICAgbWluID0gTWF0aC5taW4ociwgZywgYiksXG4gICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgIGggPSBOYU4sXG4gICAgICBzID0gbWF4IC0gbWluLFxuICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgaWYgKHMpIHtcbiAgICBpZiAociA9PT0gbWF4KSBoID0gKGcgLSBiKSAvIHMgKyAoZyA8IGIpICogNjtcbiAgICBlbHNlIGlmIChnID09PSBtYXgpIGggPSAoYiAtIHIpIC8gcyArIDI7XG4gICAgZWxzZSBoID0gKHIgLSBnKSAvIHMgKyA0O1xuICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47XG4gICAgaCAqPSA2MDtcbiAgfSBlbHNlIHtcbiAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDtcbiAgfVxuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBvLm9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHNsKGgsIHMsIGwsIG9wYWNpdHkpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBoc2xDb252ZXJ0KGgpIDogbmV3IEhzbChoLCBzLCBsLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7XG59XG5cbmZ1bmN0aW9uIEhzbChoLCBzLCBsLCBvcGFjaXR5KSB7XG4gIHRoaXMuaCA9ICtoO1xuICB0aGlzLnMgPSArcztcbiAgdGhpcy5sID0gK2w7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXIoaykge1xuICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgdmFyIGggPSB0aGlzLmggJSAzNjAgKyAodGhpcy5oIDwgMCkgKiAzNjAsXG4gICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucyxcbiAgICAgICAgbCA9IHRoaXMubCxcbiAgICAgICAgbTIgPSBsICsgKGwgPCAwLjUgPyBsIDogMSAtIGwpICogcyxcbiAgICAgICAgbTEgPSAyICogbCAtIG0yO1xuICAgIHJldHVybiBuZXcgUmdiKFxuICAgICAgaHNsMnJnYihoID49IDI0MCA/IGggLSAyNDAgOiBoICsgMTIwLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksXG4gICAgICB0aGlzLm9wYWNpdHlcbiAgICApO1xuICB9LFxuICBjbGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IEhzbChjbGFtcGgodGhpcy5oKSwgY2xhbXB0KHRoaXMucyksIGNsYW1wdCh0aGlzLmwpLCBjbGFtcGEodGhpcy5vcGFjaXR5KSk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlKCkge1xuICAgIHJldHVybiAoMCA8PSB0aGlzLnMgJiYgdGhpcy5zIDw9IDEgfHwgaXNOYU4odGhpcy5zKSlcbiAgICAgICAgJiYgKDAgPD0gdGhpcy5sICYmIHRoaXMubCA8PSAxKVxuICAgICAgICAmJiAoMCA8PSB0aGlzLm9wYWNpdHkgJiYgdGhpcy5vcGFjaXR5IDw9IDEpO1xuICB9LFxuICBmb3JtYXRIc2woKSB7XG4gICAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICAgIHJldHVybiBgJHthID09PSAxID8gXCJoc2woXCIgOiBcImhzbGEoXCJ9JHtjbGFtcGgodGhpcy5oKX0sICR7Y2xhbXB0KHRoaXMucykgKiAxMDB9JSwgJHtjbGFtcHQodGhpcy5sKSAqIDEwMH0lJHthID09PSAxID8gXCIpXCIgOiBgLCAke2F9KWB9YDtcbiAgfVxufSkpO1xuXG5mdW5jdGlvbiBjbGFtcGgodmFsdWUpIHtcbiAgdmFsdWUgPSAodmFsdWUgfHwgMCkgJSAzNjA7XG4gIHJldHVybiB2YWx1ZSA8IDAgPyB2YWx1ZSArIDM2MCA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjbGFtcHQodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTtcbn1cblxuLyogRnJvbSBGdkQgMTMuMzcsIENTUyBDb2xvciBNb2R1bGUgTGV2ZWwgMyAqL1xuZnVuY3Rpb24gaHNsMnJnYihoLCBtMSwgbTIpIHtcbiAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MFxuICAgICAgOiBoIDwgMTgwID8gbTJcbiAgICAgIDogaCA8IDI0MCA/IG0xICsgKG0yIC0gbTEpICogKDI0MCAtIGgpIC8gNjBcbiAgICAgIDogbTEpICogMjU1O1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBiYXNpcyh0MSwgdjAsIHYxLCB2MiwgdjMpIHtcbiAgdmFyIHQyID0gdDEgKiB0MSwgdDMgPSB0MiAqIHQxO1xuICByZXR1cm4gKCgxIC0gMyAqIHQxICsgMyAqIHQyIC0gdDMpICogdjBcbiAgICAgICsgKDQgLSA2ICogdDIgKyAzICogdDMpICogdjFcbiAgICAgICsgKDEgKyAzICogdDEgKyAzICogdDIgLSAzICogdDMpICogdjJcbiAgICAgICsgdDMgKiB2MykgLyA2O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgdmFyIG4gPSB2YWx1ZXMubGVuZ3RoIC0gMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgaSA9IHQgPD0gMCA/ICh0ID0gMCkgOiB0ID49IDEgPyAodCA9IDEsIG4gLSAxKSA6IE1hdGguZmxvb3IodCAqIG4pLFxuICAgICAgICB2MSA9IHZhbHVlc1tpXSxcbiAgICAgICAgdjIgPSB2YWx1ZXNbaSArIDFdLFxuICAgICAgICB2MCA9IGkgPiAwID8gdmFsdWVzW2kgLSAxXSA6IDIgKiB2MSAtIHYyLFxuICAgICAgICB2MyA9IGkgPCBuIC0gMSA/IHZhbHVlc1tpICsgMl0gOiAyICogdjIgLSB2MTtcbiAgICByZXR1cm4gYmFzaXMoKHQgLSBpIC8gbikgKiBuLCB2MCwgdjEsIHYyLCB2Myk7XG4gIH07XG59XG4iLCAiaW1wb3J0IHtiYXNpc30gZnJvbSBcIi4vYmFzaXMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWVzKSB7XG4gIHZhciBuID0gdmFsdWVzLmxlbmd0aDtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgaSA9IE1hdGguZmxvb3IoKCh0ICU9IDEpIDwgMCA/ICsrdCA6IHQpICogbiksXG4gICAgICAgIHYwID0gdmFsdWVzWyhpICsgbiAtIDEpICUgbl0sXG4gICAgICAgIHYxID0gdmFsdWVzW2kgJSBuXSxcbiAgICAgICAgdjIgPSB2YWx1ZXNbKGkgKyAxKSAlIG5dLFxuICAgICAgICB2MyA9IHZhbHVlc1soaSArIDIpICUgbl07XG4gICAgcmV0dXJuIGJhc2lzKCh0IC0gaSAvIG4pICogbiwgdjAsIHYxLCB2MiwgdjMpO1xuICB9O1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IHggPT4gKCkgPT4geDtcbiIsICJpbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4vY29uc3RhbnQuanNcIjtcblxuZnVuY3Rpb24gbGluZWFyKGEsIGQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gYSArIHQgKiBkO1xuICB9O1xufVxuXG5mdW5jdGlvbiBleHBvbmVudGlhbChhLCBiLCB5KSB7XG4gIHJldHVybiBhID0gTWF0aC5wb3coYSwgeSksIGIgPSBNYXRoLnBvdyhiLCB5KSAtIGEsIHkgPSAxIC8geSwgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBNYXRoLnBvdyhhICsgdCAqIGIsIHkpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHVlKGEsIGIpIHtcbiAgdmFyIGQgPSBiIC0gYTtcbiAgcmV0dXJuIGQgPyBsaW5lYXIoYSwgZCA+IDE4MCB8fCBkIDwgLTE4MCA/IGQgLSAzNjAgKiBNYXRoLnJvdW5kKGQgLyAzNjApIDogZCkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdhbW1hKHkpIHtcbiAgcmV0dXJuICh5ID0gK3kpID09PSAxID8gbm9nYW1tYSA6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYiAtIGEgPyBleHBvbmVudGlhbChhLCBiLCB5KSA6IGNvbnN0YW50KGlzTmFOKGEpID8gYiA6IGEpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBub2dhbW1hKGEsIGIpIHtcbiAgdmFyIGQgPSBiIC0gYTtcbiAgcmV0dXJuIGQgPyBsaW5lYXIoYSwgZCkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbn1cbiIsICJpbXBvcnQge3JnYiBhcyBjb2xvclJnYn0gZnJvbSBcImQzLWNvbG9yXCI7XG5pbXBvcnQgYmFzaXMgZnJvbSBcIi4vYmFzaXMuanNcIjtcbmltcG9ydCBiYXNpc0Nsb3NlZCBmcm9tIFwiLi9iYXNpc0Nsb3NlZC5qc1wiO1xuaW1wb3J0IG5vZ2FtbWEsIHtnYW1tYX0gZnJvbSBcIi4vY29sb3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHtcbiAgdmFyIGNvbG9yID0gZ2FtbWEoeSk7XG5cbiAgZnVuY3Rpb24gcmdiKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IGNvbG9yUmdiKHN0YXJ0KSkuciwgKGVuZCA9IGNvbG9yUmdiKGVuZCkpLnIpLFxuICAgICAgICBnID0gY29sb3Ioc3RhcnQuZywgZW5kLmcpLFxuICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLFxuICAgICAgICBvcGFjaXR5ID0gbm9nYW1tYShzdGFydC5vcGFjaXR5LCBlbmQub3BhY2l0eSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHN0YXJ0LnIgPSByKHQpO1xuICAgICAgc3RhcnQuZyA9IGcodCk7XG4gICAgICBzdGFydC5iID0gYih0KTtcbiAgICAgIHN0YXJ0Lm9wYWNpdHkgPSBvcGFjaXR5KHQpO1xuICAgICAgcmV0dXJuIHN0YXJ0ICsgXCJcIjtcbiAgICB9O1xuICB9XG5cbiAgcmdiLmdhbW1hID0gcmdiR2FtbWE7XG5cbiAgcmV0dXJuIHJnYjtcbn0pKDEpO1xuXG5mdW5jdGlvbiByZ2JTcGxpbmUoc3BsaW5lKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xvcnMpIHtcbiAgICB2YXIgbiA9IGNvbG9ycy5sZW5ndGgsXG4gICAgICAgIHIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGcgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGksIGNvbG9yO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGNvbG9yID0gY29sb3JSZ2IoY29sb3JzW2ldKTtcbiAgICAgIHJbaV0gPSBjb2xvci5yIHx8IDA7XG4gICAgICBnW2ldID0gY29sb3IuZyB8fCAwO1xuICAgICAgYltpXSA9IGNvbG9yLmIgfHwgMDtcbiAgICB9XG4gICAgciA9IHNwbGluZShyKTtcbiAgICBnID0gc3BsaW5lKGcpO1xuICAgIGIgPSBzcGxpbmUoYik7XG4gICAgY29sb3Iub3BhY2l0eSA9IDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGNvbG9yLnIgPSByKHQpO1xuICAgICAgY29sb3IuZyA9IGcodCk7XG4gICAgICBjb2xvci5iID0gYih0KTtcbiAgICAgIHJldHVybiBjb2xvciArIFwiXCI7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciByZ2JCYXNpcyA9IHJnYlNwbGluZShiYXNpcyk7XG5leHBvcnQgdmFyIHJnYkJhc2lzQ2xvc2VkID0gcmdiU3BsaW5lKGJhc2lzQ2xvc2VkKTtcbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID0gK2EsIGIgPSArYiwgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBhICogKDEgLSB0KSArIGIgKiB0O1xuICB9O1xufVxuIiwgImltcG9ydCBudW1iZXIgZnJvbSBcIi4vbnVtYmVyLmpzXCI7XG5cbnZhciByZUEgPSAvWy0rXT8oPzpcXGQrXFwuP1xcZCp8XFwuP1xcZCspKD86W2VFXVstK10/XFxkKyk/L2csXG4gICAgcmVCID0gbmV3IFJlZ0V4cChyZUEuc291cmNlLCBcImdcIik7XG5cbmZ1bmN0aW9uIHplcm8oYikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGI7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uZShiKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGIodCkgKyBcIlwiO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciBiaSA9IHJlQS5sYXN0SW5kZXggPSByZUIubGFzdEluZGV4ID0gMCwgLy8gc2NhbiBpbmRleCBmb3IgbmV4dCBudW1iZXIgaW4gYlxuICAgICAgYW0sIC8vIGN1cnJlbnQgbWF0Y2ggaW4gYVxuICAgICAgYm0sIC8vIGN1cnJlbnQgbWF0Y2ggaW4gYlxuICAgICAgYnMsIC8vIHN0cmluZyBwcmVjZWRpbmcgY3VycmVudCBudW1iZXIgaW4gYiwgaWYgYW55XG4gICAgICBpID0gLTEsIC8vIGluZGV4IGluIHNcbiAgICAgIHMgPSBbXSwgLy8gc3RyaW5nIGNvbnN0YW50cyBhbmQgcGxhY2Vob2xkZXJzXG4gICAgICBxID0gW107IC8vIG51bWJlciBpbnRlcnBvbGF0b3JzXG5cbiAgLy8gQ29lcmNlIGlucHV0cyB0byBzdHJpbmdzLlxuICBhID0gYSArIFwiXCIsIGIgPSBiICsgXCJcIjtcblxuICAvLyBJbnRlcnBvbGF0ZSBwYWlycyBvZiBudW1iZXJzIGluIGEgJiBiLlxuICB3aGlsZSAoKGFtID0gcmVBLmV4ZWMoYSkpXG4gICAgICAmJiAoYm0gPSByZUIuZXhlYyhiKSkpIHtcbiAgICBpZiAoKGJzID0gYm0uaW5kZXgpID4gYmkpIHsgLy8gYSBzdHJpbmcgcHJlY2VkZXMgdGhlIG5leHQgbnVtYmVyIGluIGJcbiAgICAgIGJzID0gYi5zbGljZShiaSwgYnMpO1xuICAgICAgaWYgKHNbaV0pIHNbaV0gKz0gYnM7IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nXG4gICAgICBlbHNlIHNbKytpXSA9IGJzO1xuICAgIH1cbiAgICBpZiAoKGFtID0gYW1bMF0pID09PSAoYm0gPSBibVswXSkpIHsgLy8gbnVtYmVycyBpbiBhICYgYiBtYXRjaFxuICAgICAgaWYgKHNbaV0pIHNbaV0gKz0gYm07IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nXG4gICAgICBlbHNlIHNbKytpXSA9IGJtO1xuICAgIH0gZWxzZSB7IC8vIGludGVycG9sYXRlIG5vbi1tYXRjaGluZyBudW1iZXJzXG4gICAgICBzWysraV0gPSBudWxsO1xuICAgICAgcS5wdXNoKHtpOiBpLCB4OiBudW1iZXIoYW0sIGJtKX0pO1xuICAgIH1cbiAgICBiaSA9IHJlQi5sYXN0SW5kZXg7XG4gIH1cblxuICAvLyBBZGQgcmVtYWlucyBvZiBiLlxuICBpZiAoYmkgPCBiLmxlbmd0aCkge1xuICAgIGJzID0gYi5zbGljZShiaSk7XG4gICAgaWYgKHNbaV0pIHNbaV0gKz0gYnM7IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nXG4gICAgZWxzZSBzWysraV0gPSBicztcbiAgfVxuXG4gIC8vIFNwZWNpYWwgb3B0aW1pemF0aW9uIGZvciBvbmx5IGEgc2luZ2xlIG1hdGNoLlxuICAvLyBPdGhlcndpc2UsIGludGVycG9sYXRlIGVhY2ggb2YgdGhlIG51bWJlcnMgYW5kIHJlam9pbiB0aGUgc3RyaW5nLlxuICByZXR1cm4gcy5sZW5ndGggPCAyID8gKHFbMF1cbiAgICAgID8gb25lKHFbMF0ueClcbiAgICAgIDogemVybyhiKSlcbiAgICAgIDogKGIgPSBxLmxlbmd0aCwgZnVuY3Rpb24odCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBvOyBpIDwgYjsgKytpKSBzWyhvID0gcVtpXSkuaV0gPSBvLngodCk7XG4gICAgICAgICAgcmV0dXJuIHMuam9pbihcIlwiKTtcbiAgICAgICAgfSk7XG59XG4iLCAidmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJO1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0ge1xuICB0cmFuc2xhdGVYOiAwLFxuICB0cmFuc2xhdGVZOiAwLFxuICByb3RhdGU6IDAsXG4gIHNrZXdYOiAwLFxuICBzY2FsZVg6IDEsXG4gIHNjYWxlWTogMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZikge1xuICB2YXIgc2NhbGVYLCBzY2FsZVksIHNrZXdYO1xuICBpZiAoc2NhbGVYID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpKSBhIC89IHNjYWxlWCwgYiAvPSBzY2FsZVg7XG4gIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDtcbiAgaWYgKHNjYWxlWSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKSkgYyAvPSBzY2FsZVksIGQgLz0gc2NhbGVZLCBza2V3WCAvPSBzY2FsZVk7XG4gIGlmIChhICogZCA8IGIgKiBjKSBhID0gLWEsIGIgPSAtYiwgc2tld1ggPSAtc2tld1gsIHNjYWxlWCA9IC1zY2FsZVg7XG4gIHJldHVybiB7XG4gICAgdHJhbnNsYXRlWDogZSxcbiAgICB0cmFuc2xhdGVZOiBmLFxuICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsXG4gICAgc2tld1g6IE1hdGguYXRhbihza2V3WCkgKiBkZWdyZWVzLFxuICAgIHNjYWxlWDogc2NhbGVYLFxuICAgIHNjYWxlWTogc2NhbGVZXG4gIH07XG59XG4iLCAiaW1wb3J0IGRlY29tcG9zZSwge2lkZW50aXR5fSBmcm9tIFwiLi9kZWNvbXBvc2UuanNcIjtcblxudmFyIHN2Z05vZGU7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDc3ModmFsdWUpIHtcbiAgY29uc3QgbSA9IG5ldyAodHlwZW9mIERPTU1hdHJpeCA9PT0gXCJmdW5jdGlvblwiID8gRE9NTWF0cml4IDogV2ViS2l0Q1NTTWF0cml4KSh2YWx1ZSArIFwiXCIpO1xuICByZXR1cm4gbS5pc0lkZW50aXR5ID8gaWRlbnRpdHkgOiBkZWNvbXBvc2UobS5hLCBtLmIsIG0uYywgbS5kLCBtLmUsIG0uZik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN2Zyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIGlkZW50aXR5O1xuICBpZiAoIXN2Z05vZGUpIHN2Z05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIik7XG4gIHN2Z05vZGUuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIHZhbHVlKTtcbiAgaWYgKCEodmFsdWUgPSBzdmdOb2RlLnRyYW5zZm9ybS5iYXNlVmFsLmNvbnNvbGlkYXRlKCkpKSByZXR1cm4gaWRlbnRpdHk7XG4gIHZhbHVlID0gdmFsdWUubWF0cml4O1xuICByZXR1cm4gZGVjb21wb3NlKHZhbHVlLmEsIHZhbHVlLmIsIHZhbHVlLmMsIHZhbHVlLmQsIHZhbHVlLmUsIHZhbHVlLmYpO1xufVxuIiwgImltcG9ydCBudW1iZXIgZnJvbSBcIi4uL251bWJlci5qc1wiO1xuaW1wb3J0IHtwYXJzZUNzcywgcGFyc2VTdmd9IGZyb20gXCIuL3BhcnNlLmpzXCI7XG5cbmZ1bmN0aW9uIGludGVycG9sYXRlVHJhbnNmb3JtKHBhcnNlLCBweENvbW1hLCBweFBhcmVuLCBkZWdQYXJlbikge1xuXG4gIGZ1bmN0aW9uIHBvcChzKSB7XG4gICAgcmV0dXJuIHMubGVuZ3RoID8gcy5wb3AoKSArIFwiIFwiIDogXCJcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zbGF0ZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkge1xuICAgIGlmICh4YSAhPT0geGIgfHwgeWEgIT09IHliKSB7XG4gICAgICB2YXIgaSA9IHMucHVzaChcInRyYW5zbGF0ZShcIiwgbnVsbCwgcHhDb21tYSwgbnVsbCwgcHhQYXJlbik7XG4gICAgICBxLnB1c2goe2k6IGkgLSA0LCB4OiBudW1iZXIoeGEsIHhiKX0sIHtpOiBpIC0gMiwgeDogbnVtYmVyKHlhLCB5Yil9KTtcbiAgICB9IGVsc2UgaWYgKHhiIHx8IHliKSB7XG4gICAgICBzLnB1c2goXCJ0cmFuc2xhdGUoXCIgKyB4YiArIHB4Q29tbWEgKyB5YiArIHB4UGFyZW4pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJvdGF0ZShhLCBiLCBzLCBxKSB7XG4gICAgaWYgKGEgIT09IGIpIHtcbiAgICAgIGlmIChhIC0gYiA+IDE4MCkgYiArPSAzNjA7IGVsc2UgaWYgKGIgLSBhID4gMTgwKSBhICs9IDM2MDsgLy8gc2hvcnRlc3QgcGF0aFxuICAgICAgcS5wdXNoKHtpOiBzLnB1c2gocG9wKHMpICsgXCJyb3RhdGUoXCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsIHg6IG51bWJlcihhLCBiKX0pO1xuICAgIH0gZWxzZSBpZiAoYikge1xuICAgICAgcy5wdXNoKHBvcChzKSArIFwicm90YXRlKFwiICsgYiArIGRlZ1BhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBza2V3WChhLCBiLCBzLCBxKSB7XG4gICAgaWYgKGEgIT09IGIpIHtcbiAgICAgIHEucHVzaCh7aTogcy5wdXNoKHBvcChzKSArIFwic2tld1goXCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsIHg6IG51bWJlcihhLCBiKX0pO1xuICAgIH0gZWxzZSBpZiAoYikge1xuICAgICAgcy5wdXNoKHBvcChzKSArIFwic2tld1goXCIgKyBiICsgZGVnUGFyZW4pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjYWxlKHhhLCB5YSwgeGIsIHliLCBzLCBxKSB7XG4gICAgaWYgKHhhICE9PSB4YiB8fCB5YSAhPT0geWIpIHtcbiAgICAgIHZhciBpID0gcy5wdXNoKHBvcChzKSArIFwic2NhbGUoXCIsIG51bGwsIFwiLFwiLCBudWxsLCBcIilcIik7XG4gICAgICBxLnB1c2goe2k6IGkgLSA0LCB4OiBudW1iZXIoeGEsIHhiKX0sIHtpOiBpIC0gMiwgeDogbnVtYmVyKHlhLCB5Yil9KTtcbiAgICB9IGVsc2UgaWYgKHhiICE9PSAxIHx8IHliICE9PSAxKSB7XG4gICAgICBzLnB1c2gocG9wKHMpICsgXCJzY2FsZShcIiArIHhiICsgXCIsXCIgKyB5YiArIFwiKVwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgIHZhciBzID0gW10sIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVyc1xuICAgICAgICBxID0gW107IC8vIG51bWJlciBpbnRlcnBvbGF0b3JzXG4gICAgYSA9IHBhcnNlKGEpLCBiID0gcGFyc2UoYik7XG4gICAgdHJhbnNsYXRlKGEudHJhbnNsYXRlWCwgYS50cmFuc2xhdGVZLCBiLnRyYW5zbGF0ZVgsIGIudHJhbnNsYXRlWSwgcywgcSk7XG4gICAgcm90YXRlKGEucm90YXRlLCBiLnJvdGF0ZSwgcywgcSk7XG4gICAgc2tld1goYS5za2V3WCwgYi5za2V3WCwgcywgcSk7XG4gICAgc2NhbGUoYS5zY2FsZVgsIGEuc2NhbGVZLCBiLnNjYWxlWCwgYi5zY2FsZVksIHMsIHEpO1xuICAgIGEgPSBiID0gbnVsbDsgLy8gZ2NcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgdmFyIGkgPSAtMSwgbiA9IHEubGVuZ3RoLCBvO1xuICAgICAgd2hpbGUgKCsraSA8IG4pIHNbKG8gPSBxW2ldKS5pXSA9IG8ueCh0KTtcbiAgICAgIHJldHVybiBzLmpvaW4oXCJcIik7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciBpbnRlcnBvbGF0ZVRyYW5zZm9ybUNzcyA9IGludGVycG9sYXRlVHJhbnNmb3JtKHBhcnNlQ3NzLCBcInB4LCBcIiwgXCJweClcIiwgXCJkZWcpXCIpO1xuZXhwb3J0IHZhciBpbnRlcnBvbGF0ZVRyYW5zZm9ybVN2ZyA9IGludGVycG9sYXRlVHJhbnNmb3JtKHBhcnNlU3ZnLCBcIiwgXCIsIFwiKVwiLCBcIilcIik7XG4iLCAidmFyIGVwc2lsb24yID0gMWUtMTI7XG5cbmZ1bmN0aW9uIGNvc2goeCkge1xuICByZXR1cm4gKCh4ID0gTWF0aC5leHAoeCkpICsgMSAvIHgpIC8gMjtcbn1cblxuZnVuY3Rpb24gc2luaCh4KSB7XG4gIHJldHVybiAoKHggPSBNYXRoLmV4cCh4KSkgLSAxIC8geCkgLyAyO1xufVxuXG5mdW5jdGlvbiB0YW5oKHgpIHtcbiAgcmV0dXJuICgoeCA9IE1hdGguZXhwKDIgKiB4KSkgLSAxKSAvICh4ICsgMSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiB6b29tUmhvKHJobywgcmhvMiwgcmhvNCkge1xuXG4gIC8vIHAwID0gW3V4MCwgdXkwLCB3MF1cbiAgLy8gcDEgPSBbdXgxLCB1eTEsIHcxXVxuICBmdW5jdGlvbiB6b29tKHAwLCBwMSkge1xuICAgIHZhciB1eDAgPSBwMFswXSwgdXkwID0gcDBbMV0sIHcwID0gcDBbMl0sXG4gICAgICAgIHV4MSA9IHAxWzBdLCB1eTEgPSBwMVsxXSwgdzEgPSBwMVsyXSxcbiAgICAgICAgZHggPSB1eDEgLSB1eDAsXG4gICAgICAgIGR5ID0gdXkxIC0gdXkwLFxuICAgICAgICBkMiA9IGR4ICogZHggKyBkeSAqIGR5LFxuICAgICAgICBpLFxuICAgICAgICBTO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciB1MCBcdTIyNDUgdTEuXG4gICAgaWYgKGQyIDwgZXBzaWxvbjIpIHtcbiAgICAgIFMgPSBNYXRoLmxvZyh3MSAvIHcwKSAvIHJobztcbiAgICAgIGkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdXgwICsgdCAqIGR4LFxuICAgICAgICAgIHV5MCArIHQgKiBkeSxcbiAgICAgICAgICB3MCAqIE1hdGguZXhwKHJobyAqIHQgKiBTKVxuICAgICAgICBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdlbmVyYWwgY2FzZS5cbiAgICBlbHNlIHtcbiAgICAgIHZhciBkMSA9IE1hdGguc3FydChkMiksXG4gICAgICAgICAgYjAgPSAodzEgKiB3MSAtIHcwICogdzAgKyByaG80ICogZDIpIC8gKDIgKiB3MCAqIHJobzIgKiBkMSksXG4gICAgICAgICAgYjEgPSAodzEgKiB3MSAtIHcwICogdzAgLSByaG80ICogZDIpIC8gKDIgKiB3MSAqIHJobzIgKiBkMSksXG4gICAgICAgICAgcjAgPSBNYXRoLmxvZyhNYXRoLnNxcnQoYjAgKiBiMCArIDEpIC0gYjApLFxuICAgICAgICAgIHIxID0gTWF0aC5sb2coTWF0aC5zcXJ0KGIxICogYjEgKyAxKSAtIGIxKTtcbiAgICAgIFMgPSAocjEgLSByMCkgLyByaG87XG4gICAgICBpID0gZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgcyA9IHQgKiBTLFxuICAgICAgICAgICAgY29zaHIwID0gY29zaChyMCksXG4gICAgICAgICAgICB1ID0gdzAgLyAocmhvMiAqIGQxKSAqIChjb3NocjAgKiB0YW5oKHJobyAqIHMgKyByMCkgLSBzaW5oKHIwKSk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdXgwICsgdSAqIGR4LFxuICAgICAgICAgIHV5MCArIHUgKiBkeSxcbiAgICAgICAgICB3MCAqIGNvc2hyMCAvIGNvc2gocmhvICogcyArIHIwKVxuICAgICAgICBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGkuZHVyYXRpb24gPSBTICogMTAwMCAqIHJobyAvIE1hdGguU1FSVDI7XG5cbiAgICByZXR1cm4gaTtcbiAgfVxuXG4gIHpvb20ucmhvID0gZnVuY3Rpb24oXykge1xuICAgIHZhciBfMSA9IE1hdGgubWF4KDFlLTMsICtfKSwgXzIgPSBfMSAqIF8xLCBfNCA9IF8yICogXzI7XG4gICAgcmV0dXJuIHpvb21SaG8oXzEsIF8yLCBfNCk7XG4gIH07XG5cbiAgcmV0dXJuIHpvb207XG59KShNYXRoLlNRUlQyLCAyLCA0KTtcbiIsICJ2YXIgZnJhbWUgPSAwLCAvLyBpcyBhbiBhbmltYXRpb24gZnJhbWUgcGVuZGluZz9cbiAgICB0aW1lb3V0ID0gMCwgLy8gaXMgYSB0aW1lb3V0IHBlbmRpbmc/XG4gICAgaW50ZXJ2YWwgPSAwLCAvLyBhcmUgYW55IHRpbWVycyBhY3RpdmU/XG4gICAgcG9rZURlbGF5ID0gMTAwMCwgLy8gaG93IGZyZXF1ZW50bHkgd2UgY2hlY2sgZm9yIGNsb2NrIHNrZXdcbiAgICB0YXNrSGVhZCxcbiAgICB0YXNrVGFpbCxcbiAgICBjbG9ja0xhc3QgPSAwLFxuICAgIGNsb2NrTm93ID0gMCxcbiAgICBjbG9ja1NrZXcgPSAwLFxuICAgIGNsb2NrID0gdHlwZW9mIHBlcmZvcm1hbmNlID09PSBcIm9iamVjdFwiICYmIHBlcmZvcm1hbmNlLm5vdyA/IHBlcmZvcm1hbmNlIDogRGF0ZSxcbiAgICBzZXRGcmFtZSA9IHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA/IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZCh3aW5kb3cpIDogZnVuY3Rpb24oZikgeyBzZXRUaW1lb3V0KGYsIDE3KTsgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIG5vdygpIHtcbiAgcmV0dXJuIGNsb2NrTm93IHx8IChzZXRGcmFtZShjbGVhck5vdyksIGNsb2NrTm93ID0gY2xvY2subm93KCkgKyBjbG9ja1NrZXcpO1xufVxuXG5mdW5jdGlvbiBjbGVhck5vdygpIHtcbiAgY2xvY2tOb3cgPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVGltZXIoKSB7XG4gIHRoaXMuX2NhbGwgPVxuICB0aGlzLl90aW1lID1cbiAgdGhpcy5fbmV4dCA9IG51bGw7XG59XG5cblRpbWVyLnByb3RvdHlwZSA9IHRpbWVyLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFRpbWVyLFxuICByZXN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICB0aW1lID0gKHRpbWUgPT0gbnVsbCA/IG5vdygpIDogK3RpbWUpICsgKGRlbGF5ID09IG51bGwgPyAwIDogK2RlbGF5KTtcbiAgICBpZiAoIXRoaXMuX25leHQgJiYgdGFza1RhaWwgIT09IHRoaXMpIHtcbiAgICAgIGlmICh0YXNrVGFpbCkgdGFza1RhaWwuX25leHQgPSB0aGlzO1xuICAgICAgZWxzZSB0YXNrSGVhZCA9IHRoaXM7XG4gICAgICB0YXNrVGFpbCA9IHRoaXM7XG4gICAgfVxuICAgIHRoaXMuX2NhbGwgPSBjYWxsYmFjaztcbiAgICB0aGlzLl90aW1lID0gdGltZTtcbiAgICBzbGVlcCgpO1xuICB9LFxuICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fY2FsbCkge1xuICAgICAgdGhpcy5fY2FsbCA9IG51bGw7XG4gICAgICB0aGlzLl90aW1lID0gSW5maW5pdHk7XG4gICAgICBzbGVlcCgpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGNhbGxiYWNrLCBkZWxheSwgdGltZSkge1xuICB2YXIgdCA9IG5ldyBUaW1lcjtcbiAgdC5yZXN0YXJ0KGNhbGxiYWNrLCBkZWxheSwgdGltZSk7XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGltZXJGbHVzaCgpIHtcbiAgbm93KCk7IC8vIEdldCB0aGUgY3VycmVudCB0aW1lLCBpZiBub3QgYWxyZWFkeSBzZXQuXG4gICsrZnJhbWU7IC8vIFByZXRlbmQgd2VcdTIwMTl2ZSBzZXQgYW4gYWxhcm0sIGlmIHdlIGhhdmVuXHUyMDE5dCBhbHJlYWR5LlxuICB2YXIgdCA9IHRhc2tIZWFkLCBlO1xuICB3aGlsZSAodCkge1xuICAgIGlmICgoZSA9IGNsb2NrTm93IC0gdC5fdGltZSkgPj0gMCkgdC5fY2FsbC5jYWxsKHVuZGVmaW5lZCwgZSk7XG4gICAgdCA9IHQuX25leHQ7XG4gIH1cbiAgLS1mcmFtZTtcbn1cblxuZnVuY3Rpb24gd2FrZSgpIHtcbiAgY2xvY2tOb3cgPSAoY2xvY2tMYXN0ID0gY2xvY2subm93KCkpICsgY2xvY2tTa2V3O1xuICBmcmFtZSA9IHRpbWVvdXQgPSAwO1xuICB0cnkge1xuICAgIHRpbWVyRmx1c2goKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBmcmFtZSA9IDA7XG4gICAgbmFwKCk7XG4gICAgY2xvY2tOb3cgPSAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBva2UoKSB7XG4gIHZhciBub3cgPSBjbG9jay5ub3coKSwgZGVsYXkgPSBub3cgLSBjbG9ja0xhc3Q7XG4gIGlmIChkZWxheSA+IHBva2VEZWxheSkgY2xvY2tTa2V3IC09IGRlbGF5LCBjbG9ja0xhc3QgPSBub3c7XG59XG5cbmZ1bmN0aW9uIG5hcCgpIHtcbiAgdmFyIHQwLCB0MSA9IHRhc2tIZWFkLCB0MiwgdGltZSA9IEluZmluaXR5O1xuICB3aGlsZSAodDEpIHtcbiAgICBpZiAodDEuX2NhbGwpIHtcbiAgICAgIGlmICh0aW1lID4gdDEuX3RpbWUpIHRpbWUgPSB0MS5fdGltZTtcbiAgICAgIHQwID0gdDEsIHQxID0gdDEuX25leHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQyID0gdDEuX25leHQsIHQxLl9uZXh0ID0gbnVsbDtcbiAgICAgIHQxID0gdDAgPyB0MC5fbmV4dCA9IHQyIDogdGFza0hlYWQgPSB0MjtcbiAgICB9XG4gIH1cbiAgdGFza1RhaWwgPSB0MDtcbiAgc2xlZXAodGltZSk7XG59XG5cbmZ1bmN0aW9uIHNsZWVwKHRpbWUpIHtcbiAgaWYgKGZyYW1lKSByZXR1cm47IC8vIFNvb25lc3QgYWxhcm0gYWxyZWFkeSBzZXQsIG9yIHdpbGwgYmUuXG4gIGlmICh0aW1lb3V0KSB0aW1lb3V0ID0gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICB2YXIgZGVsYXkgPSB0aW1lIC0gY2xvY2tOb3c7IC8vIFN0cmljdGx5IGxlc3MgdGhhbiBpZiB3ZSByZWNvbXB1dGVkIGNsb2NrTm93LlxuICBpZiAoZGVsYXkgPiAyNCkge1xuICAgIGlmICh0aW1lIDwgSW5maW5pdHkpIHRpbWVvdXQgPSBzZXRUaW1lb3V0KHdha2UsIHRpbWUgLSBjbG9jay5ub3coKSAtIGNsb2NrU2tldyk7XG4gICAgaWYgKGludGVydmFsKSBpbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICB9IGVsc2Uge1xuICAgIGlmICghaW50ZXJ2YWwpIGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpLCBpbnRlcnZhbCA9IHNldEludGVydmFsKHBva2UsIHBva2VEZWxheSk7XG4gICAgZnJhbWUgPSAxLCBzZXRGcmFtZSh3YWtlKTtcbiAgfVxufVxuIiwgImltcG9ydCB7VGltZXJ9IGZyb20gXCIuL3RpbWVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCBkZWxheSwgdGltZSkge1xuICB2YXIgdCA9IG5ldyBUaW1lcjtcbiAgZGVsYXkgPSBkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheTtcbiAgdC5yZXN0YXJ0KGVsYXBzZWQgPT4ge1xuICAgIHQuc3RvcCgpO1xuICAgIGNhbGxiYWNrKGVsYXBzZWQgKyBkZWxheSk7XG4gIH0sIGRlbGF5LCB0aW1lKTtcbiAgcmV0dXJuIHQ7XG59XG4iLCAiaW1wb3J0IHtkaXNwYXRjaH0gZnJvbSBcImQzLWRpc3BhdGNoXCI7XG5pbXBvcnQge3RpbWVyLCB0aW1lb3V0fSBmcm9tIFwiZDMtdGltZXJcIjtcblxudmFyIGVtcHR5T24gPSBkaXNwYXRjaChcInN0YXJ0XCIsIFwiZW5kXCIsIFwiY2FuY2VsXCIsIFwiaW50ZXJydXB0XCIpO1xudmFyIGVtcHR5VHdlZW4gPSBbXTtcblxuZXhwb3J0IHZhciBDUkVBVEVEID0gMDtcbmV4cG9ydCB2YXIgU0NIRURVTEVEID0gMTtcbmV4cG9ydCB2YXIgU1RBUlRJTkcgPSAyO1xuZXhwb3J0IHZhciBTVEFSVEVEID0gMztcbmV4cG9ydCB2YXIgUlVOTklORyA9IDQ7XG5leHBvcnQgdmFyIEVORElORyA9IDU7XG5leHBvcnQgdmFyIEVOREVEID0gNjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSwgbmFtZSwgaWQsIGluZGV4LCBncm91cCwgdGltaW5nKSB7XG4gIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbjtcbiAgaWYgKCFzY2hlZHVsZXMpIG5vZGUuX190cmFuc2l0aW9uID0ge307XG4gIGVsc2UgaWYgKGlkIGluIHNjaGVkdWxlcykgcmV0dXJuO1xuICBjcmVhdGUobm9kZSwgaWQsIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIGluZGV4OiBpbmRleCwgLy8gRm9yIGNvbnRleHQgZHVyaW5nIGNhbGxiYWNrLlxuICAgIGdyb3VwOiBncm91cCwgLy8gRm9yIGNvbnRleHQgZHVyaW5nIGNhbGxiYWNrLlxuICAgIG9uOiBlbXB0eU9uLFxuICAgIHR3ZWVuOiBlbXB0eVR3ZWVuLFxuICAgIHRpbWU6IHRpbWluZy50aW1lLFxuICAgIGRlbGF5OiB0aW1pbmcuZGVsYXksXG4gICAgZHVyYXRpb246IHRpbWluZy5kdXJhdGlvbixcbiAgICBlYXNlOiB0aW1pbmcuZWFzZSxcbiAgICB0aW1lcjogbnVsbCxcbiAgICBzdGF0ZTogQ1JFQVRFRFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQobm9kZSwgaWQpIHtcbiAgdmFyIHNjaGVkdWxlID0gZ2V0KG5vZGUsIGlkKTtcbiAgaWYgKHNjaGVkdWxlLnN0YXRlID4gQ1JFQVRFRCkgdGhyb3cgbmV3IEVycm9yKFwidG9vIGxhdGU7IGFscmVhZHkgc2NoZWR1bGVkXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQobm9kZSwgaWQpIHtcbiAgdmFyIHNjaGVkdWxlID0gZ2V0KG5vZGUsIGlkKTtcbiAgaWYgKHNjaGVkdWxlLnN0YXRlID4gU1RBUlRFRCkgdGhyb3cgbmV3IEVycm9yKFwidG9vIGxhdGU7IGFscmVhZHkgcnVubmluZ1wiKTtcbiAgcmV0dXJuIHNjaGVkdWxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG5vZGUsIGlkKSB7XG4gIHZhciBzY2hlZHVsZSA9IG5vZGUuX190cmFuc2l0aW9uO1xuICBpZiAoIXNjaGVkdWxlIHx8ICEoc2NoZWR1bGUgPSBzY2hlZHVsZVtpZF0pKSB0aHJvdyBuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIG5vdCBmb3VuZFwiKTtcbiAgcmV0dXJuIHNjaGVkdWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGUobm9kZSwgaWQsIHNlbGYpIHtcbiAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uLFxuICAgICAgdHdlZW47XG5cbiAgLy8gSW5pdGlhbGl6ZSB0aGUgc2VsZiB0aW1lciB3aGVuIHRoZSB0cmFuc2l0aW9uIGlzIGNyZWF0ZWQuXG4gIC8vIE5vdGUgdGhlIGFjdHVhbCBkZWxheSBpcyBub3Qga25vd24gdW50aWwgdGhlIGZpcnN0IGNhbGxiYWNrIVxuICBzY2hlZHVsZXNbaWRdID0gc2VsZjtcbiAgc2VsZi50aW1lciA9IHRpbWVyKHNjaGVkdWxlLCAwLCBzZWxmLnRpbWUpO1xuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlKGVsYXBzZWQpIHtcbiAgICBzZWxmLnN0YXRlID0gU0NIRURVTEVEO1xuICAgIHNlbGYudGltZXIucmVzdGFydChzdGFydCwgc2VsZi5kZWxheSwgc2VsZi50aW1lKTtcblxuICAgIC8vIElmIHRoZSBlbGFwc2VkIGRlbGF5IGlzIGxlc3MgdGhhbiBvdXIgZmlyc3Qgc2xlZXAsIHN0YXJ0IGltbWVkaWF0ZWx5LlxuICAgIGlmIChzZWxmLmRlbGF5IDw9IGVsYXBzZWQpIHN0YXJ0KGVsYXBzZWQgLSBzZWxmLmRlbGF5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0KGVsYXBzZWQpIHtcbiAgICB2YXIgaSwgaiwgbiwgbztcblxuICAgIC8vIElmIHRoZSBzdGF0ZSBpcyBub3QgU0NIRURVTEVELCB0aGVuIHdlIHByZXZpb3VzbHkgZXJyb3JlZCBvbiBzdGFydC5cbiAgICBpZiAoc2VsZi5zdGF0ZSAhPT0gU0NIRURVTEVEKSByZXR1cm4gc3RvcCgpO1xuXG4gICAgZm9yIChpIGluIHNjaGVkdWxlcykge1xuICAgICAgbyA9IHNjaGVkdWxlc1tpXTtcbiAgICAgIGlmIChvLm5hbWUgIT09IHNlbGYubmFtZSkgY29udGludWU7XG5cbiAgICAgIC8vIFdoaWxlIHRoaXMgZWxlbWVudCBhbHJlYWR5IGhhcyBhIHN0YXJ0aW5nIHRyYW5zaXRpb24gZHVyaW5nIHRoaXMgZnJhbWUsXG4gICAgICAvLyBkZWZlciBzdGFydGluZyBhbiBpbnRlcnJ1cHRpbmcgdHJhbnNpdGlvbiB1bnRpbCB0aGF0IHRyYW5zaXRpb24gaGFzIGFcbiAgICAgIC8vIGNoYW5jZSB0byB0aWNrIChhbmQgcG9zc2libHkgZW5kKTsgc2VlIGQzL2QzLXRyYW5zaXRpb24jNTQhXG4gICAgICBpZiAoby5zdGF0ZSA9PT0gU1RBUlRFRCkgcmV0dXJuIHRpbWVvdXQoc3RhcnQpO1xuXG4gICAgICAvLyBJbnRlcnJ1cHQgdGhlIGFjdGl2ZSB0cmFuc2l0aW9uLCBpZiBhbnkuXG4gICAgICBpZiAoby5zdGF0ZSA9PT0gUlVOTklORykge1xuICAgICAgICBvLnN0YXRlID0gRU5ERUQ7XG4gICAgICAgIG8udGltZXIuc3RvcCgpO1xuICAgICAgICBvLm9uLmNhbGwoXCJpbnRlcnJ1cHRcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgby5pbmRleCwgby5ncm91cCk7XG4gICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gICAgICB9XG5cbiAgICAgIC8vIENhbmNlbCBhbnkgcHJlLWVtcHRlZCB0cmFuc2l0aW9ucy5cbiAgICAgIGVsc2UgaWYgKCtpIDwgaWQpIHtcbiAgICAgICAgby5zdGF0ZSA9IEVOREVEO1xuICAgICAgICBvLnRpbWVyLnN0b3AoKTtcbiAgICAgICAgby5vbi5jYWxsKFwiY2FuY2VsXCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIG8uaW5kZXgsIG8uZ3JvdXApO1xuICAgICAgICBkZWxldGUgc2NoZWR1bGVzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlZmVyIHRoZSBmaXJzdCB0aWNrIHRvIGVuZCBvZiB0aGUgY3VycmVudCBmcmFtZTsgc2VlIGQzL2QzIzE1NzYuXG4gICAgLy8gTm90ZSB0aGUgdHJhbnNpdGlvbiBtYXkgYmUgY2FuY2VsZWQgYWZ0ZXIgc3RhcnQgYW5kIGJlZm9yZSB0aGUgZmlyc3QgdGljayFcbiAgICAvLyBOb3RlIHRoaXMgbXVzdCBiZSBzY2hlZHVsZWQgYmVmb3JlIHRoZSBzdGFydCBldmVudDsgc2VlIGQzL2QzLXRyYW5zaXRpb24jMTYhXG4gICAgLy8gQXNzdW1pbmcgdGhpcyBpcyBzdWNjZXNzZnVsLCBzdWJzZXF1ZW50IGNhbGxiYWNrcyBnbyBzdHJhaWdodCB0byB0aWNrLlxuICAgIHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gU1RBUlRFRCkge1xuICAgICAgICBzZWxmLnN0YXRlID0gUlVOTklORztcbiAgICAgICAgc2VsZi50aW1lci5yZXN0YXJ0KHRpY2ssIHNlbGYuZGVsYXksIHNlbGYudGltZSk7XG4gICAgICAgIHRpY2soZWxhcHNlZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBEaXNwYXRjaCB0aGUgc3RhcnQgZXZlbnQuXG4gICAgLy8gTm90ZSB0aGlzIG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIHR3ZWVuIGFyZSBpbml0aWFsaXplZC5cbiAgICBzZWxmLnN0YXRlID0gU1RBUlRJTkc7XG4gICAgc2VsZi5vbi5jYWxsKFwic3RhcnRcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCk7XG4gICAgaWYgKHNlbGYuc3RhdGUgIT09IFNUQVJUSU5HKSByZXR1cm47IC8vIGludGVycnVwdGVkXG4gICAgc2VsZi5zdGF0ZSA9IFNUQVJURUQ7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSB0d2VlbiwgZGVsZXRpbmcgbnVsbCB0d2Vlbi5cbiAgICB0d2VlbiA9IG5ldyBBcnJheShuID0gc2VsZi50d2Vlbi5sZW5ndGgpO1xuICAgIGZvciAoaSA9IDAsIGogPSAtMTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG8gPSBzZWxmLnR3ZWVuW2ldLnZhbHVlLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCkpIHtcbiAgICAgICAgdHdlZW5bKytqXSA9IG87XG4gICAgICB9XG4gICAgfVxuICAgIHR3ZWVuLmxlbmd0aCA9IGogKyAxO1xuICB9XG5cbiAgZnVuY3Rpb24gdGljayhlbGFwc2VkKSB7XG4gICAgdmFyIHQgPSBlbGFwc2VkIDwgc2VsZi5kdXJhdGlvbiA/IHNlbGYuZWFzZS5jYWxsKG51bGwsIGVsYXBzZWQgLyBzZWxmLmR1cmF0aW9uKSA6IChzZWxmLnRpbWVyLnJlc3RhcnQoc3RvcCksIHNlbGYuc3RhdGUgPSBFTkRJTkcsIDEpLFxuICAgICAgICBpID0gLTEsXG4gICAgICAgIG4gPSB0d2Vlbi5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpIDwgbikge1xuICAgICAgdHdlZW5baV0uY2FsbChub2RlLCB0KTtcbiAgICB9XG5cbiAgICAvLyBEaXNwYXRjaCB0aGUgZW5kIGV2ZW50LlxuICAgIGlmIChzZWxmLnN0YXRlID09PSBFTkRJTkcpIHtcbiAgICAgIHNlbGYub24uY2FsbChcImVuZFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTtcbiAgICAgIHN0b3AoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIHNlbGYuc3RhdGUgPSBFTkRFRDtcbiAgICBzZWxmLnRpbWVyLnN0b3AoKTtcbiAgICBkZWxldGUgc2NoZWR1bGVzW2lkXTtcbiAgICBmb3IgKHZhciBpIGluIHNjaGVkdWxlcykgcmV0dXJuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgZGVsZXRlIG5vZGUuX190cmFuc2l0aW9uO1xuICB9XG59XG4iLCAiaW1wb3J0IHtTVEFSVElORywgRU5ESU5HLCBFTkRFRH0gZnJvbSBcIi4vdHJhbnNpdGlvbi9zY2hlZHVsZS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlLCBuYW1lKSB7XG4gIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbixcbiAgICAgIHNjaGVkdWxlLFxuICAgICAgYWN0aXZlLFxuICAgICAgZW1wdHkgPSB0cnVlLFxuICAgICAgaTtcblxuICBpZiAoIXNjaGVkdWxlcykgcmV0dXJuO1xuXG4gIG5hbWUgPSBuYW1lID09IG51bGwgPyBudWxsIDogbmFtZSArIFwiXCI7XG5cbiAgZm9yIChpIGluIHNjaGVkdWxlcykge1xuICAgIGlmICgoc2NoZWR1bGUgPSBzY2hlZHVsZXNbaV0pLm5hbWUgIT09IG5hbWUpIHsgZW1wdHkgPSBmYWxzZTsgY29udGludWU7IH1cbiAgICBhY3RpdmUgPSBzY2hlZHVsZS5zdGF0ZSA+IFNUQVJUSU5HICYmIHNjaGVkdWxlLnN0YXRlIDwgRU5ESU5HO1xuICAgIHNjaGVkdWxlLnN0YXRlID0gRU5ERUQ7XG4gICAgc2NoZWR1bGUudGltZXIuc3RvcCgpO1xuICAgIHNjaGVkdWxlLm9uLmNhbGwoYWN0aXZlID8gXCJpbnRlcnJ1cHRcIiA6IFwiY2FuY2VsXCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIHNjaGVkdWxlLmluZGV4LCBzY2hlZHVsZS5ncm91cCk7XG4gICAgZGVsZXRlIHNjaGVkdWxlc1tpXTtcbiAgfVxuXG4gIGlmIChlbXB0eSkgZGVsZXRlIG5vZGUuX190cmFuc2l0aW9uO1xufVxuIiwgImltcG9ydCBpbnRlcnJ1cHQgZnJvbSBcIi4uL2ludGVycnVwdC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpO1xuICB9KTtcbn1cbiIsICJpbXBvcnQge2dldCwgc2V0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiB0d2VlblJlbW92ZShpZCwgbmFtZSkge1xuICB2YXIgdHdlZW4wLCB0d2VlbjE7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2VcdTIwMTlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkge1xuICAgICAgdHdlZW4xID0gdHdlZW4wID0gdHdlZW47XG4gICAgICBmb3IgKHZhciBpID0gMCwgbiA9IHR3ZWVuMS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgdHdlZW4xID0gdHdlZW4xLnNsaWNlKCk7XG4gICAgICAgICAgdHdlZW4xLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHNjaGVkdWxlLnR3ZWVuID0gdHdlZW4xO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0d2VlbkZ1bmN0aW9uKGlkLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgdHdlZW4wLCB0d2VlbjE7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgdHdlZW4gPSBzY2hlZHVsZS50d2VlbjtcblxuICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgdHdlZW4gd2l0aCB0aGUgcHJldmlvdXMgbm9kZSxcbiAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgdHdlZW4gYW5kIHdlXHUyMDE5cmUgZG9uZSFcbiAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgaWYgKHR3ZWVuICE9PSB0d2VlbjApIHtcbiAgICAgIHR3ZWVuMSA9ICh0d2VlbjAgPSB0d2Vlbikuc2xpY2UoKTtcbiAgICAgIGZvciAodmFyIHQgPSB7bmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlfSwgaSA9IDAsIG4gPSB0d2VlbjEubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGlmICh0d2VlbjFbaV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgIHR3ZWVuMVtpXSA9IHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpID09PSBuKSB0d2VlbjEucHVzaCh0KTtcbiAgICB9XG5cbiAgICBzY2hlZHVsZS50d2VlbiA9IHR3ZWVuMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGlkID0gdGhpcy5faWQ7XG5cbiAgbmFtZSArPSBcIlwiO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHZhciB0d2VlbiA9IGdldCh0aGlzLm5vZGUoKSwgaWQpLnR3ZWVuO1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4ubGVuZ3RoLCB0OyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKHQgPSB0d2VlbltpXSkubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICByZXR1cm4gdC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsID8gdHdlZW5SZW1vdmUgOiB0d2VlbkZ1bmN0aW9uKShpZCwgbmFtZSwgdmFsdWUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR3ZWVuVmFsdWUodHJhbnNpdGlvbiwgbmFtZSwgdmFsdWUpIHtcbiAgdmFyIGlkID0gdHJhbnNpdGlvbi5faWQ7XG5cbiAgdHJhbnNpdGlvbi5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCk7XG4gICAgKHNjaGVkdWxlLnZhbHVlIHx8IChzY2hlZHVsZS52YWx1ZSA9IHt9KSlbbmFtZV0gPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24obm9kZSkge1xuICAgIHJldHVybiBnZXQobm9kZSwgaWQpLnZhbHVlW25hbWVdO1xuICB9O1xufVxuIiwgImltcG9ydCB7Y29sb3J9IGZyb20gXCJkMy1jb2xvclwiO1xuaW1wb3J0IHtpbnRlcnBvbGF0ZU51bWJlciwgaW50ZXJwb2xhdGVSZ2IsIGludGVycG9sYXRlU3RyaW5nfSBmcm9tIFwiZDMtaW50ZXJwb2xhdGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgYztcbiAgcmV0dXJuICh0eXBlb2YgYiA9PT0gXCJudW1iZXJcIiA/IGludGVycG9sYXRlTnVtYmVyXG4gICAgICA6IGIgaW5zdGFuY2VvZiBjb2xvciA/IGludGVycG9sYXRlUmdiXG4gICAgICA6IChjID0gY29sb3IoYikpID8gKGIgPSBjLCBpbnRlcnBvbGF0ZVJnYilcbiAgICAgIDogaW50ZXJwb2xhdGVTdHJpbmcpKGEsIGIpO1xufVxuIiwgImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtuYW1lc3BhY2V9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCBpbnRlcnBvbGF0ZSBmcm9tIFwiLi9pbnRlcnBvbGF0ZS5qc1wiO1xuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlTlMoZnVsbG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50KG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAsIHZhbHVlMSA9IHZhbHVlKHRoaXMpLCBzdHJpbmcxO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwLCB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwgc3RyaW5nMTtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLCBpID0gZnVsbG5hbWUgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdGhpcy5hdHRyVHdlZW4obmFtZSwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMgOiBhdHRyRnVuY3Rpb24pKGZ1bGxuYW1lLCBpLCB0d2VlblZhbHVlKHRoaXMsIFwiYXR0ci5cIiArIG5hbWUsIHZhbHVlKSlcbiAgICAgIDogdmFsdWUgPT0gbnVsbCA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJSZW1vdmVOUyA6IGF0dHJSZW1vdmUpKGZ1bGxuYW1lKVxuICAgICAgOiAoZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyA6IGF0dHJDb25zdGFudCkoZnVsbG5hbWUsIGksIHZhbHVlKSk7XG59XG4iLCAiaW1wb3J0IHtuYW1lc3BhY2V9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcblxuZnVuY3Rpb24gYXR0ckludGVycG9sYXRlKG5hbWUsIGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCBpLmNhbGwodGhpcywgdCkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRySW50ZXJwb2xhdGVOUyhmdWxsbmFtZSwgaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCBpLmNhbGwodGhpcywgdCkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyVHdlZW5OUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgdmFyIHQwLCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiBhdHRySW50ZXJwb2xhdGVOUyhmdWxsbmFtZSwgaSk7XG4gICAgcmV0dXJuIHQwO1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmZ1bmN0aW9uIGF0dHJUd2VlbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIGF0dHJJbnRlcnBvbGF0ZShuYW1lLCBpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGtleSA9IFwiYXR0ci5cIiArIG5hbWU7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIChrZXkgPSB0aGlzLnR3ZWVuKGtleSkpICYmIGtleS5fdmFsdWU7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdGhpcy50d2VlbihrZXksIG51bGwpO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpO1xuICByZXR1cm4gdGhpcy50d2VlbihrZXksIChmdWxsbmFtZS5sb2NhbCA/IGF0dHJUd2Vlbk5TIDogYXR0clR3ZWVuKShmdWxsbmFtZSwgdmFsdWUpKTtcbn1cbiIsICJpbXBvcnQge2dldCwgaW5pdH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZGVsYXlGdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gK3ZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlbGF5Q29uc3RhbnQoaWQsIHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9ICt2YWx1ZSwgZnVuY3Rpb24oKSB7XG4gICAgaW5pdCh0aGlzLCBpZCkuZGVsYXkgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIGlkID0gdGhpcy5faWQ7XG5cbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKCh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gZGVsYXlGdW5jdGlvblxuICAgICAgICAgIDogZGVsYXlDb25zdGFudCkoaWQsIHZhbHVlKSlcbiAgICAgIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZGVsYXk7XG59XG4iLCAiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZHVyYXRpb25GdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZHVyYXRpb24gPSArdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGR1cmF0aW9uRnVuY3Rpb25cbiAgICAgICAgICA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmR1cmF0aW9uO1xufVxuIiwgImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGVhc2VDb25zdGFudChpZCwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmVhc2UgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIGlkID0gdGhpcy5faWQ7XG5cbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKGVhc2VDb25zdGFudChpZCwgdmFsdWUpKVxuICAgICAgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5lYXNlO1xufVxuIiwgImltcG9ydCB7c2V0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBlYXNlVmFyeWluZyhpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodHlwZW9mIHYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHY7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gdGhpcy5lYWNoKGVhc2VWYXJ5aW5nKHRoaXMuX2lkLCB2YWx1ZSkpO1xufVxuIiwgImltcG9ydCB7bWF0Y2hlcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICBpZiAodHlwZW9mIG1hdGNoICE9PSBcImZ1bmN0aW9uXCIpIG1hdGNoID0gbWF0Y2hlcihtYXRjaCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IFtdLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7XG4gICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cywgdGhpcy5fbmFtZSwgdGhpcy5faWQpO1xufVxuIiwgImltcG9ydCB7VHJhbnNpdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odHJhbnNpdGlvbikge1xuICBpZiAodHJhbnNpdGlvbi5faWQgIT09IHRoaXMuX2lkKSB0aHJvdyBuZXcgRXJyb3I7XG5cbiAgZm9yICh2YXIgZ3JvdXBzMCA9IHRoaXMuX2dyb3VwcywgZ3JvdXBzMSA9IHRyYW5zaXRpb24uX2dyb3VwcywgbTAgPSBncm91cHMwLmxlbmd0aCwgbTEgPSBncm91cHMxLmxlbmd0aCwgbSA9IE1hdGgubWluKG0wLCBtMSksIG1lcmdlcyA9IG5ldyBBcnJheShtMCksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAwID0gZ3JvdXBzMFtqXSwgZ3JvdXAxID0gZ3JvdXBzMVtqXSwgbiA9IGdyb3VwMC5sZW5ndGgsIG1lcmdlID0gbWVyZ2VzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7XG4gICAgICAgIG1lcmdlW2ldID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKDsgaiA8IG0wOyArK2opIHtcbiAgICBtZXJnZXNbal0gPSBncm91cHMwW2pdO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKG1lcmdlcywgdGhpcy5fcGFyZW50cywgdGhpcy5fbmFtZSwgdGhpcy5faWQpO1xufVxuIiwgImltcG9ydCB7Z2V0LCBzZXQsIGluaXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIHN0YXJ0KG5hbWUpIHtcbiAgcmV0dXJuIChuYW1lICsgXCJcIikudHJpbSgpLnNwbGl0KC9efFxccysvKS5ldmVyeShmdW5jdGlvbih0KSB7XG4gICAgdmFyIGkgPSB0LmluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpID49IDApIHQgPSB0LnNsaWNlKDAsIGkpO1xuICAgIHJldHVybiAhdCB8fCB0ID09PSBcInN0YXJ0XCI7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvbkZ1bmN0aW9uKGlkLCBuYW1lLCBsaXN0ZW5lcikge1xuICB2YXIgb24wLCBvbjEsIHNpdCA9IHN0YXJ0KG5hbWUpID8gaW5pdCA6IHNldDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNpdCh0aGlzLCBpZCksXG4gICAgICAgIG9uID0gc2NoZWR1bGUub247XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSxcbiAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgZGlzcGF0Y2ggYW5kIHdlXHUyMDE5cmUgZG9uZSFcbiAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgaWYgKG9uICE9PSBvbjApIChvbjEgPSAob24wID0gb24pLmNvcHkoKSkub24obmFtZSwgbGlzdGVuZXIpO1xuXG4gICAgc2NoZWR1bGUub24gPSBvbjE7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIGxpc3RlbmVyKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMlxuICAgICAgPyBnZXQodGhpcy5ub2RlKCksIGlkKS5vbi5vbihuYW1lKVxuICAgICAgOiB0aGlzLmVhY2gob25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpKTtcbn1cbiIsICJmdW5jdGlvbiByZW1vdmVGdW5jdGlvbihpZCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub24oXCJlbmQucmVtb3ZlXCIsIHJlbW92ZUZ1bmN0aW9uKHRoaXMuX2lkKSk7XG59XG4iLCAiaW1wb3J0IHtzZWxlY3Rvcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNjaGVkdWxlLCB7Z2V0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgdmFyIG5hbWUgPSB0aGlzLl9uYW1lLFxuICAgICAgaWQgPSB0aGlzLl9pZDtcblxuICBpZiAodHlwZW9mIHNlbGVjdCAhPT0gXCJmdW5jdGlvblwiKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgKHN1Ym5vZGUgPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpKSB7XG4gICAgICAgIGlmIChcIl9fZGF0YV9fXCIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187XG4gICAgICAgIHN1Ymdyb3VwW2ldID0gc3Vibm9kZTtcbiAgICAgICAgc2NoZWR1bGUoc3ViZ3JvdXBbaV0sIG5hbWUsIGlkLCBpLCBzdWJncm91cCwgZ2V0KG5vZGUsIGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwgImltcG9ydCB7c2VsZWN0b3JBbGx9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7VHJhbnNpdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSwge2dldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0KSB7XG4gIHZhciBuYW1lID0gdGhpcy5fbmFtZSxcbiAgICAgIGlkID0gdGhpcy5faWQ7XG5cbiAgaWYgKHR5cGVvZiBzZWxlY3QgIT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gc2VsZWN0b3JBbGwoc2VsZWN0KTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBbXSwgcGFyZW50cyA9IFtdLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBmb3IgKHZhciBjaGlsZHJlbiA9IHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSwgY2hpbGQsIGluaGVyaXQgPSBnZXQobm9kZSwgaWQpLCBrID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgayA8IGw7ICsraykge1xuICAgICAgICAgIGlmIChjaGlsZCA9IGNoaWxkcmVuW2tdKSB7XG4gICAgICAgICAgICBzY2hlZHVsZShjaGlsZCwgbmFtZSwgaWQsIGssIGNoaWxkcmVuLCBpbmhlcml0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3ViZ3JvdXBzLnB1c2goY2hpbGRyZW4pO1xuICAgICAgICBwYXJlbnRzLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwgImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5cbnZhciBTZWxlY3Rpb24gPSBzZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsICJpbXBvcnQge2ludGVycG9sYXRlVHJhbnNmb3JtQ3NzIGFzIGludGVycG9sYXRlVHJhbnNmb3JtfSBmcm9tIFwiZDMtaW50ZXJwb2xhdGVcIjtcbmltcG9ydCB7c3R5bGV9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7c2V0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuaW1wb3J0IHt0d2VlblZhbHVlfSBmcm9tIFwiLi90d2Vlbi5qc1wiO1xuaW1wb3J0IGludGVycG9sYXRlIGZyb20gXCIuL2ludGVycG9sYXRlLmpzXCI7XG5cbmZ1bmN0aW9uIHN0eWxlTnVsbChuYW1lLCBpbnRlcnBvbGF0ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gc3R5bGUodGhpcywgbmFtZSksXG4gICAgICAgIHN0cmluZzEgPSAodGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKSwgc3R5bGUodGhpcywgbmFtZSkpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCBzdHJpbmcxMCA9IHN0cmluZzEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZVJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZUNvbnN0YW50KG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHN0eWxlKHRoaXMsIG5hbWUpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZUZ1bmN0aW9uKG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gc3R5bGUodGhpcywgbmFtZSksXG4gICAgICAgIHZhbHVlMSA9IHZhbHVlKHRoaXMpLFxuICAgICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIjtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHN0cmluZzEgPSB2YWx1ZTEgPSAodGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKSwgc3R5bGUodGhpcywgbmFtZSkpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVNYXliZVJlbW92ZShpZCwgbmFtZSkge1xuICB2YXIgb24wLCBvbjEsIGxpc3RlbmVyMCwga2V5ID0gXCJzdHlsZS5cIiArIG5hbWUsIGV2ZW50ID0gXCJlbmQuXCIgKyBrZXksIHJlbW92ZTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCksXG4gICAgICAgIG9uID0gc2NoZWR1bGUub24sXG4gICAgICAgIGxpc3RlbmVyID0gc2NoZWR1bGUudmFsdWVba2V5XSA9PSBudWxsID8gcmVtb3ZlIHx8IChyZW1vdmUgPSBzdHlsZVJlbW92ZShuYW1lKSkgOiB1bmRlZmluZWQ7XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSxcbiAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgZGlzcGF0Y2ggYW5kIHdlXHUyMDE5cmUgZG9uZSFcbiAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgaWYgKG9uICE9PSBvbjAgfHwgbGlzdGVuZXIwICE9PSBsaXN0ZW5lcikgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihldmVudCwgbGlzdGVuZXIwID0gbGlzdGVuZXIpO1xuXG4gICAgc2NoZWR1bGUub24gPSBvbjE7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICB2YXIgaSA9IChuYW1lICs9IFwiXCIpID09PSBcInRyYW5zZm9ybVwiID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm0gOiBpbnRlcnBvbGF0ZTtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyB0aGlzXG4gICAgICAuc3R5bGVUd2VlbihuYW1lLCBzdHlsZU51bGwobmFtZSwgaSkpXG4gICAgICAub24oXCJlbmQuc3R5bGUuXCIgKyBuYW1lLCBzdHlsZVJlbW92ZShuYW1lKSlcbiAgICA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gdGhpc1xuICAgICAgLnN0eWxlVHdlZW4obmFtZSwgc3R5bGVGdW5jdGlvbihuYW1lLCBpLCB0d2VlblZhbHVlKHRoaXMsIFwic3R5bGUuXCIgKyBuYW1lLCB2YWx1ZSkpKVxuICAgICAgLmVhY2goc3R5bGVNYXliZVJlbW92ZSh0aGlzLl9pZCwgbmFtZSkpXG4gICAgOiB0aGlzXG4gICAgICAuc3R5bGVUd2VlbihuYW1lLCBzdHlsZUNvbnN0YW50KG5hbWUsIGksIHZhbHVlKSwgcHJpb3JpdHkpXG4gICAgICAub24oXCJlbmQuc3R5bGUuXCIgKyBuYW1lLCBudWxsKTtcbn1cbiIsICJmdW5jdGlvbiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCBpLmNhbGwodGhpcywgdCksIHByaW9yaXR5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVUd2VlbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgdmFyIHQsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0ID0gKGkwID0gaSkgJiYgc3R5bGVJbnRlcnBvbGF0ZShuYW1lLCBpLCBwcmlvcml0eSk7XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciBrZXkgPSBcInN0eWxlLlwiICsgKG5hbWUgKz0gXCJcIik7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIChrZXkgPSB0aGlzLnR3ZWVuKGtleSkpICYmIGtleS5fdmFsdWU7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdGhpcy50d2VlbihrZXksIG51bGwpO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBzdHlsZVR3ZWVuKG5hbWUsIHZhbHVlLCBwcmlvcml0eSA9PSBudWxsID8gXCJcIiA6IHByaW9yaXR5KSk7XG59XG4iLCAiaW1wb3J0IHt0d2VlblZhbHVlfSBmcm9tIFwiLi90d2Vlbi5qc1wiO1xuXG5mdW5jdGlvbiB0ZXh0Q29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUxID0gdmFsdWUodGhpcyk7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gXCJcIiA6IHZhbHVlMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMudHdlZW4oXCJ0ZXh0XCIsIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsIFwidGV4dFwiLCB2YWx1ZSkpXG4gICAgICA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIikpO1xufVxuIiwgImZ1bmN0aW9uIHRleHRJbnRlcnBvbGF0ZShpKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IGkuY2FsbCh0aGlzLCB0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dFR3ZWVuKHZhbHVlKSB7XG4gIHZhciB0MCwgaTA7XG4gIGZ1bmN0aW9uIHR3ZWVuKCkge1xuICAgIHZhciBpID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgdGV4dEludGVycG9sYXRlKGkpO1xuICAgIHJldHVybiB0MDtcbiAgfVxuICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgcmV0dXJuIHR3ZWVuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIga2V5ID0gXCJ0ZXh0XCI7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSkgcmV0dXJuIChrZXkgPSB0aGlzLnR3ZWVuKGtleSkpICYmIGtleS5fdmFsdWU7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdGhpcy50d2VlbihrZXksIG51bGwpO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCB0ZXh0VHdlZW4odmFsdWUpKTtcbn1cbiIsICJpbXBvcnQge1RyYW5zaXRpb24sIG5ld0lkfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNjaGVkdWxlLCB7Z2V0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIG5hbWUgPSB0aGlzLl9uYW1lLFxuICAgICAgaWQwID0gdGhpcy5faWQsXG4gICAgICBpZDEgPSBuZXdJZCgpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHZhciBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkMCk7XG4gICAgICAgIHNjaGVkdWxlKG5vZGUsIG5hbWUsIGlkMSwgaSwgZ3JvdXAsIHtcbiAgICAgICAgICB0aW1lOiBpbmhlcml0LnRpbWUgKyBpbmhlcml0LmRlbGF5ICsgaW5oZXJpdC5kdXJhdGlvbixcbiAgICAgICAgICBkZWxheTogMCxcbiAgICAgICAgICBkdXJhdGlvbjogaW5oZXJpdC5kdXJhdGlvbixcbiAgICAgICAgICBlYXNlOiBpbmhlcml0LmVhc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQxKTtcbn1cbiIsICJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBvbjAsIG9uMSwgdGhhdCA9IHRoaXMsIGlkID0gdGhhdC5faWQsIHNpemUgPSB0aGF0LnNpemUoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBjYW5jZWwgPSB7dmFsdWU6IHJlamVjdH0sXG4gICAgICAgIGVuZCA9IHt2YWx1ZTogZnVuY3Rpb24oKSB7IGlmICgtLXNpemUgPT09IDApIHJlc29sdmUoKTsgfX07XG5cbiAgICB0aGF0LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICAgIG9uID0gc2NoZWR1bGUub247XG5cbiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZVx1MjAxOXJlIGRvbmUhXG4gICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgICBpZiAob24gIT09IG9uMCkge1xuICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTtcbiAgICAgICAgb24xLl8uY2FuY2VsLnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uaW50ZXJydXB0LnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTtcbiAgICAgIH1cblxuICAgICAgc2NoZWR1bGUub24gPSBvbjE7XG4gICAgfSk7XG5cbiAgICAvLyBUaGUgc2VsZWN0aW9uIHdhcyBlbXB0eSwgcmVzb2x2ZSBlbmQgaW1tZWRpYXRlbHlcbiAgICBpZiAoc2l6ZSA9PT0gMCkgcmVzb2x2ZSgpO1xuICB9KTtcbn1cbiIsICJpbXBvcnQge3NlbGVjdGlvbn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHRyYW5zaXRpb25fYXR0ciBmcm9tIFwiLi9hdHRyLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9hdHRyVHdlZW4gZnJvbSBcIi4vYXR0clR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9kZWxheSBmcm9tIFwiLi9kZWxheS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZHVyYXRpb24gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2Vhc2UgZnJvbSBcIi4vZWFzZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZWFzZVZhcnlpbmcgZnJvbSBcIi4vZWFzZVZhcnlpbmcuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2ZpbHRlciBmcm9tIFwiLi9maWx0ZXIuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX21lcmdlIGZyb20gXCIuL21lcmdlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9vbiBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fcmVtb3ZlIGZyb20gXCIuL3JlbW92ZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc2VsZWN0IGZyb20gXCIuL3NlbGVjdC5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc2VsZWN0QWxsIGZyb20gXCIuL3NlbGVjdEFsbC5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc2VsZWN0aW9uIGZyb20gXCIuL3NlbGVjdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc3R5bGUgZnJvbSBcIi4vc3R5bGUuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3N0eWxlVHdlZW4gZnJvbSBcIi4vc3R5bGVUd2Vlbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdGV4dCBmcm9tIFwiLi90ZXh0LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90ZXh0VHdlZW4gZnJvbSBcIi4vdGV4dFR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90cmFuc2l0aW9uIGZyb20gXCIuL3RyYW5zaXRpb24uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3R3ZWVuIGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9lbmQgZnJvbSBcIi4vZW5kLmpzXCI7XG5cbnZhciBpZCA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2l0aW9uKGdyb3VwcywgcGFyZW50cywgbmFtZSwgaWQpIHtcbiAgdGhpcy5fZ3JvdXBzID0gZ3JvdXBzO1xuICB0aGlzLl9wYXJlbnRzID0gcGFyZW50cztcbiAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gIHRoaXMuX2lkID0gaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zaXRpb24obmFtZSkge1xuICByZXR1cm4gc2VsZWN0aW9uKCkudHJhbnNpdGlvbihuYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld0lkKCkge1xuICByZXR1cm4gKytpZDtcbn1cblxudmFyIHNlbGVjdGlvbl9wcm90b3R5cGUgPSBzZWxlY3Rpb24ucHJvdG90eXBlO1xuXG5UcmFuc2l0aW9uLnByb3RvdHlwZSA9IHRyYW5zaXRpb24ucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogVHJhbnNpdGlvbixcbiAgc2VsZWN0OiB0cmFuc2l0aW9uX3NlbGVjdCxcbiAgc2VsZWN0QWxsOiB0cmFuc2l0aW9uX3NlbGVjdEFsbCxcbiAgc2VsZWN0Q2hpbGQ6IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGQsXG4gIHNlbGVjdENoaWxkcmVuOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNlbGVjdENoaWxkcmVuLFxuICBmaWx0ZXI6IHRyYW5zaXRpb25fZmlsdGVyLFxuICBtZXJnZTogdHJhbnNpdGlvbl9tZXJnZSxcbiAgc2VsZWN0aW9uOiB0cmFuc2l0aW9uX3NlbGVjdGlvbixcbiAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbl90cmFuc2l0aW9uLFxuICBjYWxsOiBzZWxlY3Rpb25fcHJvdG90eXBlLmNhbGwsXG4gIG5vZGVzOiBzZWxlY3Rpb25fcHJvdG90eXBlLm5vZGVzLFxuICBub2RlOiBzZWxlY3Rpb25fcHJvdG90eXBlLm5vZGUsXG4gIHNpemU6IHNlbGVjdGlvbl9wcm90b3R5cGUuc2l6ZSxcbiAgZW1wdHk6IHNlbGVjdGlvbl9wcm90b3R5cGUuZW1wdHksXG4gIGVhY2g6IHNlbGVjdGlvbl9wcm90b3R5cGUuZWFjaCxcbiAgb246IHRyYW5zaXRpb25fb24sXG4gIGF0dHI6IHRyYW5zaXRpb25fYXR0cixcbiAgYXR0clR3ZWVuOiB0cmFuc2l0aW9uX2F0dHJUd2VlbixcbiAgc3R5bGU6IHRyYW5zaXRpb25fc3R5bGUsXG4gIHN0eWxlVHdlZW46IHRyYW5zaXRpb25fc3R5bGVUd2VlbixcbiAgdGV4dDogdHJhbnNpdGlvbl90ZXh0LFxuICB0ZXh0VHdlZW46IHRyYW5zaXRpb25fdGV4dFR3ZWVuLFxuICByZW1vdmU6IHRyYW5zaXRpb25fcmVtb3ZlLFxuICB0d2VlbjogdHJhbnNpdGlvbl90d2VlbixcbiAgZGVsYXk6IHRyYW5zaXRpb25fZGVsYXksXG4gIGR1cmF0aW9uOiB0cmFuc2l0aW9uX2R1cmF0aW9uLFxuICBlYXNlOiB0cmFuc2l0aW9uX2Vhc2UsXG4gIGVhc2VWYXJ5aW5nOiB0cmFuc2l0aW9uX2Vhc2VWYXJ5aW5nLFxuICBlbmQ6IHRyYW5zaXRpb25fZW5kLFxuICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX3Byb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdXG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBjdWJpY0luKHQpIHtcbiAgcmV0dXJuIHQgKiB0ICogdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGN1YmljT3V0KHQpIHtcbiAgcmV0dXJuIC0tdCAqIHQgKiB0ICsgMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGN1YmljSW5PdXQodCkge1xuICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyB0ICogdCAqIHQgOiAodCAtPSAyKSAqIHQgKiB0ICsgMikgLyAyO1xufVxuIiwgImltcG9ydCB7VHJhbnNpdGlvbiwgbmV3SWR9IGZyb20gXCIuLi90cmFuc2l0aW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUgZnJvbSBcIi4uL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcbmltcG9ydCB7ZWFzZUN1YmljSW5PdXR9IGZyb20gXCJkMy1lYXNlXCI7XG5pbXBvcnQge25vd30gZnJvbSBcImQzLXRpbWVyXCI7XG5cbnZhciBkZWZhdWx0VGltaW5nID0ge1xuICB0aW1lOiBudWxsLCAvLyBTZXQgb24gdXNlLlxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IDI1MCxcbiAgZWFzZTogZWFzZUN1YmljSW5PdXRcbn07XG5cbmZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHtcbiAgdmFyIHRpbWluZztcbiAgd2hpbGUgKCEodGltaW5nID0gbm9kZS5fX3RyYW5zaXRpb24pIHx8ICEodGltaW5nID0gdGltaW5nW2lkXSkpIHtcbiAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB0cmFuc2l0aW9uICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGltaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBpZCxcbiAgICAgIHRpbWluZztcblxuICBpZiAobmFtZSBpbnN0YW5jZW9mIFRyYW5zaXRpb24pIHtcbiAgICBpZCA9IG5hbWUuX2lkLCBuYW1lID0gbmFtZS5fbmFtZTtcbiAgfSBlbHNlIHtcbiAgICBpZCA9IG5ld0lkKCksICh0aW1pbmcgPSBkZWZhdWx0VGltaW5nKS50aW1lID0gbm93KCksIG5hbWUgPSBuYW1lID09IG51bGwgPyBudWxsIDogbmFtZSArIFwiXCI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZCwgaSwgZ3JvdXAsIHRpbWluZyB8fCBpbmhlcml0KG5vZGUsIGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwgImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2ludGVycnVwdCBmcm9tIFwiLi9pbnRlcnJ1cHQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fdHJhbnNpdGlvbiBmcm9tIFwiLi90cmFuc2l0aW9uLmpzXCI7XG5cbnNlbGVjdGlvbi5wcm90b3R5cGUuaW50ZXJydXB0ID0gc2VsZWN0aW9uX2ludGVycnVwdDtcbnNlbGVjdGlvbi5wcm90b3R5cGUudHJhbnNpdGlvbiA9IHNlbGVjdGlvbl90cmFuc2l0aW9uO1xuIiwgImV4cG9ydCBkZWZhdWx0IHggPT4gKCkgPT4geDtcbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBab29tRXZlbnQodHlwZSwge1xuICBzb3VyY2VFdmVudCxcbiAgdGFyZ2V0LFxuICB0cmFuc2Zvcm0sXG4gIGRpc3BhdGNoXG59KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICB0eXBlOiB7dmFsdWU6IHR5cGUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXG4gICAgc291cmNlRXZlbnQ6IHt2YWx1ZTogc291cmNlRXZlbnQsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXG4gICAgdGFyZ2V0OiB7dmFsdWU6IHRhcmdldCwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcbiAgICB0cmFuc2Zvcm06IHt2YWx1ZTogdHJhbnNmb3JtLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxuICAgIF86IHt2YWx1ZTogZGlzcGF0Y2h9XG4gIH0pO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBUcmFuc2Zvcm0oaywgeCwgeSkge1xuICB0aGlzLmsgPSBrO1xuICB0aGlzLnggPSB4O1xuICB0aGlzLnkgPSB5O1xufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogVHJhbnNmb3JtLFxuICBzY2FsZTogZnVuY3Rpb24oaykge1xuICAgIHJldHVybiBrID09PSAxID8gdGhpcyA6IG5ldyBUcmFuc2Zvcm0odGhpcy5rICogaywgdGhpcy54LCB0aGlzLnkpO1xuICB9LFxuICB0cmFuc2xhdGU6IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICByZXR1cm4geCA9PT0gMCAmIHkgPT09IDAgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmssIHRoaXMueCArIHRoaXMuayAqIHgsIHRoaXMueSArIHRoaXMuayAqIHkpO1xuICB9LFxuICBhcHBseTogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gW3BvaW50WzBdICogdGhpcy5rICsgdGhpcy54LCBwb2ludFsxXSAqIHRoaXMuayArIHRoaXMueV07XG4gIH0sXG4gIGFwcGx5WDogZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB4ICogdGhpcy5rICsgdGhpcy54O1xuICB9LFxuICBhcHBseVk6IGZ1bmN0aW9uKHkpIHtcbiAgICByZXR1cm4geSAqIHRoaXMuayArIHRoaXMueTtcbiAgfSxcbiAgaW52ZXJ0OiBmdW5jdGlvbihsb2NhdGlvbikge1xuICAgIHJldHVybiBbKGxvY2F0aW9uWzBdIC0gdGhpcy54KSAvIHRoaXMuaywgKGxvY2F0aW9uWzFdIC0gdGhpcy55KSAvIHRoaXMua107XG4gIH0sXG4gIGludmVydFg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKHggLSB0aGlzLngpIC8gdGhpcy5rO1xuICB9LFxuICBpbnZlcnRZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuICh5IC0gdGhpcy55KSAvIHRoaXMuaztcbiAgfSxcbiAgcmVzY2FsZVg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geC5jb3B5KCkuZG9tYWluKHgucmFuZ2UoKS5tYXAodGhpcy5pbnZlcnRYLCB0aGlzKS5tYXAoeC5pbnZlcnQsIHgpKTtcbiAgfSxcbiAgcmVzY2FsZVk6IGZ1bmN0aW9uKHkpIHtcbiAgICByZXR1cm4geS5jb3B5KCkuZG9tYWluKHkucmFuZ2UoKS5tYXAodGhpcy5pbnZlcnRZLCB0aGlzKS5tYXAoeS5pbnZlcnQsIHkpKTtcbiAgfSxcbiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRoaXMueCArIFwiLFwiICsgdGhpcy55ICsgXCIpIHNjYWxlKFwiICsgdGhpcy5rICsgXCIpXCI7XG4gIH1cbn07XG5cbmV4cG9ydCB2YXIgaWRlbnRpdHkgPSBuZXcgVHJhbnNmb3JtKDEsIDAsIDApO1xuXG50cmFuc2Zvcm0ucHJvdG90eXBlID0gVHJhbnNmb3JtLnByb3RvdHlwZTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNmb3JtKG5vZGUpIHtcbiAgd2hpbGUgKCFub2RlLl9fem9vbSkgaWYgKCEobm9kZSA9IG5vZGUucGFyZW50Tm9kZSkpIHJldHVybiBpZGVudGl0eTtcbiAgcmV0dXJuIG5vZGUuX196b29tO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBub3Byb3BhZ2F0aW9uKGV2ZW50KSB7XG4gIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbn1cbiIsICJpbXBvcnQge2Rpc3BhdGNofSBmcm9tIFwiZDMtZGlzcGF0Y2hcIjtcbmltcG9ydCB7ZHJhZ0Rpc2FibGUsIGRyYWdFbmFibGV9IGZyb20gXCJkMy1kcmFnXCI7XG5pbXBvcnQge2ludGVycG9sYXRlWm9vbX0gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5pbXBvcnQge3NlbGVjdCwgcG9pbnRlcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtpbnRlcnJ1cHR9IGZyb20gXCJkMy10cmFuc2l0aW9uXCI7XG5pbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4vY29uc3RhbnQuanNcIjtcbmltcG9ydCBab29tRXZlbnQgZnJvbSBcIi4vZXZlbnQuanNcIjtcbmltcG9ydCB7VHJhbnNmb3JtLCBpZGVudGl0eX0gZnJvbSBcIi4vdHJhbnNmb3JtLmpzXCI7XG5pbXBvcnQgbm9ldmVudCwge25vcHJvcGFnYXRpb259IGZyb20gXCIuL25vZXZlbnQuanNcIjtcblxuLy8gSWdub3JlIHJpZ2h0LWNsaWNrLCBzaW5jZSB0aGF0IHNob3VsZCBvcGVuIHRoZSBjb250ZXh0IG1lbnUuXG4vLyBleGNlcHQgZm9yIHBpbmNoLXRvLXpvb20sIHdoaWNoIGlzIHNlbnQgYXMgYSB3aGVlbCtjdHJsS2V5IGV2ZW50XG5mdW5jdGlvbiBkZWZhdWx0RmlsdGVyKGV2ZW50KSB7XG4gIHJldHVybiAoIWV2ZW50LmN0cmxLZXkgfHwgZXZlbnQudHlwZSA9PT0gJ3doZWVsJykgJiYgIWV2ZW50LmJ1dHRvbjtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEV4dGVudCgpIHtcbiAgdmFyIGUgPSB0aGlzO1xuICBpZiAoZSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICBlID0gZS5vd25lclNWR0VsZW1lbnQgfHwgZTtcbiAgICBpZiAoZS5oYXNBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIpKSB7XG4gICAgICBlID0gZS52aWV3Qm94LmJhc2VWYWw7XG4gICAgICByZXR1cm4gW1tlLngsIGUueV0sIFtlLnggKyBlLndpZHRoLCBlLnkgKyBlLmhlaWdodF1dO1xuICAgIH1cbiAgICByZXR1cm4gW1swLCAwXSwgW2Uud2lkdGguYmFzZVZhbC52YWx1ZSwgZS5oZWlnaHQuYmFzZVZhbC52YWx1ZV1dO1xuICB9XG4gIHJldHVybiBbWzAsIDBdLCBbZS5jbGllbnRXaWR0aCwgZS5jbGllbnRIZWlnaHRdXTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFRyYW5zZm9ybSgpIHtcbiAgcmV0dXJuIHRoaXMuX196b29tIHx8IGlkZW50aXR5O1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V2hlZWxEZWx0YShldmVudCkge1xuICByZXR1cm4gLWV2ZW50LmRlbHRhWSAqIChldmVudC5kZWx0YU1vZGUgPT09IDEgPyAwLjA1IDogZXZlbnQuZGVsdGFNb2RlID8gMSA6IDAuMDAyKSAqIChldmVudC5jdHJsS2V5ID8gMTAgOiAxKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFRvdWNoYWJsZSgpIHtcbiAgcmV0dXJuIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCAoXCJvbnRvdWNoc3RhcnRcIiBpbiB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdENvbnN0cmFpbih0cmFuc2Zvcm0sIGV4dGVudCwgdHJhbnNsYXRlRXh0ZW50KSB7XG4gIHZhciBkeDAgPSB0cmFuc2Zvcm0uaW52ZXJ0WChleHRlbnRbMF1bMF0pIC0gdHJhbnNsYXRlRXh0ZW50WzBdWzBdLFxuICAgICAgZHgxID0gdHJhbnNmb3JtLmludmVydFgoZXh0ZW50WzFdWzBdKSAtIHRyYW5zbGF0ZUV4dGVudFsxXVswXSxcbiAgICAgIGR5MCA9IHRyYW5zZm9ybS5pbnZlcnRZKGV4dGVudFswXVsxXSkgLSB0cmFuc2xhdGVFeHRlbnRbMF1bMV0sXG4gICAgICBkeTEgPSB0cmFuc2Zvcm0uaW52ZXJ0WShleHRlbnRbMV1bMV0pIC0gdHJhbnNsYXRlRXh0ZW50WzFdWzFdO1xuICByZXR1cm4gdHJhbnNmb3JtLnRyYW5zbGF0ZShcbiAgICBkeDEgPiBkeDAgPyAoZHgwICsgZHgxKSAvIDIgOiBNYXRoLm1pbigwLCBkeDApIHx8IE1hdGgubWF4KDAsIGR4MSksXG4gICAgZHkxID4gZHkwID8gKGR5MCArIGR5MSkgLyAyIDogTWF0aC5taW4oMCwgZHkwKSB8fCBNYXRoLm1heCgwLCBkeTEpXG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgZmlsdGVyID0gZGVmYXVsdEZpbHRlcixcbiAgICAgIGV4dGVudCA9IGRlZmF1bHRFeHRlbnQsXG4gICAgICBjb25zdHJhaW4gPSBkZWZhdWx0Q29uc3RyYWluLFxuICAgICAgd2hlZWxEZWx0YSA9IGRlZmF1bHRXaGVlbERlbHRhLFxuICAgICAgdG91Y2hhYmxlID0gZGVmYXVsdFRvdWNoYWJsZSxcbiAgICAgIHNjYWxlRXh0ZW50ID0gWzAsIEluZmluaXR5XSxcbiAgICAgIHRyYW5zbGF0ZUV4dGVudCA9IFtbLUluZmluaXR5LCAtSW5maW5pdHldLCBbSW5maW5pdHksIEluZmluaXR5XV0sXG4gICAgICBkdXJhdGlvbiA9IDI1MCxcbiAgICAgIGludGVycG9sYXRlID0gaW50ZXJwb2xhdGVab29tLFxuICAgICAgbGlzdGVuZXJzID0gZGlzcGF0Y2goXCJzdGFydFwiLCBcInpvb21cIiwgXCJlbmRcIiksXG4gICAgICB0b3VjaHN0YXJ0aW5nLFxuICAgICAgdG91Y2hmaXJzdCxcbiAgICAgIHRvdWNoZW5kaW5nLFxuICAgICAgdG91Y2hEZWxheSA9IDUwMCxcbiAgICAgIHdoZWVsRGVsYXkgPSAxNTAsXG4gICAgICBjbGlja0Rpc3RhbmNlMiA9IDAsXG4gICAgICB0YXBEaXN0YW5jZSA9IDEwO1xuXG4gIGZ1bmN0aW9uIHpvb20oc2VsZWN0aW9uKSB7XG4gICAgc2VsZWN0aW9uXG4gICAgICAgIC5wcm9wZXJ0eShcIl9fem9vbVwiLCBkZWZhdWx0VHJhbnNmb3JtKVxuICAgICAgICAub24oXCJ3aGVlbC56b29tXCIsIHdoZWVsZWQsIHtwYXNzaXZlOiBmYWxzZX0pXG4gICAgICAgIC5vbihcIm1vdXNlZG93bi56b29tXCIsIG1vdXNlZG93bmVkKVxuICAgICAgICAub24oXCJkYmxjbGljay56b29tXCIsIGRibGNsaWNrZWQpXG4gICAgICAuZmlsdGVyKHRvdWNoYWJsZSlcbiAgICAgICAgLm9uKFwidG91Y2hzdGFydC56b29tXCIsIHRvdWNoc3RhcnRlZClcbiAgICAgICAgLm9uKFwidG91Y2htb3ZlLnpvb21cIiwgdG91Y2htb3ZlZClcbiAgICAgICAgLm9uKFwidG91Y2hlbmQuem9vbSB0b3VjaGNhbmNlbC56b29tXCIsIHRvdWNoZW5kZWQpXG4gICAgICAgIC5zdHlsZShcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvclwiLCBcInJnYmEoMCwwLDAsMClcIik7XG4gIH1cblxuICB6b29tLnRyYW5zZm9ybSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHRyYW5zZm9ybSwgcG9pbnQsIGV2ZW50KSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IGNvbGxlY3Rpb24uc2VsZWN0aW9uID8gY29sbGVjdGlvbi5zZWxlY3Rpb24oKSA6IGNvbGxlY3Rpb247XG4gICAgc2VsZWN0aW9uLnByb3BlcnR5KFwiX196b29tXCIsIGRlZmF1bHRUcmFuc2Zvcm0pO1xuICAgIGlmIChjb2xsZWN0aW9uICE9PSBzZWxlY3Rpb24pIHtcbiAgICAgIHNjaGVkdWxlKGNvbGxlY3Rpb24sIHRyYW5zZm9ybSwgcG9pbnQsIGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0aW9uLmludGVycnVwdCgpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGdlc3R1cmUodGhpcywgYXJndW1lbnRzKVxuICAgICAgICAgIC5ldmVudChldmVudClcbiAgICAgICAgICAuc3RhcnQoKVxuICAgICAgICAgIC56b29tKG51bGwsIHR5cGVvZiB0cmFuc2Zvcm0gPT09IFwiZnVuY3Rpb25cIiA/IHRyYW5zZm9ybS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdHJhbnNmb3JtKVxuICAgICAgICAgIC5lbmQoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB6b29tLnNjYWxlQnkgPSBmdW5jdGlvbihzZWxlY3Rpb24sIGssIHAsIGV2ZW50KSB7XG4gICAgem9vbS5zY2FsZVRvKHNlbGVjdGlvbiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgazAgPSB0aGlzLl9fem9vbS5rLFxuICAgICAgICAgIGsxID0gdHlwZW9mIGsgPT09IFwiZnVuY3Rpb25cIiA/IGsuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGs7XG4gICAgICByZXR1cm4gazAgKiBrMTtcbiAgICB9LCBwLCBldmVudCk7XG4gIH07XG5cbiAgem9vbS5zY2FsZVRvID0gZnVuY3Rpb24oc2VsZWN0aW9uLCBrLCBwLCBldmVudCkge1xuICAgIHpvb20udHJhbnNmb3JtKHNlbGVjdGlvbiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZSA9IGV4dGVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuICAgICAgICAgIHQwID0gdGhpcy5fX3pvb20sXG4gICAgICAgICAgcDAgPSBwID09IG51bGwgPyBjZW50cm9pZChlKSA6IHR5cGVvZiBwID09PSBcImZ1bmN0aW9uXCIgPyBwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBwLFxuICAgICAgICAgIHAxID0gdDAuaW52ZXJ0KHAwKSxcbiAgICAgICAgICBrMSA9IHR5cGVvZiBrID09PSBcImZ1bmN0aW9uXCIgPyBrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrO1xuICAgICAgcmV0dXJuIGNvbnN0cmFpbih0cmFuc2xhdGUoc2NhbGUodDAsIGsxKSwgcDAsIHAxKSwgZSwgdHJhbnNsYXRlRXh0ZW50KTtcbiAgICB9LCBwLCBldmVudCk7XG4gIH07XG5cbiAgem9vbS50cmFuc2xhdGVCeSA9IGZ1bmN0aW9uKHNlbGVjdGlvbiwgeCwgeSwgZXZlbnQpIHtcbiAgICB6b29tLnRyYW5zZm9ybShzZWxlY3Rpb24sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNvbnN0cmFpbih0aGlzLl9fem9vbS50cmFuc2xhdGUoXG4gICAgICAgIHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCIgPyB4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiB4LFxuICAgICAgICB0eXBlb2YgeSA9PT0gXCJmdW5jdGlvblwiID8geS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogeVxuICAgICAgKSwgZXh0ZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRyYW5zbGF0ZUV4dGVudCk7XG4gICAgfSwgbnVsbCwgZXZlbnQpO1xuICB9O1xuXG4gIHpvb20udHJhbnNsYXRlVG8gPSBmdW5jdGlvbihzZWxlY3Rpb24sIHgsIHksIHAsIGV2ZW50KSB7XG4gICAgem9vbS50cmFuc2Zvcm0oc2VsZWN0aW9uLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlID0gZXh0ZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgICAgdCA9IHRoaXMuX196b29tLFxuICAgICAgICAgIHAwID0gcCA9PSBudWxsID8gY2VudHJvaWQoZSkgOiB0eXBlb2YgcCA9PT0gXCJmdW5jdGlvblwiID8gcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogcDtcbiAgICAgIHJldHVybiBjb25zdHJhaW4oaWRlbnRpdHkudHJhbnNsYXRlKHAwWzBdLCBwMFsxXSkuc2NhbGUodC5rKS50cmFuc2xhdGUoXG4gICAgICAgIHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCIgPyAteC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogLXgsXG4gICAgICAgIHR5cGVvZiB5ID09PSBcImZ1bmN0aW9uXCIgPyAteS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogLXlcbiAgICAgICksIGUsIHRyYW5zbGF0ZUV4dGVudCk7XG4gICAgfSwgcCwgZXZlbnQpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHNjYWxlKHRyYW5zZm9ybSwgaykge1xuICAgIGsgPSBNYXRoLm1heChzY2FsZUV4dGVudFswXSwgTWF0aC5taW4oc2NhbGVFeHRlbnRbMV0sIGspKTtcbiAgICByZXR1cm4gayA9PT0gdHJhbnNmb3JtLmsgPyB0cmFuc2Zvcm0gOiBuZXcgVHJhbnNmb3JtKGssIHRyYW5zZm9ybS54LCB0cmFuc2Zvcm0ueSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2xhdGUodHJhbnNmb3JtLCBwMCwgcDEpIHtcbiAgICB2YXIgeCA9IHAwWzBdIC0gcDFbMF0gKiB0cmFuc2Zvcm0uaywgeSA9IHAwWzFdIC0gcDFbMV0gKiB0cmFuc2Zvcm0uaztcbiAgICByZXR1cm4geCA9PT0gdHJhbnNmb3JtLnggJiYgeSA9PT0gdHJhbnNmb3JtLnkgPyB0cmFuc2Zvcm0gOiBuZXcgVHJhbnNmb3JtKHRyYW5zZm9ybS5rLCB4LCB5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNlbnRyb2lkKGV4dGVudCkge1xuICAgIHJldHVybiBbKCtleHRlbnRbMF1bMF0gKyArZXh0ZW50WzFdWzBdKSAvIDIsICgrZXh0ZW50WzBdWzFdICsgK2V4dGVudFsxXVsxXSkgLyAyXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlKHRyYW5zaXRpb24sIHRyYW5zZm9ybSwgcG9pbnQsIGV2ZW50KSB7XG4gICAgdHJhbnNpdGlvblxuICAgICAgICAub24oXCJzdGFydC56b29tXCIsIGZ1bmN0aW9uKCkgeyBnZXN0dXJlKHRoaXMsIGFyZ3VtZW50cykuZXZlbnQoZXZlbnQpLnN0YXJ0KCk7IH0pXG4gICAgICAgIC5vbihcImludGVycnVwdC56b29tIGVuZC56b29tXCIsIGZ1bmN0aW9uKCkgeyBnZXN0dXJlKHRoaXMsIGFyZ3VtZW50cykuZXZlbnQoZXZlbnQpLmVuZCgpOyB9KVxuICAgICAgICAudHdlZW4oXCJ6b29tXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgZyA9IGdlc3R1cmUodGhhdCwgYXJncykuZXZlbnQoZXZlbnQpLFxuICAgICAgICAgICAgICBlID0gZXh0ZW50LmFwcGx5KHRoYXQsIGFyZ3MpLFxuICAgICAgICAgICAgICBwID0gcG9pbnQgPT0gbnVsbCA/IGNlbnRyb2lkKGUpIDogdHlwZW9mIHBvaW50ID09PSBcImZ1bmN0aW9uXCIgPyBwb2ludC5hcHBseSh0aGF0LCBhcmdzKSA6IHBvaW50LFxuICAgICAgICAgICAgICB3ID0gTWF0aC5tYXgoZVsxXVswXSAtIGVbMF1bMF0sIGVbMV1bMV0gLSBlWzBdWzFdKSxcbiAgICAgICAgICAgICAgYSA9IHRoYXQuX196b29tLFxuICAgICAgICAgICAgICBiID0gdHlwZW9mIHRyYW5zZm9ybSA9PT0gXCJmdW5jdGlvblwiID8gdHJhbnNmb3JtLmFwcGx5KHRoYXQsIGFyZ3MpIDogdHJhbnNmb3JtLFxuICAgICAgICAgICAgICBpID0gaW50ZXJwb2xhdGUoYS5pbnZlcnQocCkuY29uY2F0KHcgLyBhLmspLCBiLmludmVydChwKS5jb25jYXQodyAvIGIuaykpO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAodCA9PT0gMSkgdCA9IGI7IC8vIEF2b2lkIHJvdW5kaW5nIGVycm9yIG9uIGVuZC5cbiAgICAgICAgICAgIGVsc2UgeyB2YXIgbCA9IGkodCksIGsgPSB3IC8gbFsyXTsgdCA9IG5ldyBUcmFuc2Zvcm0oaywgcFswXSAtIGxbMF0gKiBrLCBwWzFdIC0gbFsxXSAqIGspOyB9XG4gICAgICAgICAgICBnLnpvb20obnVsbCwgdCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXN0dXJlKHRoYXQsIGFyZ3MsIGNsZWFuKSB7XG4gICAgcmV0dXJuICghY2xlYW4gJiYgdGhhdC5fX3pvb21pbmcpIHx8IG5ldyBHZXN0dXJlKHRoYXQsIGFyZ3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gR2VzdHVyZSh0aGF0LCBhcmdzKSB7XG4gICAgdGhpcy50aGF0ID0gdGhhdDtcbiAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgIHRoaXMuYWN0aXZlID0gMDtcbiAgICB0aGlzLnNvdXJjZUV2ZW50ID0gbnVsbDtcbiAgICB0aGlzLmV4dGVudCA9IGV4dGVudC5hcHBseSh0aGF0LCBhcmdzKTtcbiAgICB0aGlzLnRhcHMgPSAwO1xuICB9XG5cbiAgR2VzdHVyZS5wcm90b3R5cGUgPSB7XG4gICAgZXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQpIHRoaXMuc291cmNlRXZlbnQgPSBldmVudDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCsrdGhpcy5hY3RpdmUgPT09IDEpIHtcbiAgICAgICAgdGhpcy50aGF0Ll9fem9vbWluZyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZW1pdChcInN0YXJ0XCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICB6b29tOiBmdW5jdGlvbihrZXksIHRyYW5zZm9ybSkge1xuICAgICAgaWYgKHRoaXMubW91c2UgJiYga2V5ICE9PSBcIm1vdXNlXCIpIHRoaXMubW91c2VbMV0gPSB0cmFuc2Zvcm0uaW52ZXJ0KHRoaXMubW91c2VbMF0pO1xuICAgICAgaWYgKHRoaXMudG91Y2gwICYmIGtleSAhPT0gXCJ0b3VjaFwiKSB0aGlzLnRvdWNoMFsxXSA9IHRyYW5zZm9ybS5pbnZlcnQodGhpcy50b3VjaDBbMF0pO1xuICAgICAgaWYgKHRoaXMudG91Y2gxICYmIGtleSAhPT0gXCJ0b3VjaFwiKSB0aGlzLnRvdWNoMVsxXSA9IHRyYW5zZm9ybS5pbnZlcnQodGhpcy50b3VjaDFbMF0pO1xuICAgICAgdGhpcy50aGF0Ll9fem9vbSA9IHRyYW5zZm9ybTtcbiAgICAgIHRoaXMuZW1pdChcInpvb21cIik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGVuZDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aGlzLmFjdGl2ZSA9PT0gMCkge1xuICAgICAgICBkZWxldGUgdGhpcy50aGF0Ll9fem9vbWluZztcbiAgICAgICAgdGhpcy5lbWl0KFwiZW5kXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBlbWl0OiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgZCA9IHNlbGVjdCh0aGlzLnRoYXQpLmRhdHVtKCk7XG4gICAgICBsaXN0ZW5lcnMuY2FsbChcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdGhpcy50aGF0LFxuICAgICAgICBuZXcgWm9vbUV2ZW50KHR5cGUsIHtcbiAgICAgICAgICBzb3VyY2VFdmVudDogdGhpcy5zb3VyY2VFdmVudCxcbiAgICAgICAgICB0YXJnZXQ6IHpvb20sXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMudGhhdC5fX3pvb20sXG4gICAgICAgICAgZGlzcGF0Y2g6IGxpc3RlbmVyc1xuICAgICAgICB9KSxcbiAgICAgICAgZFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gd2hlZWxlZChldmVudCwgLi4uYXJncykge1xuICAgIGlmICghZmlsdGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHJldHVybjtcbiAgICB2YXIgZyA9IGdlc3R1cmUodGhpcywgYXJncykuZXZlbnQoZXZlbnQpLFxuICAgICAgICB0ID0gdGhpcy5fX3pvb20sXG4gICAgICAgIGsgPSBNYXRoLm1heChzY2FsZUV4dGVudFswXSwgTWF0aC5taW4oc2NhbGVFeHRlbnRbMV0sIHQuayAqIE1hdGgucG93KDIsIHdoZWVsRGVsdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKSkpKSxcbiAgICAgICAgcCA9IHBvaW50ZXIoZXZlbnQpO1xuXG4gICAgLy8gSWYgdGhlIG1vdXNlIGlzIGluIHRoZSBzYW1lIGxvY2F0aW9uIGFzIGJlZm9yZSwgcmV1c2UgaXQuXG4gICAgLy8gSWYgdGhlcmUgd2VyZSByZWNlbnQgd2hlZWwgZXZlbnRzLCByZXNldCB0aGUgd2hlZWwgaWRsZSB0aW1lb3V0LlxuICAgIGlmIChnLndoZWVsKSB7XG4gICAgICBpZiAoZy5tb3VzZVswXVswXSAhPT0gcFswXSB8fCBnLm1vdXNlWzBdWzFdICE9PSBwWzFdKSB7XG4gICAgICAgIGcubW91c2VbMV0gPSB0LmludmVydChnLm1vdXNlWzBdID0gcCk7XG4gICAgICB9XG4gICAgICBjbGVhclRpbWVvdXQoZy53aGVlbCk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhpcyB3aGVlbCBldmVudCB3b25cdTIwMTl0IHRyaWdnZXIgYSB0cmFuc2Zvcm0gY2hhbmdlLCBpZ25vcmUgaXQuXG4gICAgZWxzZSBpZiAodC5rID09PSBrKSByZXR1cm47XG5cbiAgICAvLyBPdGhlcndpc2UsIGNhcHR1cmUgdGhlIG1vdXNlIHBvaW50IGFuZCBsb2NhdGlvbiBhdCB0aGUgc3RhcnQuXG4gICAgZWxzZSB7XG4gICAgICBnLm1vdXNlID0gW3AsIHQuaW52ZXJ0KHApXTtcbiAgICAgIGludGVycnVwdCh0aGlzKTtcbiAgICAgIGcuc3RhcnQoKTtcbiAgICB9XG5cbiAgICBub2V2ZW50KGV2ZW50KTtcbiAgICBnLndoZWVsID0gc2V0VGltZW91dCh3aGVlbGlkbGVkLCB3aGVlbERlbGF5KTtcbiAgICBnLnpvb20oXCJtb3VzZVwiLCBjb25zdHJhaW4odHJhbnNsYXRlKHNjYWxlKHQsIGspLCBnLm1vdXNlWzBdLCBnLm1vdXNlWzFdKSwgZy5leHRlbnQsIHRyYW5zbGF0ZUV4dGVudCkpO1xuXG4gICAgZnVuY3Rpb24gd2hlZWxpZGxlZCgpIHtcbiAgICAgIGcud2hlZWwgPSBudWxsO1xuICAgICAgZy5lbmQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtb3VzZWRvd25lZChldmVudCwgLi4uYXJncykge1xuICAgIGlmICh0b3VjaGVuZGluZyB8fCAhZmlsdGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHJldHVybjtcbiAgICB2YXIgY3VycmVudFRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQsXG4gICAgICAgIGcgPSBnZXN0dXJlKHRoaXMsIGFyZ3MsIHRydWUpLmV2ZW50KGV2ZW50KSxcbiAgICAgICAgdiA9IHNlbGVjdChldmVudC52aWV3KS5vbihcIm1vdXNlbW92ZS56b29tXCIsIG1vdXNlbW92ZWQsIHRydWUpLm9uKFwibW91c2V1cC56b29tXCIsIG1vdXNldXBwZWQsIHRydWUpLFxuICAgICAgICBwID0gcG9pbnRlcihldmVudCwgY3VycmVudFRhcmdldCksXG4gICAgICAgIHgwID0gZXZlbnQuY2xpZW50WCxcbiAgICAgICAgeTAgPSBldmVudC5jbGllbnRZO1xuXG4gICAgZHJhZ0Rpc2FibGUoZXZlbnQudmlldyk7XG4gICAgbm9wcm9wYWdhdGlvbihldmVudCk7XG4gICAgZy5tb3VzZSA9IFtwLCB0aGlzLl9fem9vbS5pbnZlcnQocCldO1xuICAgIGludGVycnVwdCh0aGlzKTtcbiAgICBnLnN0YXJ0KCk7XG5cbiAgICBmdW5jdGlvbiBtb3VzZW1vdmVkKGV2ZW50KSB7XG4gICAgICBub2V2ZW50KGV2ZW50KTtcbiAgICAgIGlmICghZy5tb3ZlZCkge1xuICAgICAgICB2YXIgZHggPSBldmVudC5jbGllbnRYIC0geDAsIGR5ID0gZXZlbnQuY2xpZW50WSAtIHkwO1xuICAgICAgICBnLm1vdmVkID0gZHggKiBkeCArIGR5ICogZHkgPiBjbGlja0Rpc3RhbmNlMjtcbiAgICAgIH1cbiAgICAgIGcuZXZlbnQoZXZlbnQpXG4gICAgICAgLnpvb20oXCJtb3VzZVwiLCBjb25zdHJhaW4odHJhbnNsYXRlKGcudGhhdC5fX3pvb20sIGcubW91c2VbMF0gPSBwb2ludGVyKGV2ZW50LCBjdXJyZW50VGFyZ2V0KSwgZy5tb3VzZVsxXSksIGcuZXh0ZW50LCB0cmFuc2xhdGVFeHRlbnQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3VzZXVwcGVkKGV2ZW50KSB7XG4gICAgICB2Lm9uKFwibW91c2Vtb3ZlLnpvb20gbW91c2V1cC56b29tXCIsIG51bGwpO1xuICAgICAgZHJhZ0VuYWJsZShldmVudC52aWV3LCBnLm1vdmVkKTtcbiAgICAgIG5vZXZlbnQoZXZlbnQpO1xuICAgICAgZy5ldmVudChldmVudCkuZW5kKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGJsY2xpY2tlZChldmVudCwgLi4uYXJncykge1xuICAgIGlmICghZmlsdGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHJldHVybjtcbiAgICB2YXIgdDAgPSB0aGlzLl9fem9vbSxcbiAgICAgICAgcDAgPSBwb2ludGVyKGV2ZW50LmNoYW5nZWRUb3VjaGVzID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBldmVudCwgdGhpcyksXG4gICAgICAgIHAxID0gdDAuaW52ZXJ0KHAwKSxcbiAgICAgICAgazEgPSB0MC5rICogKGV2ZW50LnNoaWZ0S2V5ID8gMC41IDogMiksXG4gICAgICAgIHQxID0gY29uc3RyYWluKHRyYW5zbGF0ZShzY2FsZSh0MCwgazEpLCBwMCwgcDEpLCBleHRlbnQuYXBwbHkodGhpcywgYXJncyksIHRyYW5zbGF0ZUV4dGVudCk7XG5cbiAgICBub2V2ZW50KGV2ZW50KTtcbiAgICBpZiAoZHVyYXRpb24gPiAwKSBzZWxlY3QodGhpcykudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cmF0aW9uKS5jYWxsKHNjaGVkdWxlLCB0MSwgcDAsIGV2ZW50KTtcbiAgICBlbHNlIHNlbGVjdCh0aGlzKS5jYWxsKHpvb20udHJhbnNmb3JtLCB0MSwgcDAsIGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvdWNoc3RhcnRlZChldmVudCwgLi4uYXJncykge1xuICAgIGlmICghZmlsdGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHJldHVybjtcbiAgICB2YXIgdG91Y2hlcyA9IGV2ZW50LnRvdWNoZXMsXG4gICAgICAgIG4gPSB0b3VjaGVzLmxlbmd0aCxcbiAgICAgICAgZyA9IGdlc3R1cmUodGhpcywgYXJncywgZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID09PSBuKS5ldmVudChldmVudCksXG4gICAgICAgIHN0YXJ0ZWQsIGksIHQsIHA7XG5cbiAgICBub3Byb3BhZ2F0aW9uKGV2ZW50KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICB0ID0gdG91Y2hlc1tpXSwgcCA9IHBvaW50ZXIodCwgdGhpcyk7XG4gICAgICBwID0gW3AsIHRoaXMuX196b29tLmludmVydChwKSwgdC5pZGVudGlmaWVyXTtcbiAgICAgIGlmICghZy50b3VjaDApIGcudG91Y2gwID0gcCwgc3RhcnRlZCA9IHRydWUsIGcudGFwcyA9IDEgKyAhIXRvdWNoc3RhcnRpbmc7XG4gICAgICBlbHNlIGlmICghZy50b3VjaDEgJiYgZy50b3VjaDBbMl0gIT09IHBbMl0pIGcudG91Y2gxID0gcCwgZy50YXBzID0gMDtcbiAgICB9XG5cbiAgICBpZiAodG91Y2hzdGFydGluZykgdG91Y2hzdGFydGluZyA9IGNsZWFyVGltZW91dCh0b3VjaHN0YXJ0aW5nKTtcblxuICAgIGlmIChzdGFydGVkKSB7XG4gICAgICBpZiAoZy50YXBzIDwgMikgdG91Y2hmaXJzdCA9IHBbMF0sIHRvdWNoc3RhcnRpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyB0b3VjaHN0YXJ0aW5nID0gbnVsbDsgfSwgdG91Y2hEZWxheSk7XG4gICAgICBpbnRlcnJ1cHQodGhpcyk7XG4gICAgICBnLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdG91Y2htb3ZlZChldmVudCwgLi4uYXJncykge1xuICAgIGlmICghdGhpcy5fX3pvb21pbmcpIHJldHVybjtcbiAgICB2YXIgZyA9IGdlc3R1cmUodGhpcywgYXJncykuZXZlbnQoZXZlbnQpLFxuICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMsXG4gICAgICAgIG4gPSB0b3VjaGVzLmxlbmd0aCwgaSwgdCwgcCwgbDtcblxuICAgIG5vZXZlbnQoZXZlbnQpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIHQgPSB0b3VjaGVzW2ldLCBwID0gcG9pbnRlcih0LCB0aGlzKTtcbiAgICAgIGlmIChnLnRvdWNoMCAmJiBnLnRvdWNoMFsyXSA9PT0gdC5pZGVudGlmaWVyKSBnLnRvdWNoMFswXSA9IHA7XG4gICAgICBlbHNlIGlmIChnLnRvdWNoMSAmJiBnLnRvdWNoMVsyXSA9PT0gdC5pZGVudGlmaWVyKSBnLnRvdWNoMVswXSA9IHA7XG4gICAgfVxuICAgIHQgPSBnLnRoYXQuX196b29tO1xuICAgIGlmIChnLnRvdWNoMSkge1xuICAgICAgdmFyIHAwID0gZy50b3VjaDBbMF0sIGwwID0gZy50b3VjaDBbMV0sXG4gICAgICAgICAgcDEgPSBnLnRvdWNoMVswXSwgbDEgPSBnLnRvdWNoMVsxXSxcbiAgICAgICAgICBkcCA9IChkcCA9IHAxWzBdIC0gcDBbMF0pICogZHAgKyAoZHAgPSBwMVsxXSAtIHAwWzFdKSAqIGRwLFxuICAgICAgICAgIGRsID0gKGRsID0gbDFbMF0gLSBsMFswXSkgKiBkbCArIChkbCA9IGwxWzFdIC0gbDBbMV0pICogZGw7XG4gICAgICB0ID0gc2NhbGUodCwgTWF0aC5zcXJ0KGRwIC8gZGwpKTtcbiAgICAgIHAgPSBbKHAwWzBdICsgcDFbMF0pIC8gMiwgKHAwWzFdICsgcDFbMV0pIC8gMl07XG4gICAgICBsID0gWyhsMFswXSArIGwxWzBdKSAvIDIsIChsMFsxXSArIGwxWzFdKSAvIDJdO1xuICAgIH1cbiAgICBlbHNlIGlmIChnLnRvdWNoMCkgcCA9IGcudG91Y2gwWzBdLCBsID0gZy50b3VjaDBbMV07XG4gICAgZWxzZSByZXR1cm47XG5cbiAgICBnLnpvb20oXCJ0b3VjaFwiLCBjb25zdHJhaW4odHJhbnNsYXRlKHQsIHAsIGwpLCBnLmV4dGVudCwgdHJhbnNsYXRlRXh0ZW50KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0b3VjaGVuZGVkKGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgaWYgKCF0aGlzLl9fem9vbWluZykgcmV0dXJuO1xuICAgIHZhciBnID0gZ2VzdHVyZSh0aGlzLCBhcmdzKS5ldmVudChldmVudCksXG4gICAgICAgIHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgbiA9IHRvdWNoZXMubGVuZ3RoLCBpLCB0O1xuXG4gICAgbm9wcm9wYWdhdGlvbihldmVudCk7XG4gICAgaWYgKHRvdWNoZW5kaW5nKSBjbGVhclRpbWVvdXQodG91Y2hlbmRpbmcpO1xuICAgIHRvdWNoZW5kaW5nID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgdG91Y2hlbmRpbmcgPSBudWxsOyB9LCB0b3VjaERlbGF5KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICB0ID0gdG91Y2hlc1tpXTtcbiAgICAgIGlmIChnLnRvdWNoMCAmJiBnLnRvdWNoMFsyXSA9PT0gdC5pZGVudGlmaWVyKSBkZWxldGUgZy50b3VjaDA7XG4gICAgICBlbHNlIGlmIChnLnRvdWNoMSAmJiBnLnRvdWNoMVsyXSA9PT0gdC5pZGVudGlmaWVyKSBkZWxldGUgZy50b3VjaDE7XG4gICAgfVxuICAgIGlmIChnLnRvdWNoMSAmJiAhZy50b3VjaDApIGcudG91Y2gwID0gZy50b3VjaDEsIGRlbGV0ZSBnLnRvdWNoMTtcbiAgICBpZiAoZy50b3VjaDApIGcudG91Y2gwWzFdID0gdGhpcy5fX3pvb20uaW52ZXJ0KGcudG91Y2gwWzBdKTtcbiAgICBlbHNlIHtcbiAgICAgIGcuZW5kKCk7XG4gICAgICAvLyBJZiB0aGlzIHdhcyBhIGRibHRhcCwgcmVyb3V0ZSB0byB0aGUgKG9wdGlvbmFsKSBkYmxjbGljay56b29tIGhhbmRsZXIuXG4gICAgICBpZiAoZy50YXBzID09PSAyKSB7XG4gICAgICAgIHQgPSBwb2ludGVyKHQsIHRoaXMpO1xuICAgICAgICBpZiAoTWF0aC5oeXBvdCh0b3VjaGZpcnN0WzBdIC0gdFswXSwgdG91Y2hmaXJzdFsxXSAtIHRbMV0pIDwgdGFwRGlzdGFuY2UpIHtcbiAgICAgICAgICB2YXIgcCA9IHNlbGVjdCh0aGlzKS5vbihcImRibGNsaWNrLnpvb21cIik7XG4gICAgICAgICAgaWYgKHApIHAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHpvb20ud2hlZWxEZWx0YSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh3aGVlbERlbHRhID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCgrXyksIHpvb20pIDogd2hlZWxEZWx0YTtcbiAgfTtcblxuICB6b29tLmZpbHRlciA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChmaWx0ZXIgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCEhXyksIHpvb20pIDogZmlsdGVyO1xuICB9O1xuXG4gIHpvb20udG91Y2hhYmxlID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHRvdWNoYWJsZSA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoISFfKSwgem9vbSkgOiB0b3VjaGFibGU7XG4gIH07XG5cbiAgem9vbS5leHRlbnQgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZXh0ZW50ID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudChbWytfWzBdWzBdLCArX1swXVsxXV0sIFsrX1sxXVswXSwgK19bMV1bMV1dXSksIHpvb20pIDogZXh0ZW50O1xuICB9O1xuXG4gIHpvb20uc2NhbGVFeHRlbnQgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc2NhbGVFeHRlbnRbMF0gPSArX1swXSwgc2NhbGVFeHRlbnRbMV0gPSArX1sxXSwgem9vbSkgOiBbc2NhbGVFeHRlbnRbMF0sIHNjYWxlRXh0ZW50WzFdXTtcbiAgfTtcblxuICB6b29tLnRyYW5zbGF0ZUV4dGVudCA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0cmFuc2xhdGVFeHRlbnRbMF1bMF0gPSArX1swXVswXSwgdHJhbnNsYXRlRXh0ZW50WzFdWzBdID0gK19bMV1bMF0sIHRyYW5zbGF0ZUV4dGVudFswXVsxXSA9ICtfWzBdWzFdLCB0cmFuc2xhdGVFeHRlbnRbMV1bMV0gPSArX1sxXVsxXSwgem9vbSkgOiBbW3RyYW5zbGF0ZUV4dGVudFswXVswXSwgdHJhbnNsYXRlRXh0ZW50WzBdWzFdXSwgW3RyYW5zbGF0ZUV4dGVudFsxXVswXSwgdHJhbnNsYXRlRXh0ZW50WzFdWzFdXV07XG4gIH07XG5cbiAgem9vbS5jb25zdHJhaW4gPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoY29uc3RyYWluID0gXywgem9vbSkgOiBjb25zdHJhaW47XG4gIH07XG5cbiAgem9vbS5kdXJhdGlvbiA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChkdXJhdGlvbiA9ICtfLCB6b29tKSA6IGR1cmF0aW9uO1xuICB9O1xuXG4gIHpvb20uaW50ZXJwb2xhdGUgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoaW50ZXJwb2xhdGUgPSBfLCB6b29tKSA6IGludGVycG9sYXRlO1xuICB9O1xuXG4gIHpvb20ub24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSBsaXN0ZW5lcnMub24uYXBwbHkobGlzdGVuZXJzLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbGlzdGVuZXJzID8gem9vbSA6IHZhbHVlO1xuICB9O1xuXG4gIHpvb20uY2xpY2tEaXN0YW5jZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChjbGlja0Rpc3RhbmNlMiA9IChfID0gK18pICogXywgem9vbSkgOiBNYXRoLnNxcnQoY2xpY2tEaXN0YW5jZTIpO1xuICB9O1xuXG4gIHpvb20udGFwRGlzdGFuY2UgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodGFwRGlzdGFuY2UgPSArXywgem9vbSkgOiB0YXBEaXN0YW5jZTtcbiAgfTtcblxuICByZXR1cm4gem9vbTtcbn1cbiIsICJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTdG9yZSwgdXNlTm9kZUlkLCBnZXRSZWN0T2ZOb2RlcywgaW50ZXJuYWxzU3ltYm9sLCBQb3NpdGlvbiB9IGZyb20gJ0ByZWFjdGZsb3cvY29yZSc7XG5pbXBvcnQgY2MgZnJvbSAnY2xhc3NjYXQnO1xuaW1wb3J0IHsgc2hhbGxvdyB9IGZyb20gJ3p1c3RhbmQvc2hhbGxvdyc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xuXG5jb25zdCBzZWxlY3RvciA9IChzdGF0ZSkgPT4gc3RhdGUuZG9tTm9kZT8ucXVlcnlTZWxlY3RvcignLnJlYWN0LWZsb3dfX3JlbmRlcmVyJyk7XG5mdW5jdGlvbiBOb2RlVG9vbGJhclBvcnRhbCh7IGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCB3cmFwcGVyUmVmID0gdXNlU3RvcmUoc2VsZWN0b3IpO1xuICAgIGlmICghd3JhcHBlclJlZikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgd3JhcHBlclJlZik7XG59XG5cbmNvbnN0IG5vZGVFcXVhbGl0eUZuID0gKGEsIGIpID0+IGE/LnBvc2l0aW9uQWJzb2x1dGU/LnggPT09IGI/LnBvc2l0aW9uQWJzb2x1dGU/LnggJiZcbiAgICBhPy5wb3NpdGlvbkFic29sdXRlPy55ID09PSBiPy5wb3NpdGlvbkFic29sdXRlPy55ICYmXG4gICAgYT8ud2lkdGggPT09IGI/LndpZHRoICYmXG4gICAgYT8uaGVpZ2h0ID09PSBiPy5oZWlnaHQgJiZcbiAgICBhPy5zZWxlY3RlZCA9PT0gYj8uc2VsZWN0ZWQgJiZcbiAgICBhPy5baW50ZXJuYWxzU3ltYm9sXT8ueiA9PT0gYj8uW2ludGVybmFsc1N5bWJvbF0/Lno7XG5jb25zdCBub2Rlc0VxdWFsaXR5Rm4gPSAoYSwgYikgPT4ge1xuICAgIHJldHVybiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeSgobm9kZSwgaSkgPT4gbm9kZUVxdWFsaXR5Rm4obm9kZSwgYltpXSkpO1xufTtcbmNvbnN0IHN0b3JlU2VsZWN0b3IgPSAoc3RhdGUpID0+ICh7XG4gICAgdHJhbnNmb3JtOiBzdGF0ZS50cmFuc2Zvcm0sXG4gICAgbm9kZU9yaWdpbjogc3RhdGUubm9kZU9yaWdpbixcbiAgICBzZWxlY3RlZE5vZGVzQ291bnQ6IHN0YXRlLmdldE5vZGVzKCkuZmlsdGVyKChub2RlKSA9PiBub2RlLnNlbGVjdGVkKS5sZW5ndGgsXG59KTtcbmZ1bmN0aW9uIGdldFRyYW5zZm9ybShub2RlUmVjdCwgdHJhbnNmb3JtLCBwb3NpdGlvbiwgb2Zmc2V0LCBhbGlnbikge1xuICAgIGxldCBhbGlnbm1lbnRPZmZzZXQgPSAwLjU7XG4gICAgaWYgKGFsaWduID09PSAnc3RhcnQnKSB7XG4gICAgICAgIGFsaWdubWVudE9mZnNldCA9IDA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFsaWduID09PSAnZW5kJykge1xuICAgICAgICBhbGlnbm1lbnRPZmZzZXQgPSAxO1xuICAgIH1cbiAgICAvLyBwb3NpdGlvbiA9PT0gUG9zaXRpb24uVG9wXG4gICAgLy8gd2Ugc2V0IHRoZSB4IGFueSB5IHBvc2l0aW9uIG9mIHRoZSB0b29sYmFyIGJhc2VkIG9uIHRoZSBub2RlcyBwb3NpdGlvblxuICAgIGxldCBwb3MgPSBbXG4gICAgICAgIChub2RlUmVjdC54ICsgbm9kZVJlY3Qud2lkdGggKiBhbGlnbm1lbnRPZmZzZXQpICogdHJhbnNmb3JtWzJdICsgdHJhbnNmb3JtWzBdLFxuICAgICAgICBub2RlUmVjdC55ICogdHJhbnNmb3JtWzJdICsgdHJhbnNmb3JtWzFdIC0gb2Zmc2V0LFxuICAgIF07XG4gICAgLy8gYW5kIHRoYW4gc2hpZnQgaXQgYmFzZWQgb24gdGhlIGFsaWdubWVudC4gVGhlIHNoaWZ0IHZhbHVlcyBhcmUgaW4gJS5cbiAgICBsZXQgc2hpZnQgPSBbLTEwMCAqIGFsaWdubWVudE9mZnNldCwgLTEwMF07XG4gICAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgICAgICBjYXNlIFBvc2l0aW9uLlJpZ2h0OlxuICAgICAgICAgICAgcG9zID0gW1xuICAgICAgICAgICAgICAgIChub2RlUmVjdC54ICsgbm9kZVJlY3Qud2lkdGgpICogdHJhbnNmb3JtWzJdICsgdHJhbnNmb3JtWzBdICsgb2Zmc2V0LFxuICAgICAgICAgICAgICAgIChub2RlUmVjdC55ICsgbm9kZVJlY3QuaGVpZ2h0ICogYWxpZ25tZW50T2Zmc2V0KSAqIHRyYW5zZm9ybVsyXSArIHRyYW5zZm9ybVsxXSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBzaGlmdCA9IFswLCAtMTAwICogYWxpZ25tZW50T2Zmc2V0XTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvc2l0aW9uLkJvdHRvbTpcbiAgICAgICAgICAgIHBvc1sxXSA9IChub2RlUmVjdC55ICsgbm9kZVJlY3QuaGVpZ2h0KSAqIHRyYW5zZm9ybVsyXSArIHRyYW5zZm9ybVsxXSArIG9mZnNldDtcbiAgICAgICAgICAgIHNoaWZ0WzFdID0gMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvc2l0aW9uLkxlZnQ6XG4gICAgICAgICAgICBwb3MgPSBbXG4gICAgICAgICAgICAgICAgbm9kZVJlY3QueCAqIHRyYW5zZm9ybVsyXSArIHRyYW5zZm9ybVswXSAtIG9mZnNldCxcbiAgICAgICAgICAgICAgICAobm9kZVJlY3QueSArIG5vZGVSZWN0LmhlaWdodCAqIGFsaWdubWVudE9mZnNldCkgKiB0cmFuc2Zvcm1bMl0gKyB0cmFuc2Zvcm1bMV0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgc2hpZnQgPSBbLTEwMCwgLTEwMCAqIGFsaWdubWVudE9mZnNldF07XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGB0cmFuc2xhdGUoJHtwb3NbMF19cHgsICR7cG9zWzFdfXB4KSB0cmFuc2xhdGUoJHtzaGlmdFswXX0lLCAke3NoaWZ0WzFdfSUpYDtcbn1cbmZ1bmN0aW9uIE5vZGVUb29sYmFyKHsgbm9kZUlkLCBjaGlsZHJlbiwgY2xhc3NOYW1lLCBzdHlsZSwgaXNWaXNpYmxlLCBwb3NpdGlvbiA9IFBvc2l0aW9uLlRvcCwgb2Zmc2V0ID0gMTAsIGFsaWduID0gJ2NlbnRlcicsIC4uLnJlc3QgfSkge1xuICAgIGNvbnN0IGNvbnRleHROb2RlSWQgPSB1c2VOb2RlSWQoKTtcbiAgICBjb25zdCBub2Rlc1NlbGVjdG9yID0gdXNlQ2FsbGJhY2soKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGVJZHMgPSBBcnJheS5pc0FycmF5KG5vZGVJZCkgPyBub2RlSWQgOiBbbm9kZUlkIHx8IGNvbnRleHROb2RlSWQgfHwgJyddO1xuICAgICAgICByZXR1cm4gbm9kZUlkcy5yZWR1Y2UoKGFjYywgaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBzdGF0ZS5ub2RlSW50ZXJuYWxzLmdldChpZCk7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIGFjYy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pO1xuICAgIH0sIFtub2RlSWQsIGNvbnRleHROb2RlSWRdKTtcbiAgICBjb25zdCBub2RlcyA9IHVzZVN0b3JlKG5vZGVzU2VsZWN0b3IsIG5vZGVzRXF1YWxpdHlGbik7XG4gICAgY29uc3QgeyB0cmFuc2Zvcm0sIG5vZGVPcmlnaW4sIHNlbGVjdGVkTm9kZXNDb3VudCB9ID0gdXNlU3RvcmUoc3RvcmVTZWxlY3Rvciwgc2hhbGxvdyk7XG4gICAgY29uc3QgaXNBY3RpdmUgPSB0eXBlb2YgaXNWaXNpYmxlID09PSAnYm9vbGVhbicgPyBpc1Zpc2libGUgOiBub2Rlcy5sZW5ndGggPT09IDEgJiYgbm9kZXNbMF0uc2VsZWN0ZWQgJiYgc2VsZWN0ZWROb2Rlc0NvdW50ID09PSAxO1xuICAgIGlmICghaXNBY3RpdmUgfHwgIW5vZGVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgbm9kZVJlY3QgPSBnZXRSZWN0T2ZOb2Rlcyhub2Rlcywgbm9kZU9yaWdpbik7XG4gICAgY29uc3QgekluZGV4ID0gTWF0aC5tYXgoLi4ubm9kZXMubWFwKChub2RlKSA9PiAobm9kZVtpbnRlcm5hbHNTeW1ib2xdPy56IHx8IDEpICsgMSkpO1xuICAgIGNvbnN0IHdyYXBwZXJTdHlsZSA9IHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHRyYW5zZm9ybTogZ2V0VHJhbnNmb3JtKG5vZGVSZWN0LCB0cmFuc2Zvcm0sIHBvc2l0aW9uLCBvZmZzZXQsIGFsaWduKSxcbiAgICAgICAgekluZGV4LFxuICAgICAgICAuLi5zdHlsZSxcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChOb2RlVG9vbGJhclBvcnRhbCwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB3cmFwcGVyU3R5bGUsIGNsYXNzTmFtZTogY2MoWydyZWFjdC1mbG93X19ub2RlLXRvb2xiYXInLCBjbGFzc05hbWVdKSwgLi4ucmVzdCB9LCBjaGlsZHJlbikpKTtcbn1cblxuZXhwb3J0IHsgTm9kZVRvb2xiYXIgfTtcbiIsICJmdW5jdGlvbiBjb3VudChub2RlKSB7XG4gIHZhciBzdW0gPSAwLFxuICAgICAgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuLFxuICAgICAgaSA9IGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKCFpKSBzdW0gPSAxO1xuICBlbHNlIHdoaWxlICgtLWkgPj0gMCkgc3VtICs9IGNoaWxkcmVuW2ldLnZhbHVlO1xuICBub2RlLnZhbHVlID0gc3VtO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaEFmdGVyKGNvdW50KTtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjYWxsYmFjaywgdGhhdCkge1xuICBsZXQgaW5kZXggPSAtMTtcbiAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpIHtcbiAgICBjYWxsYmFjay5jYWxsKHRoYXQsIG5vZGUsICsraW5kZXgsIHRoaXMpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGF0KSB7XG4gIHZhciBub2RlID0gdGhpcywgbm9kZXMgPSBbbm9kZV0sIGNoaWxkcmVuLCBpLCBpbmRleCA9IC0xO1xuICB3aGlsZSAobm9kZSA9IG5vZGVzLnBvcCgpKSB7XG4gICAgY2FsbGJhY2suY2FsbCh0aGF0LCBub2RlLCArK2luZGV4LCB0aGlzKTtcbiAgICBpZiAoY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBub2Rlcy5wdXNoKGNoaWxkcmVuW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2ssIHRoYXQpIHtcbiAgdmFyIG5vZGUgPSB0aGlzLCBub2RlcyA9IFtub2RlXSwgbmV4dCA9IFtdLCBjaGlsZHJlbiwgaSwgbiwgaW5kZXggPSAtMTtcbiAgd2hpbGUgKG5vZGUgPSBub2Rlcy5wb3AoKSkge1xuICAgIG5leHQucHVzaChub2RlKTtcbiAgICBpZiAoY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGkgPSAwLCBuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIG5vZGVzLnB1c2goY2hpbGRyZW5baV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB3aGlsZSAobm9kZSA9IG5leHQucG9wKCkpIHtcbiAgICBjYWxsYmFjay5jYWxsKHRoYXQsIG5vZGUsICsraW5kZXgsIHRoaXMpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGF0KSB7XG4gIGxldCBpbmRleCA9IC0xO1xuICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcykge1xuICAgIGlmIChjYWxsYmFjay5jYWxsKHRoYXQsIG5vZGUsICsraW5kZXgsIHRoaXMpKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5lYWNoQWZ0ZXIoZnVuY3Rpb24obm9kZSkge1xuICAgIHZhciBzdW0gPSArdmFsdWUobm9kZS5kYXRhKSB8fCAwLFxuICAgICAgICBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4sXG4gICAgICAgIGkgPSBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGg7XG4gICAgd2hpbGUgKC0taSA+PSAwKSBzdW0gKz0gY2hpbGRyZW5baV0udmFsdWU7XG4gICAgbm9kZS52YWx1ZSA9IHN1bTtcbiAgfSk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY29tcGFyZSkge1xuICByZXR1cm4gdGhpcy5lYWNoQmVmb3JlKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgbm9kZS5jaGlsZHJlbi5zb3J0KGNvbXBhcmUpO1xuICAgIH1cbiAgfSk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZW5kKSB7XG4gIHZhciBzdGFydCA9IHRoaXMsXG4gICAgICBhbmNlc3RvciA9IGxlYXN0Q29tbW9uQW5jZXN0b3Ioc3RhcnQsIGVuZCksXG4gICAgICBub2RlcyA9IFtzdGFydF07XG4gIHdoaWxlIChzdGFydCAhPT0gYW5jZXN0b3IpIHtcbiAgICBzdGFydCA9IHN0YXJ0LnBhcmVudDtcbiAgICBub2Rlcy5wdXNoKHN0YXJ0KTtcbiAgfVxuICB2YXIgayA9IG5vZGVzLmxlbmd0aDtcbiAgd2hpbGUgKGVuZCAhPT0gYW5jZXN0b3IpIHtcbiAgICBub2Rlcy5zcGxpY2UoaywgMCwgZW5kKTtcbiAgICBlbmQgPSBlbmQucGFyZW50O1xuICB9XG4gIHJldHVybiBub2Rlcztcbn1cblxuZnVuY3Rpb24gbGVhc3RDb21tb25BbmNlc3RvcihhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gYTtcbiAgdmFyIGFOb2RlcyA9IGEuYW5jZXN0b3JzKCksXG4gICAgICBiTm9kZXMgPSBiLmFuY2VzdG9ycygpLFxuICAgICAgYyA9IG51bGw7XG4gIGEgPSBhTm9kZXMucG9wKCk7XG4gIGIgPSBiTm9kZXMucG9wKCk7XG4gIHdoaWxlIChhID09PSBiKSB7XG4gICAgYyA9IGE7XG4gICAgYSA9IGFOb2Rlcy5wb3AoKTtcbiAgICBiID0gYk5vZGVzLnBvcCgpO1xuICB9XG4gIHJldHVybiBjO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgbm9kZSA9IHRoaXMsIG5vZGVzID0gW25vZGVdO1xuICB3aGlsZSAobm9kZSA9IG5vZGUucGFyZW50KSB7XG4gICAgbm9kZXMucHVzaChub2RlKTtcbiAgfVxuICByZXR1cm4gbm9kZXM7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHRoaXMpO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgbGVhdmVzID0gW107XG4gIHRoaXMuZWFjaEJlZm9yZShmdW5jdGlvbihub2RlKSB7XG4gICAgaWYgKCFub2RlLmNoaWxkcmVuKSB7XG4gICAgICBsZWF2ZXMucHVzaChub2RlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbGVhdmVzO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgcm9vdCA9IHRoaXMsIGxpbmtzID0gW107XG4gIHJvb3QuZWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgaWYgKG5vZGUgIT09IHJvb3QpIHsgLy8gRG9uXHUyMDE5dCBpbmNsdWRlIHRoZSByb290XHUyMDE5cyBwYXJlbnQsIGlmIGFueS5cbiAgICAgIGxpbmtzLnB1c2goe3NvdXJjZTogbm9kZS5wYXJlbnQsIHRhcmdldDogbm9kZX0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBsaW5rcztcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiooKSB7XG4gIHZhciBub2RlID0gdGhpcywgY3VycmVudCwgbmV4dCA9IFtub2RlXSwgY2hpbGRyZW4sIGksIG47XG4gIGRvIHtcbiAgICBjdXJyZW50ID0gbmV4dC5yZXZlcnNlKCksIG5leHQgPSBbXTtcbiAgICB3aGlsZSAobm9kZSA9IGN1cnJlbnQucG9wKCkpIHtcbiAgICAgIHlpZWxkIG5vZGU7XG4gICAgICBpZiAoY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIG4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICBuZXh0LnB1c2goY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IHdoaWxlIChuZXh0Lmxlbmd0aCk7XG59XG4iLCAiaW1wb3J0IG5vZGVfY291bnQgZnJvbSBcIi4vY291bnQuanNcIjtcbmltcG9ydCBub2RlX2VhY2ggZnJvbSBcIi4vZWFjaC5qc1wiO1xuaW1wb3J0IG5vZGVfZWFjaEJlZm9yZSBmcm9tIFwiLi9lYWNoQmVmb3JlLmpzXCI7XG5pbXBvcnQgbm9kZV9lYWNoQWZ0ZXIgZnJvbSBcIi4vZWFjaEFmdGVyLmpzXCI7XG5pbXBvcnQgbm9kZV9maW5kIGZyb20gXCIuL2ZpbmQuanNcIjtcbmltcG9ydCBub2RlX3N1bSBmcm9tIFwiLi9zdW0uanNcIjtcbmltcG9ydCBub2RlX3NvcnQgZnJvbSBcIi4vc29ydC5qc1wiO1xuaW1wb3J0IG5vZGVfcGF0aCBmcm9tIFwiLi9wYXRoLmpzXCI7XG5pbXBvcnQgbm9kZV9hbmNlc3RvcnMgZnJvbSBcIi4vYW5jZXN0b3JzLmpzXCI7XG5pbXBvcnQgbm9kZV9kZXNjZW5kYW50cyBmcm9tIFwiLi9kZXNjZW5kYW50cy5qc1wiO1xuaW1wb3J0IG5vZGVfbGVhdmVzIGZyb20gXCIuL2xlYXZlcy5qc1wiO1xuaW1wb3J0IG5vZGVfbGlua3MgZnJvbSBcIi4vbGlua3MuanNcIjtcbmltcG9ydCBub2RlX2l0ZXJhdG9yIGZyb20gXCIuL2l0ZXJhdG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhpZXJhcmNoeShkYXRhLCBjaGlsZHJlbikge1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgIGRhdGEgPSBbdW5kZWZpbmVkLCBkYXRhXTtcbiAgICBpZiAoY2hpbGRyZW4gPT09IHVuZGVmaW5lZCkgY2hpbGRyZW4gPSBtYXBDaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2hpbGRyZW4gPSBvYmplY3RDaGlsZHJlbjtcbiAgfVxuXG4gIHZhciByb290ID0gbmV3IE5vZGUoZGF0YSksXG4gICAgICBub2RlLFxuICAgICAgbm9kZXMgPSBbcm9vdF0sXG4gICAgICBjaGlsZCxcbiAgICAgIGNoaWxkcyxcbiAgICAgIGksXG4gICAgICBuO1xuXG4gIHdoaWxlIChub2RlID0gbm9kZXMucG9wKCkpIHtcbiAgICBpZiAoKGNoaWxkcyA9IGNoaWxkcmVuKG5vZGUuZGF0YSkpICYmIChuID0gKGNoaWxkcyA9IEFycmF5LmZyb20oY2hpbGRzKSkubGVuZ3RoKSkge1xuICAgICAgbm9kZS5jaGlsZHJlbiA9IGNoaWxkcztcbiAgICAgIGZvciAoaSA9IG4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBub2Rlcy5wdXNoKGNoaWxkID0gY2hpbGRzW2ldID0gbmV3IE5vZGUoY2hpbGRzW2ldKSk7XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG5vZGU7XG4gICAgICAgIGNoaWxkLmRlcHRoID0gbm9kZS5kZXB0aCArIDE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJvb3QuZWFjaEJlZm9yZShjb21wdXRlSGVpZ2h0KTtcbn1cblxuZnVuY3Rpb24gbm9kZV9jb3B5KCkge1xuICByZXR1cm4gaGllcmFyY2h5KHRoaXMpLmVhY2hCZWZvcmUoY29weURhdGEpO1xufVxuXG5mdW5jdGlvbiBvYmplY3RDaGlsZHJlbihkKSB7XG4gIHJldHVybiBkLmNoaWxkcmVuO1xufVxuXG5mdW5jdGlvbiBtYXBDaGlsZHJlbihkKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGQpID8gZFsxXSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGNvcHlEYXRhKG5vZGUpIHtcbiAgaWYgKG5vZGUuZGF0YS52YWx1ZSAhPT0gdW5kZWZpbmVkKSBub2RlLnZhbHVlID0gbm9kZS5kYXRhLnZhbHVlO1xuICBub2RlLmRhdGEgPSBub2RlLmRhdGEuZGF0YTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVIZWlnaHQobm9kZSkge1xuICB2YXIgaGVpZ2h0ID0gMDtcbiAgZG8gbm9kZS5oZWlnaHQgPSBoZWlnaHQ7XG4gIHdoaWxlICgobm9kZSA9IG5vZGUucGFyZW50KSAmJiAobm9kZS5oZWlnaHQgPCArK2hlaWdodCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTm9kZShkYXRhKSB7XG4gIHRoaXMuZGF0YSA9IGRhdGE7XG4gIHRoaXMuZGVwdGggPVxuICB0aGlzLmhlaWdodCA9IDA7XG4gIHRoaXMucGFyZW50ID0gbnVsbDtcbn1cblxuTm9kZS5wcm90b3R5cGUgPSBoaWVyYXJjaHkucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogTm9kZSxcbiAgY291bnQ6IG5vZGVfY291bnQsXG4gIGVhY2g6IG5vZGVfZWFjaCxcbiAgZWFjaEFmdGVyOiBub2RlX2VhY2hBZnRlcixcbiAgZWFjaEJlZm9yZTogbm9kZV9lYWNoQmVmb3JlLFxuICBmaW5kOiBub2RlX2ZpbmQsXG4gIHN1bTogbm9kZV9zdW0sXG4gIHNvcnQ6IG5vZGVfc29ydCxcbiAgcGF0aDogbm9kZV9wYXRoLFxuICBhbmNlc3RvcnM6IG5vZGVfYW5jZXN0b3JzLFxuICBkZXNjZW5kYW50czogbm9kZV9kZXNjZW5kYW50cyxcbiAgbGVhdmVzOiBub2RlX2xlYXZlcyxcbiAgbGlua3M6IG5vZGVfbGlua3MsXG4gIGNvcHk6IG5vZGVfY29weSxcbiAgW1N5bWJvbC5pdGVyYXRvcl06IG5vZGVfaXRlcmF0b3Jcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbmFsKGYpIHtcbiAgcmV0dXJuIGYgPT0gbnVsbCA/IG51bGwgOiByZXF1aXJlZChmKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkKGYpIHtcbiAgaWYgKHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIGY7XG59XG4iLCAiaW1wb3J0IHtvcHRpb25hbH0gZnJvbSBcIi4vYWNjZXNzb3JzLmpzXCI7XG5pbXBvcnQge05vZGUsIGNvbXB1dGVIZWlnaHR9IGZyb20gXCIuL2hpZXJhcmNoeS9pbmRleC5qc1wiO1xuXG52YXIgcHJlcm9vdCA9IHtkZXB0aDogLTF9LFxuICAgIGFtYmlndW91cyA9IHt9LFxuICAgIGltcHV0ZWQgPSB7fTtcblxuZnVuY3Rpb24gZGVmYXVsdElkKGQpIHtcbiAgcmV0dXJuIGQuaWQ7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQYXJlbnRJZChkKSB7XG4gIHJldHVybiBkLnBhcmVudElkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGlkID0gZGVmYXVsdElkLFxuICAgICAgcGFyZW50SWQgPSBkZWZhdWx0UGFyZW50SWQsXG4gICAgICBwYXRoO1xuXG4gIGZ1bmN0aW9uIHN0cmF0aWZ5KGRhdGEpIHtcbiAgICB2YXIgbm9kZXMgPSBBcnJheS5mcm9tKGRhdGEpLFxuICAgICAgICBjdXJyZW50SWQgPSBpZCxcbiAgICAgICAgY3VycmVudFBhcmVudElkID0gcGFyZW50SWQsXG4gICAgICAgIG4sXG4gICAgICAgIGQsXG4gICAgICAgIGksXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgbm9kZSxcbiAgICAgICAgbm9kZUlkLFxuICAgICAgICBub2RlS2V5LFxuICAgICAgICBub2RlQnlLZXkgPSBuZXcgTWFwO1xuXG4gICAgaWYgKHBhdGggIT0gbnVsbCkge1xuICAgICAgY29uc3QgSSA9IG5vZGVzLm1hcCgoZCwgaSkgPT4gbm9ybWFsaXplKHBhdGgoZCwgaSwgZGF0YSkpKTtcbiAgICAgIGNvbnN0IFAgPSBJLm1hcChwYXJlbnRvZik7XG4gICAgICBjb25zdCBTID0gbmV3IFNldChJKS5hZGQoXCJcIik7XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgUCkge1xuICAgICAgICBpZiAoIVMuaGFzKGkpKSB7XG4gICAgICAgICAgUy5hZGQoaSk7XG4gICAgICAgICAgSS5wdXNoKGkpO1xuICAgICAgICAgIFAucHVzaChwYXJlbnRvZihpKSk7XG4gICAgICAgICAgbm9kZXMucHVzaChpbXB1dGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudElkID0gKF8sIGkpID0+IElbaV07XG4gICAgICBjdXJyZW50UGFyZW50SWQgPSAoXywgaSkgPT4gUFtpXTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwLCBuID0gbm9kZXMubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICBkID0gbm9kZXNbaV0sIG5vZGUgPSBub2Rlc1tpXSA9IG5ldyBOb2RlKGQpO1xuICAgICAgaWYgKChub2RlSWQgPSBjdXJyZW50SWQoZCwgaSwgZGF0YSkpICE9IG51bGwgJiYgKG5vZGVJZCArPSBcIlwiKSkge1xuICAgICAgICBub2RlS2V5ID0gbm9kZS5pZCA9IG5vZGVJZDtcbiAgICAgICAgbm9kZUJ5S2V5LnNldChub2RlS2V5LCBub2RlQnlLZXkuaGFzKG5vZGVLZXkpID8gYW1iaWd1b3VzIDogbm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAoKG5vZGVJZCA9IGN1cnJlbnRQYXJlbnRJZChkLCBpLCBkYXRhKSkgIT0gbnVsbCAmJiAobm9kZUlkICs9IFwiXCIpKSB7XG4gICAgICAgIG5vZGUucGFyZW50ID0gbm9kZUlkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgIGlmIChub2RlSWQgPSBub2RlLnBhcmVudCkge1xuICAgICAgICBwYXJlbnQgPSBub2RlQnlLZXkuZ2V0KG5vZGVJZCk7XG4gICAgICAgIGlmICghcGFyZW50KSB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nOiBcIiArIG5vZGVJZCk7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IGFtYmlndW91cykgdGhyb3cgbmV3IEVycm9yKFwiYW1iaWd1b3VzOiBcIiArIG5vZGVJZCk7XG4gICAgICAgIGlmIChwYXJlbnQuY2hpbGRyZW4pIHBhcmVudC5jaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICBlbHNlIHBhcmVudC5jaGlsZHJlbiA9IFtub2RlXTtcbiAgICAgICAgbm9kZS5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocm9vdCkgdGhyb3cgbmV3IEVycm9yKFwibXVsdGlwbGUgcm9vdHNcIik7XG4gICAgICAgIHJvb3QgPSBub2RlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcm9vdCkgdGhyb3cgbmV3IEVycm9yKFwibm8gcm9vdFwiKTtcblxuICAgIC8vIFdoZW4gaW1wdXRpbmcgaW50ZXJuYWwgbm9kZXMsIG9ubHkgaW50cm9kdWNlIHJvb3RzIGlmIG5lZWRlZC5cbiAgICAvLyBUaGVuIHJlcGxhY2UgdGhlIGltcHV0ZWQgbWFya2VyIGRhdGEgd2l0aCBudWxsLlxuICAgIGlmIChwYXRoICE9IG51bGwpIHtcbiAgICAgIHdoaWxlIChyb290LmRhdGEgPT09IGltcHV0ZWQgJiYgcm9vdC5jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcm9vdCA9IHJvb3QuY2hpbGRyZW5bMF0sIC0tbjtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLmRhdGEgIT09IGltcHV0ZWQpIGJyZWFrO1xuICAgICAgICBub2RlLmRhdGEgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJvb3QucGFyZW50ID0gcHJlcm9vdDtcbiAgICByb290LmVhY2hCZWZvcmUoZnVuY3Rpb24obm9kZSkgeyBub2RlLmRlcHRoID0gbm9kZS5wYXJlbnQuZGVwdGggKyAxOyAtLW47IH0pLmVhY2hCZWZvcmUoY29tcHV0ZUhlaWdodCk7XG4gICAgcm9vdC5wYXJlbnQgPSBudWxsO1xuICAgIGlmIChuID4gMCkgdGhyb3cgbmV3IEVycm9yKFwiY3ljbGVcIik7XG5cbiAgICByZXR1cm4gcm9vdDtcbiAgfVxuXG4gIHN0cmF0aWZ5LmlkID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGlkID0gb3B0aW9uYWwoeCksIHN0cmF0aWZ5KSA6IGlkO1xuICB9O1xuXG4gIHN0cmF0aWZ5LnBhcmVudElkID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHBhcmVudElkID0gb3B0aW9uYWwoeCksIHN0cmF0aWZ5KSA6IHBhcmVudElkO1xuICB9O1xuXG4gIHN0cmF0aWZ5LnBhdGggPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAocGF0aCA9IG9wdGlvbmFsKHgpLCBzdHJhdGlmeSkgOiBwYXRoO1xuICB9O1xuXG4gIHJldHVybiBzdHJhdGlmeTtcbn1cblxuLy8gVG8gbm9ybWFsaXplIGEgcGF0aCwgd2UgY29lcmNlIHRvIGEgc3RyaW5nLCBzdHJpcCB0aGUgdHJhaWxpbmcgc2xhc2ggaWYgYW55XG4vLyAoYXMgbG9uZyBhcyB0aGUgdHJhaWxpbmcgc2xhc2ggaXMgbm90IGltbWVkaWF0ZWx5IHByZWNlZGVkIGJ5IGFub3RoZXIgc2xhc2gpLFxuLy8gYW5kIGFkZCBsZWFkaW5nIHNsYXNoIGlmIG1pc3NpbmcuXG5mdW5jdGlvbiBub3JtYWxpemUocGF0aCkge1xuICBwYXRoID0gYCR7cGF0aH1gO1xuICBsZXQgaSA9IHBhdGgubGVuZ3RoO1xuICBpZiAoc2xhc2gocGF0aCwgaSAtIDEpICYmICFzbGFzaChwYXRoLCBpIC0gMikpIHBhdGggPSBwYXRoLnNsaWNlKDAsIC0xKTtcbiAgcmV0dXJuIHBhdGhbMF0gPT09IFwiL1wiID8gcGF0aCA6IGAvJHtwYXRofWA7XG59XG5cbi8vIFdhbGsgYmFja3dhcmRzIHRvIGZpbmQgdGhlIGZpcnN0IHNsYXNoIHRoYXQgaXMgbm90IHRoZSBsZWFkaW5nIHNsYXNoLCBlLmcuOlxuLy8gXCIvZm9vL2JhclwiIFx1MjFFNSBcIi9mb29cIiwgXCIvZm9vXCIgXHUyMUU1IFwiL1wiLCBcIi9cIiBcdTIxQTYgXCJcIi4gKFRoZSByb290IGlzIHNwZWNpYWwtY2FzZWRcbi8vIGJlY2F1c2UgdGhlIGlkIG9mIHRoZSByb290IG11c3QgYmUgYSB0cnV0aHkgdmFsdWUuKVxuZnVuY3Rpb24gcGFyZW50b2YocGF0aCkge1xuICBsZXQgaSA9IHBhdGgubGVuZ3RoO1xuICBpZiAoaSA8IDIpIHJldHVybiBcIlwiO1xuICB3aGlsZSAoLS1pID4gMSkgaWYgKHNsYXNoKHBhdGgsIGkpKSBicmVhaztcbiAgcmV0dXJuIHBhdGguc2xpY2UoMCwgaSk7XG59XG5cbi8vIFNsYXNoZXMgY2FuIGJlIGVzY2FwZWQ7IHRvIGRldGVybWluZSB3aGV0aGVyIGEgc2xhc2ggaXMgYSBwYXRoIGRlbGltaXRlciwgd2Vcbi8vIGNvdW50IHRoZSBudW1iZXIgb2YgcHJlY2VkaW5nIGJhY2tzbGFzaGVzIGVzY2FwaW5nIHRoZSBmb3J3YXJkIHNsYXNoOiBhbiBvZGRcbi8vIG51bWJlciBpbmRpY2F0ZXMgYW4gZXNjYXBlZCBmb3J3YXJkIHNsYXNoLlxuZnVuY3Rpb24gc2xhc2gocGF0aCwgaSkge1xuICBpZiAocGF0aFtpXSA9PT0gXCIvXCIpIHtcbiAgICBsZXQgayA9IDA7XG4gICAgd2hpbGUgKGkgPiAwICYmIHBhdGhbLS1pXSA9PT0gXCJcXFxcXCIpICsraztcbiAgICBpZiAoKGsgJiAxKSA9PT0gMCkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwgImltcG9ydCB7Tm9kZX0gZnJvbSBcIi4vaGllcmFyY2h5L2luZGV4LmpzXCI7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXBhcmF0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEucGFyZW50ID09PSBiLnBhcmVudCA/IDEgOiAyO1xufVxuXG4vLyBmdW5jdGlvbiByYWRpYWxTZXBhcmF0aW9uKGEsIGIpIHtcbi8vICAgcmV0dXJuIChhLnBhcmVudCA9PT0gYi5wYXJlbnQgPyAxIDogMikgLyBhLmRlcHRoO1xuLy8gfVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gdHJhdmVyc2UgdGhlIGxlZnQgY29udG91ciBvZiBhIHN1YnRyZWUgKG9yXG4vLyBzdWJmb3Jlc3QpLiBJdCByZXR1cm5zIHRoZSBzdWNjZXNzb3Igb2YgdiBvbiB0aGlzIGNvbnRvdXIuIFRoaXMgc3VjY2Vzc29yIGlzXG4vLyBlaXRoZXIgZ2l2ZW4gYnkgdGhlIGxlZnRtb3N0IGNoaWxkIG9mIHYgb3IgYnkgdGhlIHRocmVhZCBvZiB2LiBUaGUgZnVuY3Rpb25cbi8vIHJldHVybnMgbnVsbCBpZiBhbmQgb25seSBpZiB2IGlzIG9uIHRoZSBoaWdoZXN0IGxldmVsIG9mIGl0cyBzdWJ0cmVlLlxuZnVuY3Rpb24gbmV4dExlZnQodikge1xuICB2YXIgY2hpbGRyZW4gPSB2LmNoaWxkcmVuO1xuICByZXR1cm4gY2hpbGRyZW4gPyBjaGlsZHJlblswXSA6IHYudDtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiB3b3JrcyBhbmFsb2dvdXNseSB0byBuZXh0TGVmdC5cbmZ1bmN0aW9uIG5leHRSaWdodCh2KSB7XG4gIHZhciBjaGlsZHJlbiA9IHYuY2hpbGRyZW47XG4gIHJldHVybiBjaGlsZHJlbiA/IGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdIDogdi50O1xufVxuXG4vLyBTaGlmdHMgdGhlIGN1cnJlbnQgc3VidHJlZSByb290ZWQgYXQgdysuIFRoaXMgaXMgZG9uZSBieSBpbmNyZWFzaW5nXG4vLyBwcmVsaW0odyspIGFuZCBtb2QodyspIGJ5IHNoaWZ0LlxuZnVuY3Rpb24gbW92ZVN1YnRyZWUod20sIHdwLCBzaGlmdCkge1xuICB2YXIgY2hhbmdlID0gc2hpZnQgLyAod3AuaSAtIHdtLmkpO1xuICB3cC5jIC09IGNoYW5nZTtcbiAgd3AucyArPSBzaGlmdDtcbiAgd20uYyArPSBjaGFuZ2U7XG4gIHdwLnogKz0gc2hpZnQ7XG4gIHdwLm0gKz0gc2hpZnQ7XG59XG5cbi8vIEFsbCBvdGhlciBzaGlmdHMsIGFwcGxpZWQgdG8gdGhlIHNtYWxsZXIgc3VidHJlZXMgYmV0d2VlbiB3LSBhbmQgdyssIGFyZVxuLy8gcGVyZm9ybWVkIGJ5IHRoaXMgZnVuY3Rpb24uIFRvIHByZXBhcmUgdGhlIHNoaWZ0cywgd2UgaGF2ZSB0byBhZGp1c3Rcbi8vIGNoYW5nZSh3KyksIHNoaWZ0KHcrKSwgYW5kIGNoYW5nZSh3LSkuXG5mdW5jdGlvbiBleGVjdXRlU2hpZnRzKHYpIHtcbiAgdmFyIHNoaWZ0ID0gMCxcbiAgICAgIGNoYW5nZSA9IDAsXG4gICAgICBjaGlsZHJlbiA9IHYuY2hpbGRyZW4sXG4gICAgICBpID0gY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgdztcbiAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgdyA9IGNoaWxkcmVuW2ldO1xuICAgIHcueiArPSBzaGlmdDtcbiAgICB3Lm0gKz0gc2hpZnQ7XG4gICAgc2hpZnQgKz0gdy5zICsgKGNoYW5nZSArPSB3LmMpO1xuICB9XG59XG5cbi8vIElmIHZpLVx1MjAxOXMgYW5jZXN0b3IgaXMgYSBzaWJsaW5nIG9mIHYsIHJldHVybnMgdmktXHUyMDE5cyBhbmNlc3Rvci4gT3RoZXJ3aXNlLFxuLy8gcmV0dXJucyB0aGUgc3BlY2lmaWVkIChkZWZhdWx0KSBhbmNlc3Rvci5cbmZ1bmN0aW9uIG5leHRBbmNlc3Rvcih2aW0sIHYsIGFuY2VzdG9yKSB7XG4gIHJldHVybiB2aW0uYS5wYXJlbnQgPT09IHYucGFyZW50ID8gdmltLmEgOiBhbmNlc3Rvcjtcbn1cblxuZnVuY3Rpb24gVHJlZU5vZGUobm9kZSwgaSkge1xuICB0aGlzLl8gPSBub2RlO1xuICB0aGlzLnBhcmVudCA9IG51bGw7XG4gIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICB0aGlzLkEgPSBudWxsOyAvLyBkZWZhdWx0IGFuY2VzdG9yXG4gIHRoaXMuYSA9IHRoaXM7IC8vIGFuY2VzdG9yXG4gIHRoaXMueiA9IDA7IC8vIHByZWxpbVxuICB0aGlzLm0gPSAwOyAvLyBtb2RcbiAgdGhpcy5jID0gMDsgLy8gY2hhbmdlXG4gIHRoaXMucyA9IDA7IC8vIHNoaWZ0XG4gIHRoaXMudCA9IG51bGw7IC8vIHRocmVhZFxuICB0aGlzLmkgPSBpOyAvLyBudW1iZXJcbn1cblxuVHJlZU5vZGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShOb2RlLnByb3RvdHlwZSk7XG5cbmZ1bmN0aW9uIHRyZWVSb290KHJvb3QpIHtcbiAgdmFyIHRyZWUgPSBuZXcgVHJlZU5vZGUocm9vdCwgMCksXG4gICAgICBub2RlLFxuICAgICAgbm9kZXMgPSBbdHJlZV0sXG4gICAgICBjaGlsZCxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgaSxcbiAgICAgIG47XG5cbiAgd2hpbGUgKG5vZGUgPSBub2Rlcy5wb3AoKSkge1xuICAgIGlmIChjaGlsZHJlbiA9IG5vZGUuXy5jaGlsZHJlbikge1xuICAgICAgbm9kZS5jaGlsZHJlbiA9IG5ldyBBcnJheShuID0gY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgIGZvciAoaSA9IG4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBub2Rlcy5wdXNoKGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXSA9IG5ldyBUcmVlTm9kZShjaGlsZHJlbltpXSwgaSkpO1xuICAgICAgICBjaGlsZC5wYXJlbnQgPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICh0cmVlLnBhcmVudCA9IG5ldyBUcmVlTm9kZShudWxsLCAwKSkuY2hpbGRyZW4gPSBbdHJlZV07XG4gIHJldHVybiB0cmVlO1xufVxuXG4vLyBOb2RlLWxpbmsgdHJlZSBkaWFncmFtIHVzaW5nIHRoZSBSZWluZ29sZC1UaWxmb3JkIFwidGlkeVwiIGFsZ29yaXRobVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBzZXBhcmF0aW9uID0gZGVmYXVsdFNlcGFyYXRpb24sXG4gICAgICBkeCA9IDEsXG4gICAgICBkeSA9IDEsXG4gICAgICBub2RlU2l6ZSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gdHJlZShyb290KSB7XG4gICAgdmFyIHQgPSB0cmVlUm9vdChyb290KTtcblxuICAgIC8vIENvbXB1dGUgdGhlIGxheW91dCB1c2luZyBCdWNoaGVpbSBldCBhbC5cdTIwMTlzIGFsZ29yaXRobS5cbiAgICB0LmVhY2hBZnRlcihmaXJzdFdhbGspLCB0LnBhcmVudC5tID0gLXQuejtcbiAgICB0LmVhY2hCZWZvcmUoc2Vjb25kV2Fsayk7XG5cbiAgICAvLyBJZiBhIGZpeGVkIG5vZGUgc2l6ZSBpcyBzcGVjaWZpZWQsIHNjYWxlIHggYW5kIHkuXG4gICAgaWYgKG5vZGVTaXplKSByb290LmVhY2hCZWZvcmUoc2l6ZU5vZGUpO1xuXG4gICAgLy8gSWYgYSBmaXhlZCB0cmVlIHNpemUgaXMgc3BlY2lmaWVkLCBzY2FsZSB4IGFuZCB5IGJhc2VkIG9uIHRoZSBleHRlbnQuXG4gICAgLy8gQ29tcHV0ZSB0aGUgbGVmdC1tb3N0LCByaWdodC1tb3N0LCBhbmQgZGVwdGgtbW9zdCBub2RlcyBmb3IgZXh0ZW50cy5cbiAgICBlbHNlIHtcbiAgICAgIHZhciBsZWZ0ID0gcm9vdCxcbiAgICAgICAgICByaWdodCA9IHJvb3QsXG4gICAgICAgICAgYm90dG9tID0gcm9vdDtcbiAgICAgIHJvb3QuZWFjaEJlZm9yZShmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIGlmIChub2RlLnggPCBsZWZ0LngpIGxlZnQgPSBub2RlO1xuICAgICAgICBpZiAobm9kZS54ID4gcmlnaHQueCkgcmlnaHQgPSBub2RlO1xuICAgICAgICBpZiAobm9kZS5kZXB0aCA+IGJvdHRvbS5kZXB0aCkgYm90dG9tID0gbm9kZTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHMgPSBsZWZ0ID09PSByaWdodCA/IDEgOiBzZXBhcmF0aW9uKGxlZnQsIHJpZ2h0KSAvIDIsXG4gICAgICAgICAgdHggPSBzIC0gbGVmdC54LFxuICAgICAgICAgIGt4ID0gZHggLyAocmlnaHQueCArIHMgKyB0eCksXG4gICAgICAgICAga3kgPSBkeSAvIChib3R0b20uZGVwdGggfHwgMSk7XG4gICAgICByb290LmVhY2hCZWZvcmUoZnVuY3Rpb24obm9kZSkge1xuICAgICAgICBub2RlLnggPSAobm9kZS54ICsgdHgpICoga3g7XG4gICAgICAgIG5vZGUueSA9IG5vZGUuZGVwdGggKiBreTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByb290O1xuICB9XG5cbiAgLy8gQ29tcHV0ZXMgYSBwcmVsaW1pbmFyeSB4LWNvb3JkaW5hdGUgZm9yIHYuIEJlZm9yZSB0aGF0LCBGSVJTVCBXQUxLIGlzXG4gIC8vIGFwcGxpZWQgcmVjdXJzaXZlbHkgdG8gdGhlIGNoaWxkcmVuIG9mIHYsIGFzIHdlbGwgYXMgdGhlIGZ1bmN0aW9uXG4gIC8vIEFQUE9SVElPTi4gQWZ0ZXIgc3BhY2luZyBvdXQgdGhlIGNoaWxkcmVuIGJ5IGNhbGxpbmcgRVhFQ1VURSBTSElGVFMsIHRoZVxuICAvLyBub2RlIHYgaXMgcGxhY2VkIHRvIHRoZSBtaWRwb2ludCBvZiBpdHMgb3V0ZXJtb3N0IGNoaWxkcmVuLlxuICBmdW5jdGlvbiBmaXJzdFdhbGsodikge1xuICAgIHZhciBjaGlsZHJlbiA9IHYuY2hpbGRyZW4sXG4gICAgICAgIHNpYmxpbmdzID0gdi5wYXJlbnQuY2hpbGRyZW4sXG4gICAgICAgIHcgPSB2LmkgPyBzaWJsaW5nc1t2LmkgLSAxXSA6IG51bGw7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBleGVjdXRlU2hpZnRzKHYpO1xuICAgICAgdmFyIG1pZHBvaW50ID0gKGNoaWxkcmVuWzBdLnogKyBjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXS56KSAvIDI7XG4gICAgICBpZiAodykge1xuICAgICAgICB2LnogPSB3LnogKyBzZXBhcmF0aW9uKHYuXywgdy5fKTtcbiAgICAgICAgdi5tID0gdi56IC0gbWlkcG9pbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2LnogPSBtaWRwb2ludDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHcpIHtcbiAgICAgIHYueiA9IHcueiArIHNlcGFyYXRpb24odi5fLCB3Ll8pO1xuICAgIH1cbiAgICB2LnBhcmVudC5BID0gYXBwb3J0aW9uKHYsIHcsIHYucGFyZW50LkEgfHwgc2libGluZ3NbMF0pO1xuICB9XG5cbiAgLy8gQ29tcHV0ZXMgYWxsIHJlYWwgeC1jb29yZGluYXRlcyBieSBzdW1taW5nIHVwIHRoZSBtb2RpZmllcnMgcmVjdXJzaXZlbHkuXG4gIGZ1bmN0aW9uIHNlY29uZFdhbGsodikge1xuICAgIHYuXy54ID0gdi56ICsgdi5wYXJlbnQubTtcbiAgICB2Lm0gKz0gdi5wYXJlbnQubTtcbiAgfVxuXG4gIC8vIFRoZSBjb3JlIG9mIHRoZSBhbGdvcml0aG0uIEhlcmUsIGEgbmV3IHN1YnRyZWUgaXMgY29tYmluZWQgd2l0aCB0aGVcbiAgLy8gcHJldmlvdXMgc3VidHJlZXMuIFRocmVhZHMgYXJlIHVzZWQgdG8gdHJhdmVyc2UgdGhlIGluc2lkZSBhbmQgb3V0c2lkZVxuICAvLyBjb250b3VycyBvZiB0aGUgbGVmdCBhbmQgcmlnaHQgc3VidHJlZSB1cCB0byB0aGUgaGlnaGVzdCBjb21tb24gbGV2ZWwuIFRoZVxuICAvLyB2ZXJ0aWNlcyB1c2VkIGZvciB0aGUgdHJhdmVyc2FscyBhcmUgdmkrLCB2aS0sIHZvLSwgYW5kIHZvKywgd2hlcmUgdGhlXG4gIC8vIHN1cGVyc2NyaXB0IG8gbWVhbnMgb3V0c2lkZSBhbmQgaSBtZWFucyBpbnNpZGUsIHRoZSBzdWJzY3JpcHQgLSBtZWFucyBsZWZ0XG4gIC8vIHN1YnRyZWUgYW5kICsgbWVhbnMgcmlnaHQgc3VidHJlZS4gRm9yIHN1bW1pbmcgdXAgdGhlIG1vZGlmaWVycyBhbG9uZyB0aGVcbiAgLy8gY29udG91ciwgd2UgdXNlIHJlc3BlY3RpdmUgdmFyaWFibGVzIHNpKywgc2ktLCBzby0sIGFuZCBzbysuIFdoZW5ldmVyIHR3b1xuICAvLyBub2RlcyBvZiB0aGUgaW5zaWRlIGNvbnRvdXJzIGNvbmZsaWN0LCB3ZSBjb21wdXRlIHRoZSBsZWZ0IG9uZSBvZiB0aGVcbiAgLy8gZ3JlYXRlc3QgdW5jb21tb24gYW5jZXN0b3JzIHVzaW5nIHRoZSBmdW5jdGlvbiBBTkNFU1RPUiBhbmQgY2FsbCBNT1ZFXG4gIC8vIFNVQlRSRUUgdG8gc2hpZnQgdGhlIHN1YnRyZWUgYW5kIHByZXBhcmUgdGhlIHNoaWZ0cyBvZiBzbWFsbGVyIHN1YnRyZWVzLlxuICAvLyBGaW5hbGx5LCB3ZSBhZGQgYSBuZXcgdGhyZWFkIChpZiBuZWNlc3NhcnkpLlxuICBmdW5jdGlvbiBhcHBvcnRpb24odiwgdywgYW5jZXN0b3IpIHtcbiAgICBpZiAodykge1xuICAgICAgdmFyIHZpcCA9IHYsXG4gICAgICAgICAgdm9wID0gdixcbiAgICAgICAgICB2aW0gPSB3LFxuICAgICAgICAgIHZvbSA9IHZpcC5wYXJlbnQuY2hpbGRyZW5bMF0sXG4gICAgICAgICAgc2lwID0gdmlwLm0sXG4gICAgICAgICAgc29wID0gdm9wLm0sXG4gICAgICAgICAgc2ltID0gdmltLm0sXG4gICAgICAgICAgc29tID0gdm9tLm0sXG4gICAgICAgICAgc2hpZnQ7XG4gICAgICB3aGlsZSAodmltID0gbmV4dFJpZ2h0KHZpbSksIHZpcCA9IG5leHRMZWZ0KHZpcCksIHZpbSAmJiB2aXApIHtcbiAgICAgICAgdm9tID0gbmV4dExlZnQodm9tKTtcbiAgICAgICAgdm9wID0gbmV4dFJpZ2h0KHZvcCk7XG4gICAgICAgIHZvcC5hID0gdjtcbiAgICAgICAgc2hpZnQgPSB2aW0ueiArIHNpbSAtIHZpcC56IC0gc2lwICsgc2VwYXJhdGlvbih2aW0uXywgdmlwLl8pO1xuICAgICAgICBpZiAoc2hpZnQgPiAwKSB7XG4gICAgICAgICAgbW92ZVN1YnRyZWUobmV4dEFuY2VzdG9yKHZpbSwgdiwgYW5jZXN0b3IpLCB2LCBzaGlmdCk7XG4gICAgICAgICAgc2lwICs9IHNoaWZ0O1xuICAgICAgICAgIHNvcCArPSBzaGlmdDtcbiAgICAgICAgfVxuICAgICAgICBzaW0gKz0gdmltLm07XG4gICAgICAgIHNpcCArPSB2aXAubTtcbiAgICAgICAgc29tICs9IHZvbS5tO1xuICAgICAgICBzb3AgKz0gdm9wLm07XG4gICAgICB9XG4gICAgICBpZiAodmltICYmICFuZXh0UmlnaHQodm9wKSkge1xuICAgICAgICB2b3AudCA9IHZpbTtcbiAgICAgICAgdm9wLm0gKz0gc2ltIC0gc29wO1xuICAgICAgfVxuICAgICAgaWYgKHZpcCAmJiAhbmV4dExlZnQodm9tKSkge1xuICAgICAgICB2b20udCA9IHZpcDtcbiAgICAgICAgdm9tLm0gKz0gc2lwIC0gc29tO1xuICAgICAgICBhbmNlc3RvciA9IHY7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbmNlc3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNpemVOb2RlKG5vZGUpIHtcbiAgICBub2RlLnggKj0gZHg7XG4gICAgbm9kZS55ID0gbm9kZS5kZXB0aCAqIGR5O1xuICB9XG5cbiAgdHJlZS5zZXBhcmF0aW9uID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHNlcGFyYXRpb24gPSB4LCB0cmVlKSA6IHNlcGFyYXRpb247XG4gIH07XG5cbiAgdHJlZS5zaXplID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKG5vZGVTaXplID0gZmFsc2UsIGR4ID0gK3hbMF0sIGR5ID0gK3hbMV0sIHRyZWUpIDogKG5vZGVTaXplID8gbnVsbCA6IFtkeCwgZHldKTtcbiAgfTtcblxuICB0cmVlLm5vZGVTaXplID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKG5vZGVTaXplID0gdHJ1ZSwgZHggPSAreFswXSwgZHkgPSAreFsxXSwgdHJlZSkgOiAobm9kZVNpemUgPyBbZHgsIGR5XSA6IG51bGwpO1xuICB9O1xuXG4gIHJldHVybiB0cmVlO1xufVxuIiwgImV4cG9ydCBjb25zdCBGSVRfRFVSQVRJT04gPSAxODA7XG5cbmV4cG9ydCBjb25zdCBGSVRfUEFERElORyA9IDAuMztcblxuZXhwb3J0IGNvbnN0IE5PREVfV0lEVEggPSAxODA7XG5cbmV4cG9ydCBjb25zdCBOT0RFX0hFSUdIVCA9IDQwO1xuIiwgImltcG9ydCB7IHN0cmF0aWZ5LCB0cmVlIH0gZnJvbSAnZDMtaGllcmFyY2h5JztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnZDMtdGltZXInO1xuaW1wb3J0IHsgZ2V0UmVjdE9mTm9kZXMsIE5vZGUsIFJlYWN0Rmxvd0luc3RhbmNlIH0gZnJvbSAncmVhY3RmbG93JztcblxuaW1wb3J0IHsgRklUX1BBRERJTkcsIE5PREVfSEVJR0hULCBOT0RFX1dJRFRIIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgRmxvdywgUG9zaXRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBzdHlsZUl0ZW0gfSBmcm9tICcuL3N0eWxlcyc7XG5cbmNvbnN0IGxheW91dCA9IHRyZWU8Tm9kZT4oKVxuICAvLyB0aGUgbm9kZSBzaXplIGNvbmZpZ3VyZXMgdGhlIHNwYWNpbmcgYmV0d2VlbiB0aGUgbm9kZXMgKFt3aWR0aCwgaGVpZ2h0XSlcbiAgLm5vZGVTaXplKFsyMDAsIDIwMF0pXG4gIC8vIHRoaXMgaXMgbmVlZGVkIGZvciBjcmVhdGluZyBlcXVhbCBzcGFjZSBiZXR3ZWVuIGFsbCBub2Rlc1xuICAuc2VwYXJhdGlvbigoKSA9PiAyKTtcblxuY29uc3QgY2FsY3VsYXRlTGF5b3V0ID0gYXN5bmMgKFxuICBtb2RlbDogRmxvdy5Nb2RlbCxcbiAgdXBkYXRlOiAobmV3TW9kZWw6IEZsb3cuTW9kZWwpID0+IGFueSxcbiAgZmxvdzogUmVhY3RGbG93SW5zdGFuY2UsXG4gIGR1cmF0aW9uOiBudW1iZXIgfCBmYWxzZSA9IDUwMFxuKTogUHJvbWlzZTxQb3NpdGlvbnM+ID0+IHtcbiAgY29uc3QgeyBub2RlcywgZWRnZXMgfSA9IG1vZGVsO1xuXG4gIGNvbnN0IGhpZXJhcmNoeSA9IHN0cmF0aWZ5PE5vZGU+KClcbiAgICAuaWQoZCA9PiBkLmlkKVxuICAgIC8vIGdldCB0aGUgaWQgb2YgZWFjaCBub2RlIGJ5IHNlYXJjaGluZyB0aHJvdWdoIHRoZSBlZGdlc1xuICAgIC8vIHRoaXMgb25seSB3b3JrcyBpZiBldmVyeSBub2RlIGhhcyBvbmUgY29ubmVjdGlvblxuICAgIC5wYXJlbnRJZChkID0+IGVkZ2VzLmZpbmQoZSA9PiBlLnRhcmdldCA9PT0gZC5pZCk/LnNvdXJjZSkobm9kZXMpO1xuXG4gIC8vIHJ1biB0aGUgbGF5b3V0IGFsZ29yaXRobSB3aXRoIHRoZSBoaWVyYXJjaHkgZGF0YSBzdHJ1Y3R1cmVcbiAgY29uc3Qgcm9vdCA9IGxheW91dChoaWVyYXJjaHkpO1xuICBjb25zdCBuZXdOb2RlcyA9IHJvb3QuZGVzY2VuZGFudHMoKS5tYXAoZCA9PiAoe1xuICAgIC4uLmQuZGF0YSxcbiAgICBwb3NpdGlvbjogeyB4OiBkLngsIHk6IGQueSB9LFxuICAgIC8vIEVuc3VyZSBub2RlcyBoYXZlIGEgd2lkdGgvaGVpZ2h0IHNvIHRoYXQgd2UgY2FuIGxhdGVyIGRvIGEgZml0IHRvIGJvdW5kc1xuICAgIHdpZHRoOiBOT0RFX1dJRFRILFxuICAgIGhlaWdodDogTk9ERV9IRUlHSFQsXG4gIH0pKTtcblxuICBjb25zdCBuZXdNb2RlbCA9IHsgbm9kZXM6IG5ld05vZGVzLCBlZGdlcyB9O1xuXG4gIGNvbnN0IGZpbmFsUG9zaXRpb25zID0gbmV3Tm9kZXMucmVkdWNlKChvYmosIG5leHQpID0+IHtcbiAgICBvYmpbbmV4dC5pZF0gPSBuZXh0LnBvc2l0aW9uO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9IGFzIFBvc2l0aW9ucyk7XG5cbiAgY29uc3QgaGFzT2xkUG9zaXRpb25zID0gbm9kZXMuZmluZChuID0+IG4ucG9zaXRpb24pO1xuXG4gIC8vIElmIHRoZSBvbGQgbW9kZWwgaGFkIG5vIHBvc2l0aW9ucywgdGhpcyBpcyBhIGZpcnN0IGxvYWQgYW5kIHdlIHNob3VsZCBub3QgYW5pbWF0ZVxuICBpZiAoaGFzT2xkUG9zaXRpb25zICYmIGR1cmF0aW9uKSB7XG4gICAgYXdhaXQgYW5pbWF0ZShtb2RlbCwgbmV3TW9kZWwsIHVwZGF0ZSwgZmxvdywgZHVyYXRpb24pO1xuICB9IGVsc2Uge1xuICAgIHVwZGF0ZShuZXdNb2RlbCk7XG4gIH1cblxuICByZXR1cm4gZmluYWxQb3NpdGlvbnM7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjYWxjdWxhdGVMYXlvdXQ7XG5cbmV4cG9ydCBjb25zdCBhbmltYXRlID0gKFxuICBmcm9tOiBGbG93Lk1vZGVsLFxuICB0bzogRmxvdy5Nb2RlbCxcbiAgc2V0TW9kZWw6IChuZXdNb2RlbDogRmxvdy5Nb2RlbCkgPT4gdm9pZCxcbiAgZmxvd0luc3RhbmNlOiBSZWFjdEZsb3dJbnN0YW5jZSxcbiAgZHVyYXRpb24gPSA1MDBcbikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgdHJhbnNpdGlvbnMgPSB0by5ub2Rlcy5tYXAobm9kZSA9PiB7XG4gICAgICAvLyBXZSB1c3VhbGx5IGFuaW1hdGUgYSBub2RlIGZyb20gaXRzIHByZXZpb3VzIHBvc2l0aW9uXG4gICAgICBsZXQgYW5pbWF0ZUZyb20gPSBmcm9tLm5vZGVzLmZpbmQoKHsgaWQgfSkgPT4gaWQgPT09IG5vZGUuaWQpO1xuICAgICAgaWYgKCFhbmltYXRlRnJvbSB8fCAhYW5pbWF0ZUZyb20ucG9zaXRpb24pIHtcbiAgICAgICAgLy8gQnV0IGlmIHRoaXMgYSBuZXcgbm9kZSwgYW5pbWF0ZSBmcm9tIGl0cyBwYXJlbnQgKHNvdXJjZSlcbiAgICAgICAgY29uc3QgZWRnZSA9IGZyb20uZWRnZXMuZmluZCgoeyB0YXJnZXQgfSkgPT4gdGFyZ2V0ID09PSBub2RlLmlkKTtcbiAgICAgICAgYW5pbWF0ZUZyb20gPSBmcm9tLm5vZGVzLmZpbmQoKHsgaWQgfSkgPT4gaWQgPT09IGVkZ2UhLnNvdXJjZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogbm9kZS5pZCxcbiAgICAgICAgZnJvbTogYW5pbWF0ZUZyb20hLnBvc2l0aW9uIHx8IHsgeDogMCwgeTogMCB9LFxuICAgICAgICB0bzogbm9kZS5wb3NpdGlvbixcbiAgICAgICAgbm9kZSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBsZXQgaXNGaXJzdCA9IHRydWU7XG5cbiAgICAvLyBjcmVhdGUgYSB0aW1lciB0byBhbmltYXRlIHRoZSBub2RlcyB0byB0aGVpciBuZXcgcG9zaXRpb25zXG4gICAgY29uc3QgdCA9IHRpbWVyKChlbGFwc2VkOiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IHMgPSBlbGFwc2VkIC8gZHVyYXRpb247XG5cbiAgICAgIGNvbnN0IGN1cnJOb2RlcyA9IHRyYW5zaXRpb25zLm1hcCgoeyBub2RlLCBmcm9tLCB0byB9KSA9PiAoe1xuICAgICAgICAuLi5ub2RlLFxuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIC8vIHNpbXBsZSBsaW5lYXIgaW50ZXJwb2xhdGlvblxuICAgICAgICAgIHg6IGZyb20ueCArICh0by54IC0gZnJvbS54KSAqIHMsXG4gICAgICAgICAgeTogZnJvbS55ICsgKHRvLnkgLSBmcm9tLnkpICogcyxcbiAgICAgICAgfSxcbiAgICAgIH0pKTtcbiAgICAgIHNldE1vZGVsKHsgZWRnZXM6IHRvLmVkZ2VzLCBub2RlczogY3Vyck5vZGVzIH0pO1xuXG4gICAgICBpZiAoaXNGaXJzdCkge1xuICAgICAgICAvLyBTeW5jaHJvbmlzZSBhIGZpdCB0byB0aGUgZmluYWwgcG9zaXRpb24gd2l0aCB0aGUgc2FtZSBkdXJhdGlvblxuICAgICAgICBjb25zdCBib3VuZHMgPSBnZXRSZWN0T2ZOb2Rlcyh0by5ub2Rlcyk7XG4gICAgICAgIGZsb3dJbnN0YW5jZS5maXRCb3VuZHMoYm91bmRzLCB7IGR1cmF0aW9uLCBwYWRkaW5nOiBGSVRfUEFERElORyB9KTtcbiAgICAgICAgaXNGaXJzdCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGlzIGlzIHRoZSBmaW5hbCBzdGVwIG9mIHRoZSBhbmltYXRpb25cbiAgICAgIGlmIChlbGFwc2VkID4gZHVyYXRpb24pIHtcbiAgICAgICAgLy8gd2UgYXJlIG1vdmluZyB0aGUgbm9kZXMgdG8gdGhlaXIgZGVzdGluYXRpb25cbiAgICAgICAgLy8gdGhpcyBuZWVkcyB0byBoYXBwZW4gdG8gYXZvaWQgZ2xpdGNoZXNcbiAgICAgICAgY29uc3QgZmluYWxOb2RlcyA9IHRyYW5zaXRpb25zLm1hcCgoeyBub2RlLCB0byB9KSA9PiAoe1xuICAgICAgICAgIC4uLm5vZGUsXG4gICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgIHg6IHRvLngsXG4gICAgICAgICAgICB5OiB0by55LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcblxuICAgICAgICBzZXRNb2RlbCh7IGVkZ2VzOiB0by5lZGdlcywgbm9kZXM6IGZpbmFsTm9kZXMgfSk7XG5cbiAgICAgICAgLy8gc3RvcCB0aGUgYW5pbWF0aW9uXG4gICAgICAgIHQuc3RvcCgpO1xuXG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59O1xuIiwgImltcG9ydCBSZWFjdCwgeyBtZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICdyZWFjdGZsb3cnO1xuaW1wb3J0IHsgQ2xvY2tJY29uLCBHbG9iZUFsdEljb24gfSBmcm9tICdAaGVyb2ljb25zL3JlYWN0LzI0L291dGxpbmUnO1xuaW1wb3J0IHsgbG9ja0Nsb3NlZEljb24gfSBmcm9tICcuLi9jb21wb25lbnRzL3RyaWdnZXItaWNvbnMnO1xuaW1wb3J0IGNyb25zdHJ1ZSBmcm9tICdjcm9uc3RydWUnO1xuXG5pbXBvcnQgUGx1c0J1dHRvbiBmcm9tICcuLi9jb21wb25lbnRzL1BsdXNCdXR0b24nO1xuaW1wb3J0IE5vZGUgZnJvbSAnLi9Ob2RlJztcbmltcG9ydCB0eXBlIHsgTGlnaHRuaW5nIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG50eXBlIFRyaWdnZXJNZXRhID0ge1xuICBsYWJlbDogc3RyaW5nO1xuICBzdWJsYWJlbD86IHN0cmluZztcbiAgdG9vbHRpcD86IHN0cmluZztcbiAgcHJpbWFyeUljb24/OiB0eXBlb2YgQ2xvY2tJY29uIHwgdHlwZW9mIEdsb2JlQWx0SWNvbjtcbiAgc2Vjb25kYXJ5SWNvbj86IHR5cGVvZiBsb2NrQ2xvc2VkSWNvbjtcbn07XG5cbmNvbnN0IFRyaWdnZXJOb2RlID0gKHtcbiAgc291cmNlUG9zaXRpb24gPSBQb3NpdGlvbi5Cb3R0b20sXG4gIC4uLnByb3BzXG59KTogSlNYLkVsZW1lbnQgPT4ge1xuICAvLyBEbyBub3QgcmVtb3ZlIHlldCwgd2UgbWlnaHQgbmVlZCB0aGlzIHNuaXBwZXQgb2YgY29kZSB3aGVuIGltcGxlbWVudGluZyBpc3N1ZSAjMTEyMVxuICAvLyBjb25zdCB0b29sYmFyID0gKCkgPT4gcHJvcHMuZGF0YT8uYWxsb3dQbGFjZWhvbGRlciAmJiA8UGx1c0J1dHRvbiAvPjtcbiAgY29uc3QgeyBsYWJlbCwgc3VibGFiZWwsIHRvb2x0aXAsIHByaW1hcnlJY29uLCBzZWNvbmRhcnlJY29uIH0gPSBnZXRUcmlnZ2VyTWV0YShcbiAgICBwcm9wcy5kYXRhIGFzIExpZ2h0bmluZy5UcmlnZ2VyTm9kZVxuICApO1xuICByZXR1cm4gKFxuICAgIDxOb2RlXG4gICAgICB7Li4ucHJvcHN9XG4gICAgICBzaGFwZT1cImNpcmNsZVwiXG4gICAgICBsYWJlbD17bGFiZWx9XG4gICAgICBzdWJsYWJlbD17c3VibGFiZWx9XG4gICAgICB0b29sdGlwPXt0b29sdGlwfVxuICAgICAgcHJpbWFyeUljb249e3ByaW1hcnlJY29ufVxuICAgICAgc2Vjb25kYXJ5SWNvbj17c2Vjb25kYXJ5SWNvbn1cbiAgICAgIHNvdXJjZVBvc2l0aW9uPXtzb3VyY2VQb3NpdGlvbn1cbiAgICAgIGludGVyYWN0aXZlPXtwcm9wcy5kYXRhLnRyaWdnZXIudHlwZSA9PT0gJ3dlYmhvb2snfVxuICAgICAgLy8gVE9ETzogcHV0IGJhY2sgdGhlIHRvb2xiYXIgd2hlbiBpbXBsZW1lbnRpbmcgaXNzdWUgIzExMjFcbiAgICAgIHRvb2xiYXI9e2ZhbHNlfVxuICAgIC8+XG4gICk7XG59O1xuXG5UcmlnZ2VyTm9kZS5kaXNwbGF5TmFtZSA9ICdUcmlnZ2VyV29ya2Zsb3dOb2RlJztcblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhUcmlnZ2VyTm9kZSk7XG5cbmZ1bmN0aW9uIGdldFRyaWdnZXJNZXRhKHRyaWdnZXI6IExpZ2h0bmluZy5UcmlnZ2VyTm9kZSk6IFRyaWdnZXJNZXRhIHtcbiAgc3dpdGNoICh0cmlnZ2VyLnR5cGUpIHtcbiAgICBjYXNlICd3ZWJob29rJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhYmVsOiAnV2ViaG9vayB0cmlnZ2VyJyxcbiAgICAgICAgc3VibGFiZWw6IGBPbiBlYWNoIHJlcXVlc3QgcmVjZWl2ZWRgLFxuICAgICAgICB0b29sdGlwOiAnQ2xpY2sgdG8gY29weSB3ZWJob29rIFVSTCcsXG4gICAgICAgIHByaW1hcnlJY29uOiA8R2xvYmVBbHRJY29uIC8+LFxuICAgICAgICBzZWNvbmRhcnlJY29uOiB0cmlnZ2VyLmhhc19hdXRoX21ldGhvZCA/IGxvY2tDbG9zZWRJY29uIDogbnVsbCxcbiAgICAgIH07XG4gICAgY2FzZSAnY3Jvbic6XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxhYmVsOiAnQ3JvbiB0cmlnZ2VyJyxcbiAgICAgICAgICBzdWJsYWJlbDogY3JvbnN0cnVlLnRvU3RyaW5nKHRyaWdnZXIuY3Jvbl9leHByZXNzaW9uKSxcbiAgICAgICAgICBwcmltYXJ5SWNvbjogPENsb2NrSWNvbiAvPixcbiAgICAgICAgICBzZWNvbmRhcnlJY29uOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7IH1cbiAgfVxuICByZXR1cm4geyBsYWJlbDogJycsIHN1YmxhYmVsOiAnJyB9O1xufVxuIiwgImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cblxuZXhwb3J0IGNvbnN0IGxvY2tDbG9zZWRJY29uID0gKFxuICA8c3ZnIHdpZHRoPVwiMzhcIiBoZWlnaHQ9XCIzOFwiIHZpZXdCb3g9XCIwIDAgMzggMzhcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICA8ZyBmaWx0ZXI9XCJ1cmwoI2ZpbHRlcjBfZGRfMzY1Xzc0MzMpXCI+XG4gICAgICA8Y2lyY2xlIGN4PVwiMTlcIiBjeT1cIjE1XCIgcj1cIjE0XCIgZmlsbD1cIndoaXRlXCIgLz5cbiAgICAgIDxjaXJjbGUgY3g9XCIxOVwiIGN5PVwiMTVcIiByPVwiMTMuNVwiIHN0cm9rZT1cIndoaXRlXCIgLz5cbiAgICA8L2c+XG4gICAgPGNpcmNsZSBjeD1cIjE5XCIgY3k9XCIxNVwiIHI9XCIxMC41XCIgZmlsbD1cIndoaXRlXCIgc3Ryb2tlPVwiIzcxNzU3RVwiIC8+XG4gICAgPHBhdGggZmlsbFJ1bGU9XCJldmVub2RkXCIgY2xpcFJ1bGU9XCJldmVub2RkXCIgZD1cIk0xOS4yODU4IDkuNjg3NUMxNy43NjcgOS42ODc1IDE2LjUzNTggMTAuNzY0OCAxNi41MzU4IDEyLjA5MzhWMTMuNDY4OEMxNS42Njc5IDEzLjQ2ODggMTQuOTY0NCAxNC4wODQ0IDE0Ljk2NDQgMTQuODQzOFYxNy45Mzc1QzE0Ljk2NDQgMTguNjk2OSAxNS42Njc5IDE5LjMxMjUgMTYuNTM1OCAxOS4zMTI1SDIyLjAzNThDMjIuOTAzNyAxOS4zMTI1IDIzLjYwNzIgMTguNjk2OSAyMy42MDcyIDE3LjkzNzVWMTQuODQzOEMyMy42MDcyIDE0LjA4NDQgMjIuOTAzNyAxMy40Njg4IDIyLjAzNTggMTMuNDY4OFYxMi4wOTM4QzIyLjAzNTggMTAuNzY0OCAyMC44MDQ2IDkuNjg3NSAxOS4yODU4IDkuNjg3NVpNMjEuMjUwMSAxMy40Njg4VjEyLjA5MzhDMjEuMjUwMSAxMS4xNDQ1IDIwLjM3MDYgMTAuMzc1IDE5LjI4NTggMTAuMzc1QzE4LjIwMDkgMTAuMzc1IDE3LjMyMTUgMTEuMTQ0NSAxNy4zMjE1IDEyLjA5MzhWMTMuNDY4OEgyMS4yNTAxWlwiIGZpbGw9XCIjNzE3NTdFXCIgLz5cbiAgICA8ZGVmcz5cbiAgICAgIDxmaWx0ZXIgaWQ9XCJmaWx0ZXIwX2RkXzM2NV83NDMzXCIgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiMzhcIiBoZWlnaHQ9XCIzOFwiIGZpbHRlclVuaXRzPVwidXNlclNwYWNlT25Vc2VcIiBjb2xvckludGVycG9sYXRpb25GaWx0ZXJzPVwic1JHQlwiPlxuICAgICAgICA8ZmVGbG9vZCBmbG9vZE9wYWNpdHk9XCIwXCIgcmVzdWx0PVwiQmFja2dyb3VuZEltYWdlRml4XCIgLz5cbiAgICAgICAgPGZlQ29sb3JNYXRyaXggaW49XCJTb3VyY2VBbHBoYVwiIHR5cGU9XCJtYXRyaXhcIiB2YWx1ZXM9XCIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMFwiIHJlc3VsdD1cImhhcmRBbHBoYVwiIC8+XG4gICAgICAgIDxmZU1vcnBob2xvZ3kgcmFkaXVzPVwiMVwiIG9wZXJhdG9yPVwiZXJvZGVcIiBpbj1cIlNvdXJjZUFscGhhXCIgcmVzdWx0PVwiZWZmZWN0MV9kcm9wU2hhZG93XzM2NV83NDMzXCIgLz5cbiAgICAgICAgPGZlT2Zmc2V0IGR5PVwiNFwiIC8+XG4gICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249XCIzXCIgLz5cbiAgICAgICAgPGZlQ29tcG9zaXRlIGluMj1cImhhcmRBbHBoYVwiIG9wZXJhdG9yPVwib3V0XCIgLz5cbiAgICAgICAgPGZlQ29sb3JNYXRyaXggdHlwZT1cIm1hdHJpeFwiIHZhbHVlcz1cIjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMSAwXCIgLz5cbiAgICAgICAgPGZlQmxlbmQgbW9kZT1cIm5vcm1hbFwiIGluMj1cIkJhY2tncm91bmRJbWFnZUZpeFwiIHJlc3VsdD1cImVmZmVjdDFfZHJvcFNoYWRvd18zNjVfNzQzM1wiIC8+XG4gICAgICAgIDxmZUNvbG9yTWF0cml4IGluPVwiU291cmNlQWxwaGFcIiB0eXBlPVwibWF0cml4XCIgdmFsdWVzPVwiMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDBcIiByZXN1bHQ9XCJoYXJkQWxwaGFcIiAvPlxuICAgICAgICA8ZmVNb3JwaG9sb2d5IHJhZGl1cz1cIjFcIiBvcGVyYXRvcj1cImVyb2RlXCIgaW49XCJTb3VyY2VBbHBoYVwiIHJlc3VsdD1cImVmZmVjdDJfZHJvcFNoYWRvd18zNjVfNzQzM1wiIC8+XG4gICAgICAgIDxmZU9mZnNldCBkeT1cIjJcIiAvPlxuICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPVwiMlwiIC8+XG4gICAgICAgIDxmZUNvbXBvc2l0ZSBpbjI9XCJoYXJkQWxwaGFcIiBvcGVyYXRvcj1cIm91dFwiIC8+XG4gICAgICAgIDxmZUNvbG9yTWF0cml4IHR5cGU9XCJtYXRyaXhcIiB2YWx1ZXM9XCIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjA2IDBcIiAvPlxuICAgICAgICA8ZmVCbGVuZCBtb2RlPVwibm9ybWFsXCIgaW4yPVwiZWZmZWN0MV9kcm9wU2hhZG93XzM2NV83NDMzXCIgcmVzdWx0PVwiZWZmZWN0Ml9kcm9wU2hhZG93XzM2NV83NDMzXCIgLz5cbiAgICAgICAgPGZlQmxlbmQgbW9kZT1cIm5vcm1hbFwiIGluPVwiU291cmNlR3JhcGhpY1wiIGluMj1cImVmZmVjdDJfZHJvcFNoYWRvd18zNjVfNzQzM1wiIHJlc3VsdD1cInNoYXBlXCIgLz5cbiAgICAgIDwvZmlsdGVyPlxuICAgIDwvZGVmcz5cbiAgPC9zdmc+XG5cbik7XG4iLCAiaW1wb3J0IFJlYWN0LCB7IG1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBIYW5kbGUsIE5vZGVQcm9wcyB9IGZyb20gJ3JlYWN0Zmxvdyc7XG5pbXBvcnQgU2hhcGUgZnJvbSAnLi4vY29tcG9uZW50cy9TaGFwZSc7XG5pbXBvcnQgeyBub2RlSWNvblN0eWxlcywgbm9kZUxhYmVsU3R5bGVzIH0gZnJvbSAnLi4vc3R5bGVzJztcbmltcG9ydCB7IEV4Y2xhbWF0aW9uQ2lyY2xlSWNvbiB9IGZyb20gJ0BoZXJvaWNvbnMvcmVhY3QvMjQvb3V0bGluZSc7XG5cbnR5cGUgTm9kZURhdGEgPSBhbnk7XG5cbnR5cGUgQmFzZU5vZGVQcm9wcyA9IE5vZGVQcm9wczxOb2RlRGF0YT4gJiB7XG4gIHNoYXBlPzogJ2NpcmNsZScgfCAncmVjdCc7XG4gIHByaW1hcnlJY29uPzogYW55O1xuICBzZWNvbmRhcnlJY29uPzogYW55O1xuICBsYWJlbD86IHN0cmluZztcbiAgc3VibGFiZWw/OiBzdHJpbmc7XG4gIHRvb2xiYXI/OiBhbnk7XG4gIGVycm9ycz86IGFueTtcbn07XG5cbnR5cGUgRXJyb3JNZXNzYWdlUHJvcHMgPSB7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59O1xuXG50eXBlIEVycm9yT2JqZWN0ID0ge1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmdbXTtcbn07XG5cbnR5cGUgTGFiZWxQcm9wcyA9IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPHtcbiAgaGFzRXJyb3JzPzogYm9vbGVhbjtcbn0+O1xuXG5mdW5jdGlvbiBlcnJvcnNNZXNzYWdlKGVycm9yczogRXJyb3JPYmplY3QpOiBzdHJpbmcge1xuICBjb25zdCBtZXNzYWdlcyA9IE9iamVjdC5lbnRyaWVzKGVycm9ycykubWFwKChba2V5LCBlcnJvckFycmF5XSkgPT4ge1xuICAgIHJldHVybiBgJHtrZXl9ICR7ZXJyb3JBcnJheS5qb2luKCcsICcpfWA7XG4gIH0pO1xuXG4gIHJldHVybiBtZXNzYWdlcy5qb2luKCcsICcpO1xufVxuXG5jb25zdCBoYXNFcnJvcnMgPSAoZXJyb3JzOiBFcnJvck9iamVjdCB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuID0+IHtcbiAgaWYgKCFlcnJvcnMpIHJldHVybiBmYWxzZTtcblxuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhlcnJvcnMpLnNvbWUoZXJyb3JBcnJheSA9PiBlcnJvckFycmF5Lmxlbmd0aCA+IDApO1xufTtcblxuY29uc3QgTGFiZWw6IFJlYWN0LkZDPExhYmVsUHJvcHM+ID0gKHsgY2hpbGRyZW4sIGhhc0Vycm9ycyA9IGZhbHNlIH0pID0+IHtcbiAgY29uc3QgdGV4dENvbG9yQ2xhc3MgPSBoYXNFcnJvcnMgPyAndGV4dC1yZWQtNTAwJyA6ICcnO1xuXG4gIGlmIChjaGlsZHJlbiAmJiAoY2hpbGRyZW4gYXMgYW55KS5sZW5ndGgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHBcbiAgICAgICAgY2xhc3NOYW1lPXtgbGluZS1jbGFtcC0yIGFsaWduLWxlZnQgdGV4dC1tIG1heC13LVsyNzVweF0gdGV4dC1lbGxpcHNpcyBvdmVyZmxvdy1oaWRkZW4gJHt0ZXh0Q29sb3JDbGFzc31gfVxuICAgICAgPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IEVycm9yTWVzc2FnZTogUmVhY3QuRkM8RXJyb3JNZXNzYWdlUHJvcHM+ID0gKHsgbWVzc2FnZSB9KSA9PiB7XG4gIGlmIChtZXNzYWdlICYmIG1lc3NhZ2UubGVuZ3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxpbmUtY2xhbXAtMiBhbGlnbi1sZWZ0IHRleHQteHMgdGV4dC1yZWQtNTAwIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgIDxFeGNsYW1hdGlvbkNpcmNsZUljb24gY2xhc3NOYW1lPVwibXItMSB3LTVcIiAvPlxuICAgICAgICB7bWVzc2FnZX1cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgU3ViTGFiZWwgPSAoeyBjaGlsZHJlbiB9OiBSZWFjdC5Qcm9wc1dpdGhDaGlsZHJlbikgPT4ge1xuICBpZiAoY2hpbGRyZW4gJiYgKGNoaWxkcmVuIGFzIGFueSkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxpbmUtY2xhbXAtMiBhbGlnbi1sZWZ0IHRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBOb2RlID0gKHtcbiAgLy8gc3RhbmRhcmQgIHJlYWN0IGZsb3cgc3R1ZmZcbiAgaXNDb25uZWN0YWJsZSxcbiAgc2VsZWN0ZWQsXG4gIHRhcmdldFBvc2l0aW9uLFxuICBzb3VyY2VQb3NpdGlvbixcblxuICAvLyBjdXN0b20gc3R1ZmZcbiAgdG9vbGJhcixcbiAgc2hhcGUsXG4gIGxhYmVsLCAvLyBtYWluIGxhYmVsIHdoaWNoIGFwcGVhcnMgdG8gdGhlIHJpZ2h0XG4gIHN1YmxhYmVsLCAvLyBBIHNtYWxsZXIgbGFiZWwgdG8gdGhlIHJpZ2h0XG4gIHByaW1hcnlJY29uLCAvLyBkaXNwbGF5ZWQgaW5zaWRlIHRoZSBTVkcgc2hhcGVcbiAgc2Vjb25kYXJ5SWNvbixcblxuICBlcnJvcnMsXG59OiBCYXNlTm9kZVByb3BzKSA9PiB7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgYW5jaG9yeCwgc3Ryb2tlV2lkdGgsIHN0eWxlIH0gPSBub2RlSWNvblN0eWxlcyhcbiAgICBzZWxlY3RlZCxcbiAgICBoYXNFcnJvcnMoZXJyb3JzKVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJncm91cFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtcm93IGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge3RhcmdldFBvc2l0aW9uICYmIChcbiAgICAgICAgICAgIDxIYW5kbGVcbiAgICAgICAgICAgICAgdHlwZT1cInRhcmdldFwiXG4gICAgICAgICAgICAgIGlzQ29ubmVjdGFibGU9e2lzQ29ubmVjdGFibGV9XG4gICAgICAgICAgICAgIHBvc2l0aW9uPXt0YXJnZXRQb3NpdGlvbn1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHN0cm9rZVdpZHRoICsgYW5jaG9yeCxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8c3ZnIHN0eWxlPXt7IG1heFdpZHRoOiAnMTEwcHgnLCBtYXhIZWlnaHQ6ICcxMTBweCcgfX0+XG4gICAgICAgICAgICA8U2hhcGVcbiAgICAgICAgICAgICAgc2hhcGU9e3NoYXBlfVxuICAgICAgICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAgICAgICAgIGhlaWdodD17aGVpZ2h0fVxuICAgICAgICAgICAgICBzdHJva2VXaWR0aD17c3Ryb2tlV2lkdGh9XG4gICAgICAgICAgICAgIHN0eWxlcz17c3R5bGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIHtwcmltYXJ5SWNvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpb24gaXMgaGFsZiBvZiB0aGUgZGlmZmVyZW5jZSBvZiB0aGUgYWN0dWFsIHdpZHRoLCBvZmZzZXQgZm9yIHN0cm9rZVxuICAgICAgICAgICAgICAgIGxlZnQ6IDAuMTc1ICogd2lkdGggKyBzdHJva2VXaWR0aCxcbiAgICAgICAgICAgICAgICB0b3A6IDAuMTc1ICogaGVpZ2h0ICsgc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHswLjY1ICogaGVpZ2h0fXB4YCxcbiAgICAgICAgICAgICAgICB3aWR0aDogYCR7MC42NSAqIHdpZHRofXB4YCxcbiAgICAgICAgICAgICAgICAuLi5ub2RlTGFiZWxTdHlsZXMoc2VsZWN0ZWQpLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dHlwZW9mIHByaW1hcnlJY29uID09PSAnc3RyaW5nJyA/IChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb250LWJvbGRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsXG4gICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7cHJpbWFyeUljb259XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgcHJpbWFyeUljb25cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge3NlY29uZGFyeUljb24gJiYgKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIGxlZnQ6ICcyJScsIC8vIFlvdSBjYW4gYWRqdXN0IHRoZXNlIHZhbHVlcyBmb3IgcHJlY2lzZSBwb3NpdGlvbmluZ1xuICAgICAgICAgICAgICAgIHRvcDogJzIlJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGAkezAuMyAqIGhlaWdodH1weGAsIC8vIEFkanVzdGluZyBzaXplIGZvciBzZWNvbmRhcnkgaWNvblxuICAgICAgICAgICAgICAgIHdpZHRoOiBgJHswLjMgKiB3aWR0aH1weGAsXG4gICAgICAgICAgICAgICAgLi4ubm9kZUxhYmVsU3R5bGVzKHNlbGVjdGVkKSxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3R5cGVvZiBzZWNvbmRhcnlJY29uID09PSAnc3RyaW5nJyA/IChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb250LWJvbGRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsXG4gICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7c2Vjb25kYXJ5SWNvbn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnlJY29uXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3NvdXJjZVBvc2l0aW9uICYmIChcbiAgICAgICAgICA8SGFuZGxlXG4gICAgICAgICAgICB0eXBlPVwic291cmNlXCJcbiAgICAgICAgICAgIGlzQ29ubmVjdGFibGU9e2lzQ29ubmVjdGFibGV9XG4gICAgICAgICAgICBwb3NpdGlvbj17c291cmNlUG9zaXRpb259XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgICB0b3A6IGhlaWdodCxcbiAgICAgICAgICAgICAgbGVmdDogc3Ryb2tlV2lkdGggKyBhbmNob3J4LFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZmxleC0xIGp1c3RpZnktY2VudGVyIG1sLTJcIj5cbiAgICAgICAgICA8TGFiZWwgaGFzRXJyb3JzPXtoYXNFcnJvcnMoZXJyb3JzKX0+e2xhYmVsfTwvTGFiZWw+XG4gICAgICAgICAge2hhc0Vycm9ycyhlcnJvcnMpICYmIChcbiAgICAgICAgICAgIDxFcnJvck1lc3NhZ2VcbiAgICAgICAgICAgICAgbWVzc2FnZT17ZXJyb3JzTWVzc2FnZShlcnJvcnMpIHx8ICdBbiBlcnJvciBvY2N1cnJlZCd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPFN1YkxhYmVsPntzdWJsYWJlbH08L1N1YkxhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAge3Rvb2xiYXIgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHdpZHRoOiBgJHt3aWR0aH1weGAsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiAnMnB4JyxcbiAgICAgICAgICAgIG1hcmdpblRvcDogJy0xNHB4JyxcbiAgICAgICAgICB9fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHktMCAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDBcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbiBkdXJhdGlvbi0xNTAgZWFzZS1pbi1vdXRcIlxuICAgICAgICA+XG4gICAgICAgICAge3Rvb2xiYXIoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuTm9kZS5kaXNwbGF5TmFtZSA9ICdOb2RlJztcblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhOb2RlKTtcbiIsICJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG50eXBlIFNoYXBlUHJvcHMgPSB7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBzdHJva2VXaWR0aDogbnVtYmVyO1xuICBzdHlsZXM6IGFueTtcbiAgc2hhcGU/OiAnY2lyY2xlJyB8ICdyZWN0Jztcbn07XG5cbmNvbnN0IENpcmNsZSA9ICh7IHdpZHRoLCBoZWlnaHQsIHN0eWxlcywgc3Ryb2tlV2lkdGggfTogU2hhcGVQcm9wcykgPT4gKFxuICA8ZWxsaXBzZVxuICAgIC8vIE5vdGUgd2UgaGF2ZSB0byBvZmZzZXQgdGhlIHgveSBwb3NpdGlvbiBieSB0aGUgc3Ryb2tlIHdpZHRoIG9yIHRoZSBzdHJva2Ugd2lsbCBjbGlwIG91dHNpZGUgdGhlIGNhbnZhc1xuICAgIGN4PXtzdHJva2VXaWR0aCArIHdpZHRoIC8gMn1cbiAgICBjeT17c3Ryb2tlV2lkdGggKyBoZWlnaHQgLyAyfVxuICAgIHJ4PXt3aWR0aCAvIDJ9XG4gICAgcnk9e2hlaWdodCAvIDJ9XG4gICAgc3Ryb2tlV2lkdGg9e3N0cm9rZVdpZHRofVxuICAgIHsuLi5zdHlsZXN9XG4gIC8+XG4pO1xuXG5jb25zdCBSZWN0ID0gKHsgd2lkdGgsIGhlaWdodCwgc3R5bGVzLCBzdHJva2VXaWR0aCB9OiBTaGFwZVByb3BzKSA9PiAoXG4gIDxyZWN0XG4gICAgLy8gTm90ZSB3ZSBoYXZlIHRvIG9mZnNldCB0aGUgeC95IHBvc2l0aW9uIGJ5IHRoZSBzdHJva2Ugd2lkdGggb3IgdGhlIHN0cm9rZSB3aWxsIGNsaXAgb3V0c2lkZSB0aGUgY2FudmFzXG4gICAgeD17c3Ryb2tlV2lkdGh9XG4gICAgeT17c3Ryb2tlV2lkdGh9XG4gICAgcng9ezE2fVxuICAgIHdpZHRoPXt3aWR0aH1cbiAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICBzdHJva2VXaWR0aD17c3Ryb2tlV2lkdGh9XG4gICAgey4uLnN0eWxlc31cbiAgLz5cbik7XG5cbmNvbnN0IFNoYXBlID0gKHsgc2hhcGUsIHdpZHRoLCBoZWlnaHQsIHN0cm9rZVdpZHRoLCBzdHlsZXMgfTogU2hhcGVQcm9wcykgPT4ge1xuICBpZiAoc2hhcGUgPT09ICdjaXJjbGUnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDaXJjbGVcbiAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgc3R5bGVzPXtzdHlsZXN9XG4gICAgICAgIHN0cm9rZVdpZHRoPXtzdHJva2VXaWR0aH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlY3RcbiAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgc3R5bGVzPXtzdHlsZXN9XG4gICAgICAgIHN0cm9rZVdpZHRoPXtzdHJva2VXaWR0aH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2hhcGU7XG4iLCAiLyoqXG4gKiBUaGlzIGZpbGUgY29udGFpbnMgY29zbWV0aWMgKG5vdCBzdHJ1Y3R1cmFsKSBzdHlsZSBpbmZvcm1hdGlvblxuICogZm9yIG5vZGVzIGFuZCBlZGdlcyBpbiB0aGUgZGlhZ3JhbVxuICpcbiAqIFRoaXMgaXMgc3VwcG9zZWQgdG8gbWFrZSBjaGFuZ2luZyBzaW1wbGUgc3R5bGVzIGVhc2llci4gTm9yZSBzdXJlXG4gKiBpZiBpdCdzIGdvaW5nIHRvIGhlbHAgeWV0XG4gKi9cbmltcG9ydCB7IEZsb3cgfSBmcm9tICcuL3R5cGVzJztcbi8vIGltcG9ydCB7IGlzUGxhY2Vob2xkZXIgfSBmcm9tICcuL3V0aWwvcGxhY2Vob2xkZXInO1xuXG5leHBvcnQgY29uc3QgRURHRV9DT0xPUiA9ICcjYjFiMWI3JztcbmV4cG9ydCBjb25zdCBFREdFX0NPTE9SX0RJU0FCTEVEID0gJyNFMUUxRTEnO1xuZXhwb3J0IGNvbnN0IEVER0VfQ09MT1JfU0VMRUNURUQgPSAnIzRmNDZlNSc7XG5leHBvcnQgY29uc3QgRURHRV9DT0xPUl9TRUxFQ1RFRF9ESVNBQkxFRCA9ICcjYmRiYWYzJztcblxuZXhwb3J0IGNvbnN0IEVSUk9SX0NPTE9SID0gJyNlZjQ0NDQnO1xuXG5leHBvcnQgY29uc3QgbGFiZWxTdHlsZXMgPSAoc2VsZWN0ZWQ/OiBib29sZWFuLCBkYXRhKSA9PiB7XG4gIGNvbnN0IHsgY29uZGl0aW9uX3R5cGUsIGVuYWJsZWQgfSA9IGRhdGE7XG5cbiAgY29uc3QgcHJpbWFyeUNvbG9yID0gKHNlbGVjdGVkPzogYm9vbGVhbiwgZW5hYmxlZD86IGJvb2xlYW4pID0+IHtcbiAgICBpZiAoZW5hYmxlZCkgcmV0dXJuIHNlbGVjdGVkID8gRURHRV9DT0xPUl9TRUxFQ1RFRCA6IEVER0VfQ09MT1I7XG4gICAgcmV0dXJuIHNlbGVjdGVkID8gRURHRV9DT0xPUl9TRUxFQ1RFRF9ESVNBQkxFRCA6IEVER0VfQ09MT1JfRElTQUJMRUQ7XG4gIH07XG5cbiAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gZW5hYmxlZCA/ICd3aGl0ZScgOiAnI0Y2RjZGNic7XG5cbiAgaWYgKGNvbmRpdGlvbl90eXBlID09PSAnanNfZXhwcmVzc2lvbicpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGFkZGluZzogJzAgNHB4JyxcbiAgICAgIGhlaWdodDogJzMycHgnLFxuICAgICAgYm9yZGVyOiBgc29saWQgMnB4ICR7cHJpbWFyeUNvbG9yKHNlbGVjdGVkLCBlbmFibGVkKX1gLFxuICAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBmb250U2l6ZTogMTQsXG4gICAgICBsaW5lSGVpZ2h0OiAnMjZweCcsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInIGFzIGNvbnN0LFxuICAgICAgZm9udFdlaWdodDogNTAwLFxuICAgICAgY29sb3I6IHByaW1hcnlDb2xvcihzZWxlY3RlZCwgZW5hYmxlZCksXG4gICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6ICczMnB4JyxcbiAgICAgIGhlaWdodDogJzMycHgnLFxuICAgICAgYm9yZGVyOiBgc29saWQgMnB4ICR7cHJpbWFyeUNvbG9yKHNlbGVjdGVkLCBlbmFibGVkKX1gLFxuICAgICAgYm9yZGVyUmFkaXVzOiAxNixcbiAgICAgIGZvbnRTaXplOiAxOCxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicgYXMgY29uc3QsXG4gICAgICBmb250V2VpZ2h0OiA3MDAsXG4gICAgICBjb2xvcjogcHJpbWFyeUNvbG9yKHNlbGVjdGVkLCBlbmFibGVkKSxcbiAgICAgIGJhY2tncm91bmRDb2xvcixcbiAgICB9O1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc3R5bGVJdGVtID0gKGl0ZW06IEZsb3cuRWRnZSB8IEZsb3cuTm9kZSkgPT4ge1xuICBsZXQgZWRnZSA9IGl0ZW0gYXMgRmxvdy5FZGdlO1xuICBpZiAoZWRnZS50YXJnZXQgJiYgZWRnZS5zb3VyY2UpIHtcbiAgICByZXR1cm4gc3R5bGVFZGdlKGVkZ2UpO1xuICB9XG4gIHJldHVybiBzdHlsZU5vZGUoaXRlbSBhcyBGbG93Lk5vZGUpO1xufTtcblxuZXhwb3J0IGNvbnN0IHN0eWxlTm9kZSA9IChub2RlOiBGbG93Lk5vZGUpID0+IHtcbiAgY29uc3QgeyBkYXRhIH0gPSBub2RlO1xuXG4gIGlmIChkYXRhPy5lbmFibGVkID09IGZhbHNlKSB7XG4gICAgbm9kZS5zdHlsZSA9IHtcbiAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59O1xuXG5leHBvcnQgY29uc3Qgc3R5bGVFZGdlID0gKGVkZ2U6IEZsb3cuRWRnZSkgPT4ge1xuICBlZGdlLnN0eWxlID0ge1xuICAgIHN0cm9rZVdpZHRoOiAnMicsXG4gICAgc3Ryb2tlOiBlZGdlLnNlbGVjdGVkID8gRURHRV9DT0xPUl9TRUxFQ1RFRCA6IEVER0VfQ09MT1IsXG4gIH07XG5cbiAgaWYgKGVkZ2UuZGF0YT8ucGxhY2Vob2xkZXIpIHtcbiAgICBlZGdlLnN0eWxlLnN0cm9rZURhc2hhcnJheSA9ICc0LCA0JztcbiAgICBlZGdlLnN0eWxlLnN0cm9rZVdpZHRoID0gJzEuNXB4JztcbiAgfVxuXG4gIGlmICghZWRnZS5kYXRhPy5lbmFibGVkKSB7XG4gICAgZWRnZS5zdHlsZS5zdHJva2VEYXNoYXJyYXkgPSAnNCwgNCc7XG4gICAgZWRnZS5zdHlsZS5zdHJva2VXaWR0aCA9ICcxLjVweCc7XG4gICAgZWRnZS5zdHlsZS5vcGFjaXR5ID0gMC41O1xuICB9XG5cbiAgaWYgKGVkZ2UubWFya2VyRW5kKSB7XG4gICAgZWRnZS5tYXJrZXJFbmQgPSB7XG4gICAgICAuLi5lZGdlLm1hcmtlckVuZCxcbiAgICAgIHdpZHRoOiAxNSxcbiAgICAgIGNvbG9yOiBlZGdlLnNlbGVjdGVkID8gRURHRV9DT0xPUl9TRUxFQ1RFRCA6IEVER0VfQ09MT1IsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gZWRnZTtcbn07XG5cbmV4cG9ydCBjb25zdCBub2RlSWNvblN0eWxlcyA9IChzZWxlY3RlZD86IGJvb2xlYW4sIGhhc0Vycm9ycz86IGJvb2xlYW4pID0+IHtcbiAgY29uc3Qgc2l6ZSA9IDEwMDtcbiAgY29uc3QgcHJpbWFyeUNvbG9yID0gc2VsZWN0ZWQgPyBFREdFX0NPTE9SX1NFTEVDVEVEIDogRURHRV9DT0xPUjtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogc2l6ZSxcbiAgICBoZWlnaHQ6IHNpemUsXG4gICAgYW5jaG9yeDogc2l6ZSAvIDIsXG4gICAgc3Ryb2tlV2lkdGg6IDIsXG4gICAgc3R5bGU6IHtcbiAgICAgIHN0cm9rZTogaGFzRXJyb3JzID8gRVJST1JfQ09MT1IgOiBwcmltYXJ5Q29sb3IsXG4gICAgICBmaWxsOiAnd2hpdGUnLFxuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgbm9kZUxhYmVsU3R5bGVzID0gKHNlbGVjdGVkOiBib29sZWFuKSA9PiB7XG4gIGNvbnN0IHByaW1hcnlDb2xvciA9IHNlbGVjdGVkID8gRURHRV9DT0xPUl9TRUxFQ1RFRCA6IEVER0VfQ09MT1I7XG4gIHJldHVybiB7XG4gICAgY29sb3I6IHByaW1hcnlDb2xvcixcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHNvcnRPcmRlckZvclN2ZyA9IChhOiBvYmplY3QsIGI6IG9iamVjdCkgPT4ge1xuICBpZiAoYS5kYXRhLmVuYWJsZWQgPiBiLmRhdGEuZW5hYmxlZCkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgaWYgKGEuZGF0YS5lbmFibGVkIDwgYi5kYXRhLmVuYWJsZWQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICByZXR1cm4gYS5zZWxlY3RlZCAtIGIuc2VsZWN0ZWQ7XG59O1xuIiwgImltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUG9zaXRpb24sIE5vZGVQcm9wcyB9IGZyb20gJ3JlYWN0Zmxvdyc7XG5pbXBvcnQgTm9kZSBmcm9tICcuL05vZGUnO1xuaW1wb3J0IFBsdXNCdXR0b24gZnJvbSAnLi4vY29tcG9uZW50cy9QbHVzQnV0dG9uJztcbmltcG9ydCBnZXRBZGFwdG9yTmFtZSBmcm9tICcuLi91dGlsL2dldC1hZGFwdG9yLW5hbWUnO1xuaW1wb3J0IHVzZUFkYXB0b3JJY29ucywgeyBBZGFwdG9ySWNvbkRhdGEgfSBmcm9tICcuLi91c2VBZGFwdG9ySWNvbnMnO1xuXG50eXBlIE5vZGVEYXRhID0gYW55O1xuXG5jb25zdCBKb2JOb2RlID0gKHtcbiAgdGFyZ2V0UG9zaXRpb24gPSBQb3NpdGlvbi5Ub3AsXG4gIHNvdXJjZVBvc2l0aW9uID0gUG9zaXRpb24uQm90dG9tLFxuICAuLi5wcm9wc1xufTogTm9kZVByb3BzPE5vZGVEYXRhPikgPT4ge1xuICBjb25zdCB0b29sYmFyID0gKCkgPT4gcHJvcHMuZGF0YT8uYWxsb3dQbGFjZWhvbGRlciAmJiA8UGx1c0J1dHRvbiAvPjtcblxuICBjb25zdCBhZGFwdG9ySWNvbnNEYXRhID0gdXNlQWRhcHRvckljb25zKCk7XG5cbiAgY29uc3QgYWRhcHRvciA9IGdldEFkYXB0b3JOYW1lKHByb3BzLmRhdGE/LmFkYXB0b3IpO1xuICBjb25zdCBpY29uID0gZ2V0QWRhcHRvckljb24oYWRhcHRvciwgYWRhcHRvckljb25zRGF0YSk7XG5cbiAgcmV0dXJuIChcbiAgICA8Tm9kZVxuICAgICAgey4uLnByb3BzfVxuICAgICAgbGFiZWw9e3Byb3BzLmRhdGE/Lm5hbWV9XG4gICAgICBwcmltYXJ5SWNvbj17aWNvbn1cbiAgICAgIHN1YmxhYmVsPXthZGFwdG9yfVxuICAgICAgdGFyZ2V0UG9zaXRpb249e3RhcmdldFBvc2l0aW9ufVxuICAgICAgc291cmNlUG9zaXRpb249e3NvdXJjZVBvc2l0aW9ufVxuICAgICAgYWxsb3dTb3VyY2VcbiAgICAgIHRvb2xiYXI9e3Rvb2xiYXJ9XG4gICAgICBlcnJvcnM9e3Byb3BzLmRhdGE/LmVycm9yc31cbiAgICAvPlxuICApO1xufTtcblxuSm9iTm9kZS5kaXNwbGF5TmFtZSA9ICdKb2JOb2RlJztcblxuZnVuY3Rpb24gZ2V0QWRhcHRvckljb24oXG4gIGFkYXB0b3I6IHN0cmluZyxcbiAgYWRhcHRvckljb25zRGF0YTogQWRhcHRvckljb25EYXRhIHwgbnVsbFxuKSB7XG4gIHRyeSB7XG4gICAgaWYgKFxuICAgICAgYWRhcHRvckljb25zRGF0YSAmJlxuICAgICAgYWRhcHRvciBpbiBhZGFwdG9ySWNvbnNEYXRhICYmXG4gICAgICBhZGFwdG9ySWNvbnNEYXRhW2FkYXB0b3JdPy5zcXVhcmVcbiAgICApIHtcbiAgICAgIGNvbnN0IHNyY1BhdGggPSBhZGFwdG9ySWNvbnNEYXRhW2FkYXB0b3JdLnNxdWFyZTtcbiAgICAgIHJldHVybiA8aW1nIHNyYz17c3JjUGF0aH0gYWx0PXthZGFwdG9yfSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFkYXB0b3I7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGFkYXB0b3I7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhKb2JOb2RlKTtcbiIsICJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBQbHVzQnV0dG9uKCkge1xuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIG5hbWU9XCJhZGQtbm9kZVwiXG4gICAgICBjbGFzc05hbWU9XCJ0cmFuc2l0aW9uIGR1cmF0aW9uLTE1MCBlYXNlLWluLW91dCBwb2ludGVyLWV2ZW50cy1hdXRvIHJvdW5kZWQtZnVsbFxuICAgICAgICAgICAgICAgYmctaW5kaWdvLTYwMCBweS0xIHB4LTQgdGV4dC1bMC44MTI1cmVtXSBmb250LXNlbWlib2xkIGxlYWRpbmctNSB0ZXh0LXdoaXRlIGhvdmVyOmJnLWluZGlnby01MDBcIlxuICAgID5cbiAgICAgIDxzdmdcbiAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgY2xhc3NOYW1lPVwidy00IGgtNFwiXG4gICAgICA+XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZmlsbFJ1bGU9XCJldmVub2RkXCJcbiAgICAgICAgICBkPVwiTTEyIDUuMjVhLjc1Ljc1IDAgMDEuNzUuNzV2NS4yNUgxOGEuNzUuNzUgMCAwMTAgMS41aC01LjI1VjE4YS43NS43NSAwIDAxLTEuNSAwdi01LjI1SDZhLjc1Ljc1IDAgMDEwLTEuNWg1LjI1VjZhLjc1Ljc1IDAgMDEuNzUtLjc1elwiXG4gICAgICAgICAgY2xpcFJ1bGU9XCJldmVub2RkXCJcbiAgICAgICAgLz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQbHVzQnV0dG9uO1xuIiwgImV4cG9ydCBkZWZhdWx0IHNwZWNpZmllciA9PiB7XG4gIGlmIChzcGVjaWZpZXIpIHtcbiAgICBjb25zdCBbcHJlZml4LCBuYW1lXSA9IHNwZWNpZmllci5tYXRjaCgvQG9wZW5mbi5sYW5ndWFnZS0oLispQC8pO1xuICAgIHJldHVybiBuYW1lIHx8ICd1bmtub3duJztcbiAgfVxuICByZXR1cm4gJyc7XG59O1xuIiwgImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgdHlwZSBBZGFwdG9ySWNvbkRhdGEgPSB7XG4gIFthZGFwdG9yOiBzdHJpbmddOiB7XG4gICAgcmVjdGFuZ2xlOiBzdHJpbmc7XG4gICAgc3F1YXJlOiBzdHJpbmc7XG4gIH07XG59O1xuXG4vLyBUaGlzIGlzIGEgc2hhcmVkIHByb21pc2UgdG8gbG9hZCB0aGUgYWRhcHRvciBkYXRhXG5sZXQgZGVmZmVyZWQ6IFByb21pc2U8QWRhcHRvckljb25EYXRhPjtcblxuY29uc3QgdXNlQWRhcHRvckljb25zID0gKCk6IEFkYXB0b3JJY29uRGF0YSA9PiB7XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlPEFkYXB0b3JJY29uRGF0YT4oe30pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFkZWZmZXJlZCkge1xuICAgICAgLy8gVGhlIGZpcnN0IHJlcXVlc3QgdG8gYWRhcHRvciBkYXRhIHdpbGwgaW5pdGlhdGUgdGhlIGZldGNoXG4gICAgICAvLyBhbmQgcmVhZCB0aGUgZGF0YVxuICAgICAgZGVmZmVyZWQgPSBmZXRjaCgnL2ltYWdlcy9hZGFwdG9ycy9hZGFwdG9yX2ljb25zLmpzb24nKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIEFkYXB0b3IgSWNvbnMgbWFuaWZlc3Q6JywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU3Vic2VxdWVudCBjYWxscyB3aWxsIGNoYWluIHRoZSBmZXRjaCBwcm9taXNlIGFuZCBpbnN0YW50bHkgcmVzb2x2ZSBvbmNlXG4gICAgLy8gdGhlIGRhdGEgaXMgZG93blxuICAgIGRlZmZlcmVkLnRoZW4oZCA9PiB7XG4gICAgICBzZXREYXRhKGQpO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1c2VBZGFwdG9ySWNvbnM7XG4iLCAiaW1wb3J0IFJlYWN0LCB7XG4gIFN5bnRoZXRpY0V2ZW50LFxuICBtZW1vLFxuICB1c2VDYWxsYmFjayxcbiAgdXNlUmVmLFxuICB1c2VTdGF0ZSxcbn0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSGFuZGxlLCBOb2RlUHJvcHMsIFBvc2l0aW9uIH0gZnJvbSAncmVhY3RmbG93JztcbmltcG9ydCB7XG4gIENoZWNrQ2lyY2xlSWNvbixcbiAgSW5mb3JtYXRpb25DaXJjbGVJY29uLFxuICBYTWFya0ljb24sXG59IGZyb20gJ0BoZXJvaWNvbnMvcmVhY3QvMjQvb3V0bGluZSc7XG5pbXBvcnQgeyBOT0RFX0hFSUdIVCwgTk9ERV9XSURUSCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbnR5cGUgTm9kZURhdGEgPSBhbnk7XG5cbnR5cGUgVmFsaWRhdGlvblJlc3VsdCA9IHtcbiAgaXNWYWxpZDogYm9vbGVhbjtcbiAgbWVzc2FnZTogc3RyaW5nO1xufTtcblxuY29uc3QgaWNvbkJhc2VTdHlsZSA9ICdteC0xJztcbmNvbnN0IGljb25Ob3JtYWxTdHlsZSA9XG4gIGljb25CYXNlU3R5bGUgKyAnIHRleHQtcHJpbWFyeS01MDAgaG92ZXI6dGV4dC1wcmltYXJ5LTkwMCc7XG5jb25zdCBpY29uRXJyb3JTdHlsZSA9IGljb25CYXNlU3R5bGUgKyAnIHRleHQtcmVkLTUwMCBob3Zlcjp0ZXh0LXJlZC02MDAnO1xuXG4vLyBEaXNwYXRjaCBhbiBldmVudCB1cCB0byB0aGUgV29ya2Zsb3dEaWFncmFtXG4vLyBUaGlzIHdvcmtzIGJldHRlciB0aGFuIGludGVyZmFjaW5nIHRvIHRoZSBzdG9yZSBjb3JyZWN0bHlcbi8vIGJlY2F1c2UgdGhlIFdvcmtmbG93IERpYWdyYW0gY2FuIGNvbnRyb2wgc2VsZWN0aW9uXG5jb25zdCBkaXNwYXRjaCA9IChcbiAgZWw6IEhUTUxFbGVtZW50LFxuICBldmVudE5hbWU6ICdjb21taXQtcGxhY2Vob2xkZXInIHwgJ2NhbmNlbC1wbGFjZWhvbGRlcicsXG4gIGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4pID0+IHtcbiAgY29uc3QgZSA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcbiAgICBidWJibGVzOiB0cnVlLFxuICAgIGRldGFpbDogZGF0YSxcbiAgfSk7XG4gIGVsLmRpc3BhdGNoRXZlbnQoZSk7XG59O1xuXG5jb25zdCBQbGFjZWhvbGRlckpvYk5vZGUgPSAoeyBpZCwgc2VsZWN0ZWQgfTogTm9kZVByb3BzPE5vZGVEYXRhPikgPT4ge1xuICBjb25zdCB0ZXh0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KCk7XG5cbiAgY29uc3QgW3ZhbGlkYXRpb25SZXN1bHQsIHNldFZhbGlkYXRpb25SZXN1bHRdID0gdXNlU3RhdGU8VmFsaWRhdGlvblJlc3VsdD4oe1xuICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgbWVzc2FnZTogJycsXG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZ0OiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKGV2dC5jb2RlID09PSAnRXNjYXBlJykge1xuICAgICAgaGFuZGxlQ2FuY2VsKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChldnQudGFyZ2V0LnZhbHVlLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHNldFZhbGlkYXRpb25SZXN1bHQoe1xuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogJ05hbWUgY2Fubm90IGJlIGVtcHR5LicsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2dC5jb2RlID09PSAnRW50ZXInKSB7XG4gICAgICB2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQgJiYgaGFuZGxlQ29tbWl0KCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChldnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgc2V0VmFsaWRhdGlvblJlc3VsdCh2YWxpZGF0ZU5hbWUoZXZ0LnRhcmdldC52YWx1ZSkpO1xuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlTmFtZSA9IChuYW1lOiBzdHJpbmcpOiBWYWxpZGF0aW9uUmVzdWx0ID0+IHtcbiAgICBpZiAobmFtZS5sZW5ndGggPiAxMDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnTmFtZSBzaG91bGQgbm90IGV4Y2VlZCAxMDAgY2hhcmFjdGVycy4nLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZWdleCA9IC9eW2EtekEtWjAtOV9cXC0gXSokLztcbiAgICBpZiAoIXJlZ2V4LnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICdOYW1lIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMsIHVuZGVyc2NvcmVzLCBkYXNoZXMsIGFuZCBzcGFjZXMuJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnVmFsaWQgbmFtZS4nLFxuICAgIH07XG4gIH07XG5cbiAgLy8gVE9ETyB3aGF0IGlmIGEgbmFtZSBoYXNuJ3QgYmVlbiBlbnRlcmVkP1xuICBjb25zdCBoYW5kbGVDb21taXQgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZ0PzogU3ludGhldGljRXZlbnQpID0+IHtcbiAgICAgIGlmICh0ZXh0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgZGlzcGF0Y2godGV4dFJlZi5jdXJyZW50LCAnY29tbWl0LXBsYWNlaG9sZGVyJywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIG5hbWU6IHRleHRSZWYuY3VycmVudC52YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBldnQ/LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0sXG4gICAgW3RleHRSZWZdXG4gICk7XG5cbiAgY29uc3QgaGFuZGxlQ2FuY2VsID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2dD86IFN5bnRoZXRpY0V2ZW50KSA9PiB7XG4gICAgICBpZiAodGV4dFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGRpc3BhdGNoKHRleHRSZWYuY3VycmVudCwgJ2NhbmNlbC1wbGFjZWhvbGRlcicsIHsgaWQgfSk7XG4gICAgICB9XG4gICAgICBldnQ/LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0sXG4gICAgW3RleHRSZWZdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e1tcbiAgICAgICAgJ2JnLXRyYW5zcGFyZW50JyxcbiAgICAgICAgJ2N1cnNvci1wb2ludGVyJyxcbiAgICAgICAgJ2gtZnVsbCcsXG4gICAgICAgICdwLTEnLFxuICAgICAgICAncm91bmRlZC1tZCcsXG4gICAgICAgICdzaGFkb3ctc20nLFxuICAgICAgICAndGV4dC1jZW50ZXInLFxuICAgICAgICAndGV4dC14cycsXG4gICAgICAgICdib3JkZXItZGFzaGVkJyxcbiAgICAgICAgJ2JvcmRlci0yJyxcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5pc1ZhbGlkXG4gICAgICAgICAgPyAnYm9yZGVyLWluZGlnby01MDAnXG4gICAgICAgICAgOiAnYm9yZGVyLXJlZC01MDAgdGV4dC1yZWQtNTAwJyxcbiAgICAgICAgc2VsZWN0ZWQgPyAnYm9yZGVyLW9wYWNpdHktNzAnIDogJ2JvcmRlci1vcGFjaXR5LTMwJyxcbiAgICAgIF0uam9pbignICcpfVxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgd2lkdGg6IGAke05PREVfV0lEVEh9cHhgLFxuICAgICAgICBoZWlnaHQ6IGAke05PREVfSEVJR0hUfXB4YCxcblxuICAgICAgICAvLyBUT0RPIGZvciBub3csIGp1c3QgY3VyZGVseSBhbGlnbiB0aGlzIHBsYWNlaG9sZGVyIHNvIHRoYXQgaXQgc2l0cyBpbiB0aGUgcmlnaHQgcG9zaXRpb25cbiAgICAgICAgLy8gV2UnbGwgbGF0ZXIgY2hhbmdlIHRoZSBwbGFjZWhvbGRlciB0byBsb29rIG1vcmUgY29uc2lzdGVudFxuICAgICAgICAvLyAob3Igb3RoZXJ3aXNlIGNvbWUgYmFjayBhbmQgZG8gdGhpcyBuaWNlbHkpXG4gICAgICAgIG1hcmdpbkxlZnQ6ICctMzVweCcsIC8vIG1hZ2ljIG51bWJlclxuICAgICAgfX1cbiAgICA+XG4gICAgICA8SGFuZGxlXG4gICAgICAgIHR5cGU9XCJ0YXJnZXRcIlxuICAgICAgICBwb3NpdGlvbj17UG9zaXRpb24uVG9wfVxuICAgICAgICBpc0Nvbm5lY3RhYmxlXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgIGxlZnQ6ICc1MnB4JywgLy8gaGFsZiBub2RlIHdpZHRoICsgc3Ryb2tlXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e1snaC1mdWxsJywgJ3RleHQtY2VudGVyJywgJ2l0ZW1zLWNlbnRlciddXG4gICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgIC5qb2luKCcgJyl9XG4gICAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e1tcbiAgICAgICAgICAgICdmbGV4JyxcbiAgICAgICAgICAgICdmbGV4LXJvdycsXG4gICAgICAgICAgICAnanVzdGlmeS1jZW50ZXInLFxuICAgICAgICAgICAgJ2gtZnVsbCcsXG4gICAgICAgICAgICAndGV4dC1jZW50ZXInLFxuICAgICAgICAgIF1cbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgICAgIC5qb2luKCcgJyl9XG4gICAgICAgID5cbiAgICAgICAgICA8WE1hcmtJY29uXG4gICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWRcbiAgICAgICAgICAgICAgICA/IGAke2ljb25Ob3JtYWxTdHlsZX1gXG4gICAgICAgICAgICAgICAgOiBgJHtpY29uRXJyb3JTdHlsZX1gXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aXRsZT1cIkNhbmNlbCBjcmVhdGlvbiBvZiB0aGlzIGpvYlwiXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDYW5jZWx9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHJlZj17dGV4dFJlZn1cbiAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgZGF0YS1wbGFjZWhvbGRlcj17aWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9e1tcbiAgICAgICAgICAgICAgJ2xpbmUtY2xhbXAtMicsXG4gICAgICAgICAgICAgICdhbGlnbi1taWRkbGUnLFxuICAgICAgICAgICAgICAnZm9jdXM6b3V0bGluZS1ub25lJyxcbiAgICAgICAgICAgICAgJ2ZvY3VzOnJpbmctMCcsXG4gICAgICAgICAgICAgICdib3JkZXItbm9uZScsXG4gICAgICAgICAgICAgICdiZy10cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICd0ZXh0LWNlbnRlcicsXG4gICAgICAgICAgICAgICd0ZXh0LXhzJyxcbiAgICAgICAgICAgIF0uam9pbignICcpfVxuICAgICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIHt2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQgPyAoXG4gICAgICAgICAgICA8Q2hlY2tDaXJjbGVJY29uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17aWNvbk5vcm1hbFN0eWxlfVxuICAgICAgICAgICAgICB0aXRsZT1cIkNyZWF0ZSB0aGlzIGpvYlwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbW1pdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxJbmZvcm1hdGlvbkNpcmNsZUljb25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtpY29uRXJyb3JTdHlsZX1cbiAgICAgICAgICAgICAgdGl0bGU9e3ZhbGlkYXRpb25SZXN1bHQubWVzc2FnZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cblBsYWNlaG9sZGVySm9iTm9kZS5kaXNwbGF5TmFtZSA9ICdQbGFjZWhvbGRlckpvYk5vZGUnO1xuXG5leHBvcnQgZGVmYXVsdCBtZW1vKFBsYWNlaG9sZGVySm9iTm9kZSk7XG4iLCAiaW1wb3J0IFRyaWdnZXIgZnJvbSAnLi9UcmlnZ2VyJztcbmltcG9ydCBKb2IgZnJvbSAnLi9Kb2InO1xuaW1wb3J0IFBsYWNlaG9sZGVyIGZyb20gJy4vUGxhY2Vob2xkZXJKb2InO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGpvYjogSm9iLFxuICB0cmlnZ2VyOiBUcmlnZ2VyLFxuICBwbGFjZWhvbGRlcjogUGxhY2Vob2xkZXIsXG59O1xuIiwgImltcG9ydCBSZWFjdCwgeyBGQyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFNtb290aFN0ZXBFZGdlLCBFZGdlUHJvcHMsIEVkZ2VMYWJlbFJlbmRlcmVyIH0gZnJvbSAncmVhY3RmbG93JztcbmltcG9ydCB7IGxhYmVsU3R5bGVzIH0gZnJvbSAnLi4vc3R5bGVzJztcblxuY29uc3QgQ3VzdG9tRWRnZTogRkM8RWRnZVByb3BzPiA9IHByb3BzID0+IHtcbiAgY29uc3QgeyBzb3VyY2VYLCBzb3VyY2VZLCB0YXJnZXRYLCB0YXJnZXRZLCBzZWxlY3RlZCB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgbGFiZWwsIC4uLnN0ZXBFZGdlUHJvcHMgfSA9IHByb3BzO1xuXG4gIC8vIFNpbXBseSBsYWJlbCBwb3NpdGlvbiBjYWxjdWxhdGlvblxuICAvLyBJZiB0aGlzIGJyZWFrcyBkb3duLCB1c2UgZ2V0QmV6aWVyUGF0aCBmcm9tIGh0dHBzOi8vcmVhY3RmbG93LmRldi9kb2NzL2V4YW1wbGVzL2VkZ2VzL2N1c3RvbS1lZGdlL1xuICBjb25zdCBsYWJlbFggPSAoc291cmNlWCArIHRhcmdldFgpIC8gMjtcbiAgY29uc3QgbGFiZWxZID0gKHNvdXJjZVkgKyB0YXJnZXRZKSAvIDI7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxTbW9vdGhTdGVwRWRnZSB7Li4uc3RlcEVkZ2VQcm9wc30gLz5cbiAgICAgIHtsYWJlbCAmJiAoXG4gICAgICAgIDxFZGdlTGFiZWxSZW5kZXJlcj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKC01MCUsIC01MCUpIHRyYW5zbGF0ZSgke2xhYmVsWH1weCwke2xhYmVsWX1weClgLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnd2hpdGUnLFxuICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnYWxsJyxcbiAgICAgICAgICAgICAgLi4ubGFiZWxTdHlsZXMoc2VsZWN0ZWQsIHN0ZXBFZGdlUHJvcHMuZGF0YSksXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibm9kcmFnIG5vcGFuIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvRWRnZUxhYmVsUmVuZGVyZXI+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3VzdG9tRWRnZTtcbiIsICJpbXBvcnQgRWRnZSBmcm9tICcuL0VkZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN0ZXA6IEVkZ2UsXG59O1xuIiwgIi8qXG4gKiBIb29rIGZvciBwbGFjZWhvbGRlciBtYW5hZ2VtZW50XG4gKi9cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU3RvcmUsIFN0b3JlQXBpIH0gZnJvbSAnenVzdGFuZCc7XG5cbmltcG9ydCB7IHN0eWxlRWRnZSB9IGZyb20gJy4vc3R5bGVzJztcbmltcG9ydCB7IEZsb3cgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB0b1dvcmtmbG93IGZyb20gJy4vdXRpbC90by13b3JrZmxvdyc7XG5pbXBvcnQgdHlwZSB7IFdvcmtmbG93U3RhdGUgfSBmcm9tICcuLi93b3JrZmxvdy1lZGl0b3Ivc3RvcmUnO1xuaW1wb3J0IHsgREVGQVVMVF9URVhUIH0gZnJvbSAnLi4vZWRpdG9yL0VkaXRvcic7XG5cbi8vIGdlbmVyYXRlcyBhIHBsYWNlaG9sZGVyIG5vZGUgYW5kIGVkZ2UgYXMgY2hpbGQgb2YgdGhlIHBhcmVudFxuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IChwYXJlbnROb2RlOiBGbG93Lk5vZGUpID0+IHtcbiAgY29uc3QgbmV3TW9kZWw6IEZsb3cuTW9kZWwgPSB7XG4gICAgbm9kZXM6IFtdLFxuICAgIGVkZ2VzOiBbXSxcbiAgfTtcblxuICBjb25zdCB0YXJnZXRJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gIG5ld01vZGVsLm5vZGVzLnB1c2goe1xuICAgIGlkOiB0YXJnZXRJZCxcbiAgICB0eXBlOiAncGxhY2Vob2xkZXInLFxuICAgIHBvc2l0aW9uOiB7XG4gICAgICAvLyBPZmZzZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSBwbGFjZWhvbGRlciB0byBiZSBtb3JlIHBsZWFzaW5nIGR1cmluZyBhbmltYXRpb25cbiAgICAgIHg6IHBhcmVudE5vZGUucG9zaXRpb24ueCxcbiAgICAgIHk6IHBhcmVudE5vZGUucG9zaXRpb24ueSArIDEwMCxcbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgIGJvZHk6IERFRkFVTFRfVEVYVCxcbiAgICAgIGFkYXB0b3I6ICdAb3BlbmZuL2xhbmd1YWdlLWNvbW1vbkBsYXRlc3QnLFxuICAgIH0sXG4gIH0pO1xuXG4gIG5ld01vZGVsLmVkZ2VzLnB1c2goXG4gICAgc3R5bGVFZGdlKHtcbiAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgdHlwZTogJ3N0ZXAnLFxuICAgICAgc291cmNlOiBwYXJlbnROb2RlLmlkLFxuICAgICAgdGFyZ2V0OiB0YXJnZXRJZCxcbiAgICAgIGRhdGE6IHsgY29uZGl0aW9uX3R5cGU6ICdvbl9qb2Jfc3VjY2VzcycsIHBsYWNlaG9sZGVyOiB0cnVlIH0sXG4gICAgfSlcbiAgKTtcblxuICByZXR1cm4gbmV3TW9kZWw7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAoXG4gIHJlZjogSFRNTEVsZW1lbnQgfCBudWxsLFxuICBzdG9yZTogU3RvcmVBcGk8V29ya2Zsb3dTdGF0ZT4sXG4gIHJlcXVlc3RTZWxlY3Rpb25DaGFuZ2U6IChpZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZCAvLyBUT0RPIG1vcmUgbGlrZSBjaGFuZ2VTZWxlY3Rpb25cbikgPT4ge1xuICAvLyBUT0RPIGluIG5ldy13b3JrZmxvdywgd2UgbmVlZCB0byB0YWtlIGEgcGxhY2Vob2xkZXIgYXMgYSBwcm9wXG4gIGNvbnN0IFtwbGFjZWhvbGRlcnMsIHNldFBsYWNlaG9sZGVyc10gPSB1c2VTdGF0ZTxGbG93Lk1vZGVsPih7XG4gICAgbm9kZXM6IFtdLFxuICAgIGVkZ2VzOiBbXSxcbiAgfSk7XG5cbiAgY29uc3QgYWRkVG9TdG9yZSA9IHVzZVN0b3JlKHN0b3JlISwgc3RhdGUgPT4gc3RhdGUuYWRkKTtcblxuICBjb25zdCBhZGQgPSB1c2VDYWxsYmFjaygocGFyZW50Tm9kZTogRmxvdy5Ob2RlKSA9PiB7XG4gICAgLy8gR2VuZXJhdGUgYSBwbGFjZWhvbGRlciBub2RlIGFuZCBlZGdlXG4gICAgY29uc3QgdXBkYXRlZCA9IGNyZWF0ZShwYXJlbnROb2RlKTtcbiAgICBzZXRQbGFjZWhvbGRlcnModXBkYXRlZCk7XG5cbiAgICByZXF1ZXN0U2VsZWN0aW9uQ2hhbmdlKHVwZGF0ZWQubm9kZXNbMF0uaWQpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgY29tbWl0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2dDogQ3VzdG9tRXZlbnQ8YW55PikgPT4ge1xuICAgICAgY29uc3QgeyBpZCwgbmFtZSB9ID0gZXZ0LmRldGFpbDtcblxuICAgICAgLy8gcmVzZXQgdGhlIGNoYXJ0XG4gICAgICBzZXRQbGFjZWhvbGRlcnMoeyBub2RlczogW10sIGVkZ2VzOiBbXSB9KTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBzdG9yZVxuICAgICAgcGxhY2Vob2xkZXJzLm5vZGVzWzBdLmRhdGEubmFtZSA9IG5hbWU7XG4gICAgICBhZGRUb1N0b3JlKHRvV29ya2Zsb3cocGxhY2Vob2xkZXJzKSk7XG5cbiAgICAgIHJlcXVlc3RTZWxlY3Rpb25DaGFuZ2UoaWQpO1xuICAgIH0sXG4gICAgW2FkZFRvU3RvcmUsIHBsYWNlaG9sZGVyc11cbiAgKTtcblxuICBjb25zdCBjYW5jZWwgPSB1c2VDYWxsYmFjaygoX2V2dD86IEN1c3RvbUV2ZW50PGFueT4pID0+IHtcbiAgICBzZXRQbGFjZWhvbGRlcnMoeyBub2RlczogW10sIGVkZ2VzOiBbXSB9KTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlZikge1xuICAgICAgcmVmLmFkZEV2ZW50TGlzdGVuZXI8YW55PignY29tbWl0LXBsYWNlaG9sZGVyJywgY29tbWl0KTtcbiAgICAgIHJlZi5hZGRFdmVudExpc3RlbmVyPGFueT4oJ2NhbmNlbC1wbGFjZWhvbGRlcicsIGNhbmNlbCk7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgICByZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcjxhbnk+KCdjb21taXQtcGxhY2Vob2xkZXInLCBjb21taXQpO1xuICAgICAgICAgIHJlZi5yZW1vdmVFdmVudExpc3RlbmVyPGFueT4oJ2NhbmNlbC1wbGFjZWhvbGRlcicsIGNhbmNlbCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCBbY29tbWl0LCBjYW5jZWwsIHJlZl0pO1xuXG4gIHJldHVybiB7IHBsYWNlaG9sZGVycywgYWRkLCBjYW5jZWwgfTtcbn07XG4iLCAiaW1wb3J0IHsgTGlnaHRuaW5nLCBGbG93IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vLyBUaGlzIGNvbnZlcnRzIGFuIGludGVybmFsIHJlYWN0IGZsb3cgbW9kZWwgYmFjayB0byBhIExpZ2h0aW5nIHJlcHJlc2VudGF0aW9uXG4vLyBVc2VkIGZvciBkaWZmaW5nIHdoZW4gc29tZXRoaW5nIGNoYW5nZXNcbi8vIFRPRE8gaG93IHN0cmljdCBkb2VzIHRoaXMgbmVlZCB0byBiZT8gQ2FuIHdlIGxvc2UgaW5mb3JtYXRpb24gdGhyb3VnaCB0aGlzP1xuLy8gSSB0aGluayB0aGUgc3RvcmUgbWVhbnMgd2UgY2FuIGJlIGZsZXhpYmxlIGFuZCBvbmx5IGNvbnZlcnQgc3R1ZmYgd2Ugd2FudCB0byBlZGl0XG4vLyAoc3R1ZmYgbGlrZSBib2R5IGFuZCBhZGFwdG9yIHdlIGNhbiBpZ25vcmUpXG5jb25zdCBtb2RlbCA9IChtb2RlbDogRmxvdy5Nb2RlbCkgPT4ge1xuICBjb25zdCB3b3JrZmxvdzogTGlnaHRuaW5nLldvcmtmbG93ID0ge1xuICAgIC8vIFdoYXQgYWJvdXQgdGhlIGlkPyBEbyB3ZSBuZWVkIGl0PyBEaWQgd2UgbG9zZSBpdD9cbiAgICB0cmlnZ2VyczogW10sXG4gICAgam9iczogW10sXG4gICAgZWRnZXM6IFtdLFxuICB9O1xuXG4gIG1vZGVsLm5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgY29uc3Qgd2ZOb2RlOiBQYXJ0aWFsPExpZ2h0bmluZy5Kb2JOb2RlPiA9IHtcbiAgICAgIGlkOiBub2RlLmlkLFxuICAgICAgbmFtZTogbm9kZS5kYXRhPy5uYW1lLFxuICAgICAgYm9keTogbm9kZS5kYXRhPy5ib2R5LFxuICAgICAgYWRhcHRvcjogbm9kZS5kYXRhPy5hZGFwdG9yLFxuICAgICAgLy8gVE9ETyB3b3JrZmxvdyBpZD9cbiAgICB9O1xuXG4gICAgaWYgKG5vZGUudHlwZSA9PT0gJ3RyaWdnZXInKSB7XG4gICAgICAvLyBUT0RPXG4gICAgICB3b3JrZmxvdy50cmlnZ2Vycy5wdXNoKHdmTm9kZSBhcyBMaWdodG5pbmcuVHJpZ2dlck5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3b3JrZmxvdy5qb2JzLnB1c2god2ZOb2RlIGFzIExpZ2h0bmluZy5Kb2JOb2RlKTtcbiAgICB9XG4gIH0pO1xuXG4gIG1vZGVsLmVkZ2VzLmZvckVhY2goZWRnZSA9PiB7XG4gICAgY29uc3Qgc291cmNlID0gbW9kZWwubm9kZXMuZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gZWRnZS5zb3VyY2UpO1xuXG4gICAgY29uc3Qgd2ZFZGdlOiBQYXJ0aWFsPExpZ2h0bmluZy5FZGdlPiA9IHtcbiAgICAgIGlkOiBlZGdlLmlkLFxuICAgICAgdGFyZ2V0X2pvYl9pZDogZWRnZS50YXJnZXQsXG4gICAgfTtcblxuICAgIGlmIChzb3VyY2UgJiYgc291cmNlLnR5cGUgPT09ICd0cmlnZ2VyJykge1xuICAgICAgd2ZFZGdlLnNvdXJjZV90cmlnZ2VyX2lkID0gZWRnZS5zb3VyY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdmRWRnZS5zb3VyY2Vfam9iX2lkID0gZWRnZS5zb3VyY2U7XG4gICAgfVxuXG4gICAgaWYgKGVkZ2UuZGF0YT8uY29uZGl0aW9uX3R5cGUpIHtcbiAgICAgIHdmRWRnZS5jb25kaXRpb25fdHlwZSA9IGVkZ2UuZGF0YS5jb25kaXRpb25fdHlwZTtcbiAgICB9XG5cbiAgICB3b3JrZmxvdy5lZGdlcy5wdXNoKHdmRWRnZSBhcyBMaWdodG5pbmcuRWRnZSk7XG4gIH0pO1xuICByZXR1cm4gd29ya2Zsb3c7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtb2RlbDtcbiIsICJpbXBvcnQgeyBMaWdodG5pbmcsIEZsb3csIFBvc2l0aW9ucyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHNvcnRPcmRlckZvclN2Zywgc3R5bGVFZGdlLCBzdHlsZUl0ZW0sIHN0eWxlTm9kZSB9IGZyb20gJy4uL3N0eWxlcyc7XG5cbmZ1bmN0aW9uIGdldEVkZ2VMYWJlbChlZGdlOiBMaWdodG5pbmcuRWRnZSkge1xuICBsZXQgbGFiZWwgPSAnKCApJztcblxuICBzd2l0Y2ggKGVkZ2UuY29uZGl0aW9uX3R5cGUpIHtcbiAgICBjYXNlICdvbl9qb2Jfc3VjY2Vzcyc6XG4gICAgICBsYWJlbCA9ICdcdTI3MTMnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb25fam9iX2ZhaWx1cmUnOlxuICAgICAgbGFiZWwgPSAnWCc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdhbHdheXMnOlxuICAgICAgbGFiZWwgPSAnXHUyMjFFJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2pzX2V4cHJlc3Npb24nOlxuICAgICAgY29uc3QgY29uZGl0aW9uX2xhYmVsID0gZWRnZS5jb25kaXRpb25fbGFiZWw7XG5cbiAgICAgIGlmIChjb25kaXRpb25fbGFiZWwpIHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbl9sYWJlbC5sZW5ndGggPiAxNikge1xuICAgICAgICAgIGxhYmVsID0gY29uZGl0aW9uX2xhYmVsLnNsaWNlKDAsIDE2KSArICcuLi4nO1xuICAgICAgICB9IGVsc2UgeyAgXG4gICAgICAgICAgbGFiZWwgPSBjb25kaXRpb25fbGFiZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGxhYmVsO1xufVxuXG5jb25zdCBmcm9tV29ya2Zsb3cgPSAoXG4gIHdvcmtmbG93OiBMaWdodG5pbmcuV29ya2Zsb3csXG4gIHBvc2l0aW9uczogUG9zaXRpb25zLFxuICBwbGFjZWhvbGRlcnM6IEZsb3cuTW9kZWwgPSB7IG5vZGVzOiBbXSwgZWRnZXM6IFtdIH0sXG4gIHNlbGVjdGVkSWQ6IHN0cmluZyB8IG51bGxcbik6IEZsb3cuTW9kZWwgPT4ge1xuICBjb25zdCBhbGxvd1BsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXJzLm5vZGVzLmxlbmd0aCA9PT0gMDtcblxuICBjb25zdCBwcm9jZXNzID0gKFxuICAgIGl0ZW1zOiBBcnJheTxMaWdodG5pbmcuTm9kZSB8IExpZ2h0bmluZy5FZGdlPixcbiAgICBjb2xsZWN0aW9uOiBBcnJheTxGbG93Lk5vZGUgfCBGbG93LkVkZ2U+LFxuICAgIHR5cGU6ICdqb2InIHwgJ3RyaWdnZXInIHwgJ2VkZ2UnXG4gICkgPT4ge1xuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBjb25zdCBtb2RlbDogYW55ID0ge1xuICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBpZiAoaXRlbS5pZCA9PT0gc2VsZWN0ZWRJZCkge1xuICAgICAgICBtb2RlbC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb2RlbC5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoLyhqb2J8dHJpZ2dlcikvLnRlc3QodHlwZSkpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGl0ZW0gYXMgTGlnaHRuaW5nLk5vZGU7XG4gICAgICAgIG1vZGVsLnR5cGUgPSB0eXBlO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbnMgJiYgcG9zaXRpb25zW25vZGUuaWRdKSB7XG4gICAgICAgICAgbW9kZWwucG9zaXRpb24gPSBwb3NpdGlvbnNbbm9kZS5pZF07XG4gICAgICAgIH1cblxuICAgICAgICBtb2RlbC5kYXRhLmFsbG93UGxhY2Vob2xkZXIgPSBhbGxvd1BsYWNlaG9sZGVyO1xuXG4gICAgICAgIGlmICh0eXBlID09PSAndHJpZ2dlcicpIHtcbiAgICAgICAgICBtb2RlbC5kYXRhLnRyaWdnZXIgPSB7XG4gICAgICAgICAgICB0eXBlOiAobm9kZSBhcyBMaWdodG5pbmcuVHJpZ2dlck5vZGUpLnR5cGUsXG4gICAgICAgICAgICBlbmFibGVkOiAobm9kZSBhcyBMaWdodG5pbmcuVHJpZ2dlck5vZGUpLmVuYWJsZWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZU5vZGUobW9kZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZWRnZSA9IGl0ZW0gYXMgTGlnaHRuaW5nLkVkZ2U7XG4gICAgICAgIG1vZGVsLnNvdXJjZSA9IGVkZ2Uuc291cmNlX3RyaWdnZXJfaWQgfHwgZWRnZS5zb3VyY2Vfam9iX2lkO1xuICAgICAgICBtb2RlbC50YXJnZXQgPSBlZGdlLnRhcmdldF9qb2JfaWQ7XG4gICAgICAgIG1vZGVsLnR5cGUgPSAnc3RlcCc7XG4gICAgICAgIG1vZGVsLmxhYmVsID0gZ2V0RWRnZUxhYmVsKGVkZ2UpO1xuICAgICAgICBtb2RlbC5tYXJrZXJFbmQgPSB7XG4gICAgICAgICAgdHlwZTogJ2Fycm93Y2xvc2VkJyxcbiAgICAgICAgICB3aWR0aDogMzIsXG4gICAgICAgICAgaGVpZ2h0OiAzMixcbiAgICAgICAgfTtcbiAgICAgICAgbW9kZWwuZGF0YSA9IHsgY29uZGl0aW9uX3R5cGU6IGVkZ2UuY29uZGl0aW9uX3R5cGUsIGVuYWJsZWQ6IGVkZ2UuZW5hYmxlZCB9O1xuXG4gICAgICAgIC8vIE5vdGU6IHdlIGRvbid0IGFsbG93IHRoZSB1c2VyIHRvIGRpc2FibGUgdGhlIGVkZ2UgdGhhdCBnb2VzIGZyb20gYVxuICAgICAgICAvLyB0cmlnZ2VyIHRvIGEgam9iLCBidXQgd2Ugd2FudCB0byBzaG93IGl0IGFzIGlmIGl0IHdlcmUgZGlzYWJsZWQgd2hlblxuICAgICAgICAvLyB0aGUgc291cmNlIHRyaWdnZXIgaXMgZGlzYWJsZWQuIFRoaXMgY29kZSBkb2VzIHRoYXQuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IG5vZGVzLmZpbmQoeCA9PiB4LmlkID09IG1vZGVsLnNvdXJjZSk7XG4gICAgICAgIGlmIChzb3VyY2UudHlwZSA9PSAndHJpZ2dlcicpIHtcbiAgICAgICAgICBtb2RlbC5kYXRhLmVuYWJsZWQgPSBzb3VyY2U/LmRhdGEuZW5hYmxlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlRWRnZShtb2RlbCk7XG4gICAgICB9XG5cbiAgICAgIGNvbGxlY3Rpb24ucHVzaChtb2RlbCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgbm9kZXMgPSBbXG4gICAgLi4ucGxhY2Vob2xkZXJzLm5vZGVzLm1hcChuID0+IHtcbiAgICAgIGlmIChzZWxlY3RlZElkID09IG4uaWQpIHtcbiAgICAgICAgbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGVOb2RlKG4pO1xuICAgIH0pLFxuICBdIGFzIEZsb3cuTm9kZVtdO1xuXG4gIGNvbnN0IGVkZ2VzID0gWy4uLnBsYWNlaG9sZGVycy5lZGdlcy5tYXAoZSA9PiBzdHlsZUVkZ2UoZSkpXSBhcyBGbG93LkVkZ2VbXTtcblxuICBwcm9jZXNzKHdvcmtmbG93LmpvYnMsIG5vZGVzLCAnam9iJyk7XG4gIHByb2Nlc3Mod29ya2Zsb3cudHJpZ2dlcnMsIG5vZGVzLCAndHJpZ2dlcicpO1xuICBwcm9jZXNzKHdvcmtmbG93LmVkZ2VzLCBlZGdlcywgJ2VkZ2UnKTtcblxuICBjb25zdCBzb3J0ZWRFZGdlcyA9IGVkZ2VzLnNvcnQoc29ydE9yZGVyRm9yU3ZnKTtcblxuICByZXR1cm4geyBub2RlcywgZWRnZXM6IHNvcnRlZEVkZ2VzIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmcm9tV29ya2Zsb3c7XG4iLCAiZXhwb3J0IGRlZmF1bHQgKGZuOiAoKSA9PiB2b2lkLCBkdXJhdGlvbiA9IDEwMCkgPT4ge1xuICBsZXQgY2FsbEFnYWluID0gZmFsc2U7XG4gIGxldCB0aW1lb3V0O1xuXG4gIGNvbnN0IHJ1biA9ICgpID0+IHtcbiAgICBpZiAodGltZW91dCkge1xuICAgICAgLy8gQ2FsbGJhY2svdGltZW91dCBpbiBwcm9ncmVzcywgZG8gbm90aGluZyAoYnV0IHJlZ2lzdGVyIGFub3RoZXIgZ28pXG4gICAgICBjYWxsQWdhaW4gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdGFydCBhIG5ldyBjYWxsYmFja1xuICAgICAgY2FsbEFnYWluID0gZmFsc2U7XG5cbiAgICAgIC8vIENhbGwgYmFjayBhZnRlciBkdXJhdGlvbiBtcywgaWYgbmVjY2Vzc2FyeVxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoY2FsbEFnYWluKSB7XG4gICAgICAgICAgcnVuKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIGR1cmF0aW9uKTtcblxuICAgICAgLy8gUnVuIHRoZSBmdW5jdGlvblxuICAgICAgZm4oKTtcbiAgICB9XG4gIH07XG5cbiAgcnVuLmNhbmNlbCA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gIH07XG5cbiAgcmV0dXJuIHJ1bjtcbn07XG4iLCAiaW1wb3J0IHsgc29ydE9yZGVyRm9yU3ZnLCBzdHlsZUl0ZW0gfSBmcm9tICcuLi9zdHlsZXMnO1xuaW1wb3J0IHsgRmxvdyB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBIYW5kbGluZyBzZWxlY3Rpb24gY2hhbmdlIGlzIGtpbmQgb2YgY29tcGxleFxuICpcbiAqIFdlIGhhdmUgdG8gcmVzZXQgdGhlIHN0eWxlcyBvZiB0aGUgb2xkIHNlbGVjdGlvblxuICogQW5kIHVwZGF0ZSB0aGUgc3R5bGVzIG9mIHRoZSBuZXcgc2VsZWN0aW9uXG4gKlxuICogV2UgY2FuJ3QgdXNlIGFwcGx5RWRnZUNoYW5nZXMgYmVjYXVzZSB0aGF0IGRvZXNuJ3QgYWxsb3cgeW91IHRvXG4gKiB1cGRhdGUgc3R5bGVzXG4gKlxuICogVE9ETzogYXMgYW4gb3B0aW1pc2F0aW9uLCBjb25zaWRlciBleGl0aW5nIGVhcmx5IG9uY2Ugd2UndmUgdXBkYXRlZCBib3RoIHNlbGVjdGVkIGl0ZW1zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IChtb2RlbDogRmxvdy5Nb2RlbCwgbmV3U2VsZWN0aW9uOiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gIGNvbnN0IHVwZGF0ZWRNb2RlbCA9IHtcbiAgICBub2RlczogbW9kZWwubm9kZXMubWFwKHVwZGF0ZUl0ZW0pIGFzIEZsb3cuTm9kZVtdLFxuICAgIGVkZ2VzOiBtb2RlbC5lZGdlcy5tYXAodXBkYXRlSXRlbSkgYXMgRmxvdy5FZGdlW10sXG4gIH07XG5cbiAgLy8gd2UgaGF2ZSBubyB3YXkgb2Yga25vd2luZyB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gaXMgYSBub2RlIG9yIGlkXG4gIC8vIHNvIHdlIGhhdmUgdG8gZG8gYm90aFxuICBmdW5jdGlvbiB1cGRhdGVJdGVtKGl0ZW06IEZsb3cuRWRnZSB8IEZsb3cuTm9kZSkge1xuICAgIHJldHVybiBzdHlsZUl0ZW0oe1xuICAgICAgLi4uaXRlbSxcbiAgICAgIHNlbGVjdGVkOiBpdGVtLmlkID09PSBuZXdTZWxlY3Rpb24sXG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICAvLyBNdXN0IHB1dCBzZWxlY3RlZCBlZGdlIExBU1QgdG8gZW5zdXJlIGl0IHN0YXlzIG9uIHRvcC5cbiAgY29uc3Qgc29ydGVkTW9kZWwgPSB7XG4gICAgLi4udXBkYXRlZE1vZGVsLFxuICAgIGVkZ2VzOiB1cGRhdGVkTW9kZWwuZWRnZXMuc29ydChzb3J0T3JkZXJGb3JTdmcpLFxuICB9O1xuXG4gIHJldHVybiBzb3J0ZWRNb2RlbDtcbn07XG4iLCAiLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGRldGVybWluZSB3aGV0aGVyIHdlIHNob3VsZCBydW4gYSBsYXlvdXQgb24gYSBtb2RlbFxuLy8gVGhpcyBnZW5lcmF0ZXMgYSBzaW1wbGUgaGFzaCBmcm9tIHRoZSBlZGdlcyBhbmQgY29tcGFyZXMgaXQgdG8gdGhlIGxhc3QgaGFzaFxuaW1wb3J0IHsgRmxvdyB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgKGVkZ2VzOiBGbG93LkVkZ2VbXSwgbGFzdEhhc2g/OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgaWQgPSBlZGdlc1xuICAgIC5tYXAoZSA9PiBgJHtlLnNvdXJjZX0tJHtlLnRhcmdldH1gKVxuICAgIC5zb3J0KClcbiAgICAuam9pbignLS0nKTtcblxuICBpZiAoaWQgIT09IGxhc3RIYXNoKSB7XG4gICAgcmV0dXJuIGlkO1xuICB9XG59O1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUEsS0FBQyxTQUFTLGlDQUFpQ0EsT0FBTSxTQUFTO0FBQ3pELFVBQUcsT0FBTyxZQUFZLFlBQVksT0FBTyxXQUFXO0FBQ25ELGVBQU8sVUFBVSxRQUFRO0FBQUEsZUFDbEIsT0FBTyxXQUFXLGNBQWMsT0FBTztBQUM5QyxlQUFPLGFBQWEsQ0FBQyxHQUFHLE9BQU87QUFBQSxlQUN4QixPQUFPLFlBQVk7QUFDMUIsZ0JBQVEsV0FBVyxJQUFJLFFBQVE7QUFBQTtBQUUvQixRQUFBQSxNQUFLLFdBQVcsSUFBSSxRQUFRO0FBQUEsSUFDOUIsR0FBRyxZQUFZLE1BQU07QUFDckI7QUFBQTtBQUFBLFNBQWlCLE1BQU07QUFDYjtBQUNBLGNBQUksc0JBQXVCO0FBQUE7QUFBQSxZQUUvQjtBQUFBO0FBQUEsY0FDQyxDQUFDLHlCQUF5QkMsVUFBU0MseUJBQXdCO0FBR2xFLHVCQUFPLGVBQWVELFVBQVMsY0FBZSxFQUFFLE9BQU8sS0FBSyxDQUFFO0FBQzlELGdCQUFBQSxTQUFRLGFBQWE7QUFDckIsb0JBQUksbUJBQW1CQyxxQkFBb0IsR0FBRztBQUM5QyxvQkFBSSxhQUFjLFdBQVk7QUFDMUIsMkJBQVNDLFlBQVcsWUFBWSx5QkFBeUIscUJBQXFCO0FBQzFFLHdCQUFJLDRCQUE0QixRQUFRO0FBQUUsZ0RBQTBCO0FBQUEsb0JBQU07QUFDMUUsd0JBQUksd0JBQXdCLFFBQVE7QUFBRSw0Q0FBc0I7QUFBQSxvQkFBTztBQUNuRSx5QkFBSyxhQUFhO0FBQ2xCLHlCQUFLLDBCQUEwQjtBQUMvQix5QkFBSyxzQkFBc0I7QUFBQSxrQkFDL0I7QUFDQSxrQkFBQUEsWUFBVyxVQUFVLFFBQVEsV0FBWTtBQUNyQyx3QkFBSSxTQUFT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QUFPLE9BQU8sT0FBTyxTQUFTO0FBRXhFLElBQUksUUFBUTtBQUFBLEVBQ1YsV0FBVztBQUFBLEVBQ1gsY0FBYztBQUFBLEVBQ2QsTUFBTTtBQUFBLEVBQ04sWUFBWTtBQUFBLEVBQ1osT0FBTztBQUFBLEVBQ1AsT0FBTztBQUFBLEVBQ1AsUUFBUTtBQUFBLEVBQ1IsT0FBTztBQUFBLEVBQ1AsZ0JBQWdCO0FBQUEsRUFDaEIsTUFBTTtBQUFBLEVBQ04sWUFBWTtBQUFBLEVBQ1osT0FBTztBQUFBLEVBQ1AsV0FBVztBQUFBLEVBQ1gsV0FBVztBQUFBLEVBQ1gsWUFBWTtBQUFBLEVBQ1osV0FBVztBQUFBLEVBQ1gsT0FBTztBQUFBLEVBQ1AsZ0JBQWdCO0FBQUEsRUFDaEIsVUFBVTtBQUFBLEVBQ1YsU0FBUztBQUFBLEVBQ1QsTUFBTTtBQUFBLEVBQ04sVUFBVTtBQUFBLEVBQ1YsVUFBVTtBQUFBLEVBQ1YsZUFBZTtBQUFBLEVBQ2YsVUFBVTtBQUFBLEVBQ1YsV0FBVztBQUFBLEVBQ1gsVUFBVTtBQUFBLEVBQ1YsV0FBVztBQUFBLEVBQ1gsYUFBYTtBQUFBLEVBQ2IsZ0JBQWdCO0FBQUEsRUFDaEIsWUFBWTtBQUFBLEVBQ1osWUFBWTtBQUFBLEVBQ1osU0FBUztBQUFBLEVBQ1QsWUFBWTtBQUFBLEVBQ1osY0FBYztBQUFBLEVBQ2QsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsWUFBWTtBQUFBLEVBQ1osVUFBVTtBQUFBLEVBQ1YsYUFBYTtBQUFBLEVBQ2IsU0FBUztBQUFBLEVBQ1QsU0FBUztBQUFBLEVBQ1QsWUFBWTtBQUFBLEVBQ1osV0FBVztBQUFBLEVBQ1gsYUFBYTtBQUFBLEVBQ2IsYUFBYTtBQUFBLEVBQ2IsU0FBUztBQUFBLEVBQ1QsV0FBVztBQUFBLEVBQ1gsWUFBWTtBQUFBLEVBQ1osTUFBTTtBQUFBLEVBQ04sV0FBVztBQUFBLEVBQ1gsTUFBTTtBQUFBLEVBQ04sT0FBTztBQUFBLEVBQ1AsYUFBYTtBQUFBLEVBQ2IsTUFBTTtBQUFBLEVBQ04sVUFBVTtBQUFBLEVBQ1YsU0FBUztBQUFBLEVBQ1QsV0FBVztBQUFBLEVBQ1gsUUFBUTtBQUFBLEVBQ1IsT0FBTztBQUFBLEVBQ1AsT0FBTztBQUFBLEVBQ1AsVUFBVTtBQUFBLEVBQ1YsZUFBZTtBQUFBLEVBQ2YsV0FBVztBQUFBLEVBQ1gsY0FBYztBQUFBLEVBQ2QsV0FBVztBQUFBLEVBQ1gsWUFBWTtBQUFBLEVBQ1osV0FBVztBQUFBLEVBQ1gsc0JBQXNCO0FBQUEsRUFDdEIsV0FBVztBQUFBLEVBQ1gsWUFBWTtBQUFBLEVBQ1osV0FBVztBQUFBLEVBQ1gsV0FBVztBQUFBLEVBQ1gsYUFBYTtBQUFBLEVBQ2IsZUFBZTtBQUFBLEVBQ2YsY0FBYztBQUFBLEVBQ2QsZ0JBQWdCO0FBQUEsRUFDaEIsZ0JBQWdCO0FBQUEsRUFDaEIsZ0JBQWdCO0FBQUEsRUFDaEIsYUFBYTtBQUFBLEVBQ2IsTUFBTTtBQUFBLEVBQ04sV0FBVztBQUFBLEVBQ1gsT0FBTztBQUFBLEVBQ1AsU0FBUztBQUFBLEVBQ1QsUUFBUTtBQUFBLEVBQ1Isa0JBQWtCO0FBQUEsRUFDbEIsWUFBWTtBQUFBLEVBQ1osY0FBYztBQUFBLEVBQ2QsY0FBYztBQUFBLEVBQ2QsZ0JBQWdCO0FBQUEsRUFDaEIsaUJBQWlCO0FBQUEsRUFDakIsbUJBQW1CO0FBQUEsRUFDbkIsaUJBQWlCO0FBQUEsRUFDakIsaUJBQWlCO0FBQUEsRUFDakIsY0FBYztBQUFBLEVBQ2QsV0FBVztBQUFBLEVBQ1gsV0FBVztBQUFBLEVBQ1gsVUFBVTtBQUFBLEVBQ1YsYUFBYTtBQUFBLEVBQ2IsTUFBTTtBQUFBLEVBQ04sU0FBUztBQUFBLEVBQ1QsT0FBTztBQUFBLEVBQ1AsV0FBVztBQUFBLEVBQ1gsUUFBUTtBQUFBLEVBQ1IsV0FBVztBQUFBLEVBQ1gsUUFBUTtBQUFBLEVBQ1IsZUFBZTtBQUFBLEVBQ2YsV0FBVztBQUFBLEVBQ1gsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsWUFBWTtBQUFBLEVBQ1osV0FBVztBQUFBLEVBQ1gsTUFBTTtB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QUFNLEdBQUcsQ0FBQztBQUVkLFdBQ0UsK0JBQUFMLFFBQUEsY0FBQyx5QkFDQywrQkFBQUEsUUFBQTtBQUFBLE1BQUM7QUFBQTtBQUFBLFFBQ0MsWUFBWSxFQUFFLFNBQVMsWUFBWSxpQkFBaUIsS0FBSztBQUFBLFFBQ3pELE9BQU9FLE9BQU07QUFBQSxRQUNiLE9BQU9BLE9BQU07QUFBQSxRQUNiO0FBQUEsUUFDQSxnQkFBZ0I7QUFBQSxRQUNoQixXQUFXSTtBQUFBLFFBQ1gsV0FBVztBQUFBLFFBQ1gsU0FBUztBQUFBLFFBQ1QsYUFBYUQ7QUFBQSxRQUNiLGFBQWE7QUFBQSxRQUNiLFFBQVE7QUFBQSxRQUNSLGVBQWU7QUFBQSxRQUNmLFNBQU87QUFBQSxRQUNQLGdCQUFnQixFQUFFLFNBQVMsWUFBWTtBQUFBO0FBQUEsSUFDekMsQ0FDRjtBQUFBLEVBRUo7QUFDRjs7O0FEdk1PLFNBQVMsTUFDZCxJQUNBLGVBQ0EsbUJBQ0E7QUFDQSxRQUFNLG9CQUFnQiwwQkFBVyxFQUFFO0FBRW5DLFFBQU0sbUJBQW1CLElBQUksSUFBSSxPQUFPLFNBQVMsSUFBSSxFQUFFLGFBQWEsSUFBSSxHQUFHO0FBQzNFLFNBQU8sZ0JBQWdCO0FBRXZCLFdBQVMsT0FBT0UsWUFBMkI7QUFDekMsa0JBQWM7QUFBQSxNQUNaLCtCQUFBQyxRQUFBO0FBQUEsUUFBQztBQUFBO0FBQUEsVUFDQyxLQUFLO0FBQUEsVUFDTCxXQUFXRCxjQUFhO0FBQUEsVUFDeEIsT0FBTztBQUFBLFVBQ1A7QUFBQTtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUVBLFdBQVMsVUFBVTtBQUNqQixXQUFPLGNBQWMsUUFBUTtBQUFBLEVBQy9CO0FBRUEsU0FBTyxFQUFFLFNBQVMsT0FBTztBQUMzQjsiLAogICJuYW1lcyI6IFsicm9vdCIsICJleHBvcnRzIiwgIl9fd2VicGFja19yZXF1aXJlX18iLCAiQ3JvblBhcnNlciIsICJFeHByZXNzaW9uRGVzY3JpcHRvciIsICJkZXNjcmlwdGlvbiIsICJlbkxvY2FsZUxvYWRlciIsICJlbiIsICJSYW5nZVZhbGlkYXRvciIsICJTdHJpbmdVdGlsaXRpZXMiLCAiX2kiLCAibW9kdWxlIiwgImltcG9ydF9yZWFjdCIsICJpbXBvcnRfcmVhY3QiLCAiaW1wb3J0X3JlYWN0IiwgIlJlYWN0RXhwb3J0cyIsICJ1c2VTeW5jRXh0ZXJuYWxTdG9yZUV4cG9ydHMiLCAiZG9jdW1lbnQiLCAiZGF0dW0iLCAic2VsZWN0aW9uIiwgImNyZWF0ZSIsICJjcmVhdGUiLCAicGFyc2VUeXBlbmFtZXMiLCAid2luZG93IiwgImRpc3BhdGNoX2RlZmF1bHQiLCAiZGlzcGF0Y2hfZGVmYXVsdCIsICJzZWxlY3RfZGVmYXVsdCIsICJyb290IiwgInNlbGVjdGlvbiIsICJzZWxlY3RfZGVmYXVsdCIsICJjb25zdGFudF9kZWZhdWx0IiwgImRpc3BhdGNoIiwgImZpbHRlciIsICJzZWxlY3Rpb24iLCAic2VsZWN0X2RlZmF1bHQiLCAiY29udGFpbmVyIiwgImRpc3BhdGNoIiwgImV2ZW50IiwgInRvdWNoIiwgImNvbnN0YW50X2RlZmF1bHQiLCAiY29uc3RhbnRfZGVmYXVsdCIsICJjb25zdGFudF9kZWZhdWx0IiwgImNvbG9yIiwgInJnYiIsICJzdGFydCIsICJpIiwgIm5vdyIsICJpZCIsICJnZXQiLCAic2V0IiwgInN0YXJ0IiwgImVtcHR5IiwgImludGVycnVwdF9kZWZhdWx0IiwgImlkIiwgInNldCIsICJnZXQiLCAidHJhbnNpdGlvbiIsICJhdHRyUmVtb3ZlIiwgImF0dHJSZW1vdmVOUyIsICJhdHRyQ29uc3RhbnQiLCAiYXR0ckNvbnN0YW50TlMiLCAiYXR0ckZ1bmN0aW9uIiwgImF0dHJGdW5jdGlvbk5TIiwgImF0dHJfZGVmYXVsdCIsICJpZCIsICJnZXQiLCAiaWQiLCAic2V0IiwgImdldCIsICJpZCIsICJzZXQiLCAiZ2V0IiwgImlkIiwgInNldCIsICJmaWx0ZXJfZGVmYXVsdCIsICJtZXJnZV9kZWZhdWx0IiwgInRyYW5zaXRpb24iLCAiaWQiLCAic2V0IiwgIm9uX2RlZmF1bHQiLCAiZ2V0IiwgImlkIiwgInJlbW92ZV9kZWZhdWx0IiwgInNlbGVjdF9kZWZhdWx0IiwgImlkIiwgImdldCIsICJzZWxlY3RBbGxfZGVmYXVsdCIsICJpZCIsICJjaGlsZHJlbiIsICJpbmhlcml0IiwgImdldCIsICJTZWxlY3Rpb24iLCAic2VsZWN0aW9uX2RlZmF1bHQiLCAic3R5bGVSZW1vdmUiLCAic3R5bGVDb25zdGFudCIsICJzdHlsZUZ1bmN0aW9uIiwgImlkIiwgInJlbW92ZSIsICJzZXQiLCAic3R5bGVfZGVmYXVsdCIsICJ0ZXh0Q29uc3RhbnQiLCAidGV4dEZ1bmN0aW9uIiwgInRleHRfZGVmYXVsdCIsICJpbmhlcml0IiwgImdldCIsICJpZCIsICJzZXQiLCAiaWQiLCAic2VsZWN0X2RlZmF1bHQiLCAic2VsZWN0QWxsX2RlZmF1bHQiLCAiZmlsdGVyX2RlZmF1bHQiLCAibWVyZ2VfZGVmYXVsdCIsICJzZWxlY3Rpb25fZGVmYXVsdCIsICJvbl9kZWZhdWx0IiwgImF0dHJfZGVmYXVsdCIsICJzdHlsZV9kZWZhdWx0IiwgInRleHRfZGVmYXVsdCIsICJyZW1vdmVfZGVmYXVsdCIsICJpZCIsICJ0cmFuc2l0aW9uX2RlZmF1bHQiLCAiaW50ZXJydXB0X2RlZmF1bHQiLCAidHJhbnNpdGlvbl9kZWZhdWx0IiwgImNvbnN0YW50X2RlZmF1bHQiLCAidHJhbnNmb3JtIiwgImRpc3BhdGNoIiwgImlkZW50aXR5IiwgIm5vcHJvcGFnYXRpb24iLCAibm9ldmVudF9kZWZhdWx0IiwgImRlZmF1bHRGaWx0ZXIiLCAiaWRlbnRpdHkiLCAiZGVmYXVsdFRvdWNoYWJsZSIsICJ0cmFuc2Zvcm0iLCAiem9vbV9kZWZhdWx0IiwgImZpbHRlciIsICJ3aGVlbERlbHRhIiwgInNlbGVjdGlvbiIsICJleHRlbnQiLCAidHJhbnNpdGlvbiIsICJzZWxlY3RfZGVmYXVsdCIsICJub2V2ZW50X2RlZmF1bHQiLCAibm9wcm9wYWdhdGlvbiIsICJldmVudCIsICJjb25zdGFudF9kZWZhdWx0IiwgImlkIiwgInVzZVN0b3JlIiwgImNoaWxkcmVuIiwgInN0eWxlIiwgIlJlYWN0IiwgImlkIiwgInN0eWxlIiwgIlJlYWN0IiwgImlkIiwgIkNvbm5lY3Rpb25Nb2RlIiwgIlBhbk9uU2Nyb2xsTW9kZSIsICJTZWxlY3Rpb25Nb2RlIiwgIkNvbm5lY3Rpb25MaW5lVHlwZSIsICJNYXJrZXJUeXBlIiwgIlBvc2l0aW9uIiwgInN0eWxlIiwgIlJlYWN0IiwgInhEaXIiLCAieURpciIsICJkaXN0YW5jZSIsICJzZWxlY3Rpb24iLCAiZGlzdGFuY2UiLCAiZXZlbnQiLCAidHJhbnNmb3JtIiwgImhhbmRsZSIsICJpZCIsICJjaGlsZHJlbiIsICJ1c2VTdG9yZSIsICJSZWFjdCIsICJmaXRWaWV3IiwgImdldCIsICJpZGVudGl0eSIsICJjaGFuZ2UiLCAic2V0IiwgIm5vb3AiLCAiZ2V0Tm9kZXMiLCAic2V0Tm9kZXMiLCAic2V0RWRnZXMiLCAiem9vbV9kZWZhdWx0IiwgInNlbGVjdF9kZWZhdWx0IiwgInN0eWxlIiwgImVkZ2VzIiwgImNvbG9yIiwgIlN5bWJvbCIsICJjb250YWluZXJTdHlsZSIsICJhcHBseUNoYW5nZXMiLCAiaXRlbXMiLCAiaW1wb3J0X3JlYWN0IiwgImltcG9ydF9yZWFjdF9kb20iLCAiY2hpbGRyZW4iLCAiZWFjaF9kZWZhdWx0IiwgImNoaWxkcmVuIiwgImNoaWxkcmVuIiwgImNoaWxkcmVuIiwgInNvcnRfZGVmYXVsdCIsICJzdGFydCIsICJyb290IiwgIml0ZXJhdG9yX2RlZmF1bHQiLCAiY2hpbGRyZW4iLCAiY2hpbGRyZW4iLCAicm9vdCIsICJlYWNoX2RlZmF1bHQiLCAic29ydF9kZWZhdWx0IiwgIml0ZXJhdG9yX2RlZmF1bHQiLCAiaWQiLCAicm9vdCIsICJkIiwgImkiLCAibm9kZSIsICJjaGlsZHJlbiIsICJyb290IiwgIm1vZGVsIiwgImhpZXJhcmNoeSIsICJyb290IiwgImlkIiwgImZyb20iLCAidG8iLCAiaW1wb3J0X3JlYWN0IiwgImltcG9ydF9yZWFjdCIsICJSZWFjdCIsICJpbXBvcnRfcmVhY3QiLCAiaW1wb3J0X3JlYWN0IiwgIlJlYWN0IiwgInNlbGVjdGVkIiwgImVuYWJsZWQiLCAiaGFzRXJyb3JzIiwgImNoaWxkcmVuIiwgImhhc0Vycm9ycyIsICJSZWFjdCIsICJOb2RlIiwgInN0eWxlIiwgIlJlYWN0IiwgImNyb25zdHJ1ZSIsICJpbXBvcnRfcmVhY3QiLCAiaW1wb3J0X3JlYWN0IiwgIlJlYWN0IiwgImltcG9ydF9yZWFjdCIsICJSZWFjdCIsICJpbXBvcnRfcmVhY3QiLCAiZGlzcGF0Y2giLCAiaWQiLCAiUmVhY3QiLCAibm9kZXNfZGVmYXVsdCIsICJpbXBvcnRfcmVhY3QiLCAiUmVhY3QiLCAiaW1wb3J0X3JlYWN0IiwgIm1vZGVsIiwgImlkIiwgImNyZWF0ZSIsICJpZCIsICJwcm9jZXNzIiwgIm1vZGVsIiwgInRpbWVvdXQiLCAibW9kZWwiLCAiaWQiLCAiUmVhY3QiLCAic2VsZWN0aW9uIiwgIm1vZGVsIiwgImlkIiwgInBvc2l0aW9ucyIsICJoYW5kbGVOb2RlQ2xpY2siLCAibm9kZXNfZGVmYXVsdCIsICJzZWxlY3Rpb24iLCAiUmVhY3QiXQp9Cg==
