
# Build
Docker images will automatically be rebuilt and pushed to [Docker Hub of MSF OCG](https://hub.docker.com/r/msfocg) when binaries or configurations are modified. 

## Actions


### Build Docker images
### Update metadata and content

#### Update OpenMRS frontend
rebuild frontend image in Github Actions
docker compose --profile openmrs3 pull
docker compose --profile openmrs3 up d
#### Update OpenMRS backend
rebuild backend image in Github Actions
docker compose --profile openmrs3 pull
docker compose --profile openmrs3 up d
#### Update content
git pull
docker restart backent

### Update documentation

## Branches

<div>
<img src="/development-workflow.png" width="80%"/>
</div>

## Environments 

Dev, QA/UAT, Preprod, prod

| Environment | Dockerfile | Docker compose | Comment |
|---|---|---|---|
| Local | Modified to load custom frontend assets (logo, config json, etc.) | docker-compose.local.yml | Loading distro/configuration from the Docker host (local machine) when restarting the Docker backend, frontend must be rebuilt if modified (assets, spa modules, etc) |
| Dev/Staging/Prod | Modified to load custom frontend assets (logo, config json, etc.) | docker-compose.yml | Loading frontend and backend Docker images built in Github actions and pushed to Docker Hub |
